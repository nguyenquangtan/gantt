/*! For license information please see main.543ffc03.js.LICENSE.txt */
!function(){var t={375:function(t){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/codebase/",n(n.s=63)}([function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o=n(2),a={}.constructor.toString();t.exports={copy:function t(e){var n,i;if(e&&"object"==r(e))switch(!0){case o.isDate(e):i=new Date(e);break;case o.isArray(e):for(i=new Array(e.length),n=0;n<e.length;n++)i[n]=t(e[n]);break;default:for(n in i=function(t){return t.constructor.toString()!==a}(e)?Object.create(e):{},e)Object.prototype.hasOwnProperty.apply(e,[n])&&(i[n]=t(e[n]))}return i||e},defined:function(t){return void 0!==t},mixin:function(t,e,n){for(var r in e)(void 0===t[r]||n)&&(t[r]=e[r]);return t},uid:function(){return i||(i=(new Date).valueOf()),++i},bind:function(t,e){return t.bind?t.bind(e):function(){return t.apply(e,arguments)}},event:function(t,e,n,r){t.addEventListener?t.addEventListener(e,n,void 0!==r&&r):t.attachEvent&&t.attachEvent("on"+e,n)},eventRemove:function(t,e,n,r){t.removeEventListener?t.removeEventListener(e,n,void 0!==r&&r):t.detachEvent&&t.detachEvent("on"+e,n)}}},function(t,e){function n(t){var e=0,n=0,r=0,i=0;if(t.getBoundingClientRect){var o=t.getBoundingClientRect(),a=document.body,s=document.documentElement||document.body.parentNode||document.body,u=window.pageYOffset||s.scrollTop||a.scrollTop,l=window.pageXOffset||s.scrollLeft||a.scrollLeft,c=s.clientTop||a.clientTop||0,h=s.clientLeft||a.clientLeft||0;e=o.top+u-c,n=o.left+l-h,r=document.body.offsetWidth-o.right,i=document.body.offsetHeight-o.bottom}else{for(;t;)e+=parseInt(t.offsetTop,10),n+=parseInt(t.offsetLeft,10),t=t.offsetParent;r=document.body.offsetWidth-t.offsetWidth-n,i=document.body.offsetHeight-t.offsetHeight-e}return{y:Math.round(e),x:Math.round(n),width:t.offsetWidth,height:t.offsetHeight,right:Math.round(r),bottom:Math.round(i)}}function r(t){var e=!1,n=!1;if(window.getComputedStyle){var r=window.getComputedStyle(t,null);e=r.display,n=r.visibility}else t.currentStyle&&(e=t.currentStyle.display,n=t.currentStyle.visibility);return"none"!=e&&"hidden"!=n}function i(t){return!isNaN(t.getAttribute("tabindex"))&&1*t.getAttribute("tabindex")>=0}function o(t){return!{a:!0,area:!0}[t.nodeName.loLowerCase()]||!!t.getAttribute("href")}function a(t){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[t.nodeName.toLowerCase()]||!t.hasAttribute("disabled")}function s(t){if(!t)return"";var e=t.className||"";return e.baseVal&&(e=e.baseVal),e.indexOf||(e=""),c(e)}var u;function l(t){var e;return t.tagName?e=t:(e=(t=t||window.event).target||t.srcElement).shadowRoot&&t.composedPath&&(e=t.composedPath()[0]),e}function c(t){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(t)}function h(){return document.head.createShadowRoot||document.head.attachShadow}function f(t){if(!t)return document.body;if(!h())return document.body;for(;t.parentNode&&(t=t.parentNode);)if(t instanceof ShadowRoot)return t.host;return document.body}t.exports={getNodePosition:n,getFocusableNodes:function(t){for(var e=t.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),n=Array.prototype.slice.call(e,0),s=0;s<n.length;s++)n[s].$position=s;for(n.sort((function(t,e){return 0===t.tabIndex&&0!==e.tabIndex?1:0!==t.tabIndex&&0===e.tabIndex?-1:t.tabIndex===e.tabIndex?t.$position-e.$position:t.tabIndex<e.tabIndex?-1:1})),s=0;s<n.length;s++){var u=n[s];(i(u)||a(u)||o(u))&&r(u)||(n.splice(s,1),s--)}return n},getScrollSize:function(){var t=document.createElement("div");t.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},getClassName:s,addClassName:function(t,e){e&&-1===t.className.indexOf(e)&&(t.className+=" "+e)},removeClassName:function(t,e){e=e.split(" ");for(var n=0;n<e.length;n++){var r=new RegExp("\\s?\\b"+e[n]+"\\b(?![-_.])","");t.className=t.className.replace(r,"")}},insertNode:function(t,e){u||(u=document.createElement("div")),u.innerHTML=e;var n=u.firstChild;return t.appendChild(n),n},removeNode:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},getChildNodes:function(t,e){for(var n=t.childNodes,r=n.length,i=[],o=0;o<r;o++){var a=n[o];a.className&&-1!==a.className.indexOf(e)&&i.push(a)}return i},toNode:function(t){return"string"==typeof t?document.getElementById(t)||document.querySelector(t)||document.body:t||document.body},locateClassName:function(t,e,n){var r=l(t),i="";for(void 0===n&&(n=!0);r;){if(i=s(r)){var o=i.indexOf(e);if(o>=0){if(!n)return r;var a=0===o||!c(i.charAt(o-1)),u=o+e.length>=i.length||!c(i.charAt(o+e.length));if(a&&u)return r}}r=r.parentNode}return null},locateAttribute:function(t,e){if(e){for(var n=l(t);n;){if(n.getAttribute&&n.getAttribute(e))return n;n=n.parentNode}return null}},getTargetNode:l,getRelativeEventPosition:function(t,e){var r=document.documentElement,i=n(e);return{x:t.clientX+r.scrollLeft-r.clientLeft-i.x+e.scrollLeft,y:t.clientY+r.scrollTop-r.clientTop-i.y+e.scrollTop}},isChildOf:function(t,e){if(!t||!e)return!1;for(;t&&t!=e;)t=t.parentNode;return t===e},hasClass:function(t,e){return"classList"in t?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)},closest:function(t,e){if(t.closest)return t.closest(e);if(t.matches||t.msMatchesSelector||t.webkitMatchesSelector){var n=t;if(!document.documentElement.contains(n))return null;do{if((n.matches||n.msMatchesSelector||n.webkitMatchesSelector).call(n,e))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null}return console.error("Your browser is not supported"),null},getRootNode:f,hasShadowParent:function(t){return!!f(t)},isShadowDomSupported:h,getActiveElement:function(){var t=document.activeElement;return t.shadowRoot&&(t=t.shadowRoot.activeElement),t===document.body&&document.getSelection&&(t=document.getSelection().focusNode||document.body),t}}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r={second:1,minute:60,hour:3600,day:86400,week:604800,month:2592e3,quarter:7776e3,year:31536e3};function i(t){return!(!t||"object"!==n(t))&&!!(t.getFullYear&&t.getMonth&&t.getDate)}function o(t,e){var n=[];if(t.filter)return t.filter(e);for(var r=0;r<t.length;r++)e(t[r],r)&&(n[n.length]=t[r]);return n}function a(t){return 0===t}t.exports={getSecondsInUnit:function(t){return r[t]||r.hour},forEach:function(t,e){if(t.forEach)t.forEach(e);else for(var n=t.slice(),r=0;r<n.length;r++)e(n[r],r)},arrayMap:function(t,e){if(t.map)return t.map(e);for(var n=t.slice(),r=[],i=0;i<n.length;i++)r.push(e(n[i],i));return r},arrayIncludes:function(t,e){if(t.includes)return t.includes(e);for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},arrayFind:function(t,e){if(t.find)return t.find(e);for(var n=0;n<t.length;n++)if(e(t[n],n))return t[n]},arrayFilter:o,arrayDifference:function(t,e){return o(t,(function(t,n){return!e(t,n)}))},arraySome:function(t,e){if(0===t.length)return!1;for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},hashToArray:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e},sortArrayOfHash:function(t,e,n){var r=function(t,e){return t<e};t.sort((function(t,i){return t[e]===i[e]?0:n?r(t[e],i[e]):r(i[e],t[e])}))},throttle:function(t,e){var n=!1;return function(){n||(t.apply(null,arguments),n=!0,setTimeout((function(){n=!1}),e))}},isArray:function(t){return Array.isArray?Array.isArray(t):t&&void 0!==t.length&&t.pop&&t.push},isDate:i,isValidDate:function(t){return i(t)&&!isNaN(t.getTime())},isStringObject:function(t){return t&&"object"===n(t)&&"function String() { [native code] }"===Function.prototype.toString.call(t.constructor)},isNumberObject:function(t){return t&&"object"===n(t)&&"function Number() { [native code] }"===Function.prototype.toString.call(t.constructor)},isBooleanObject:function(t){return t&&"object"===n(t)&&"function Boolean() { [native code] }"===Function.prototype.toString.call(t.constructor)},delay:function(t,e){var n,r=function r(){r.$cancelTimeout(),r.$pending=!0;var i=Array.prototype.slice.call(arguments);n=setTimeout((function(){t.apply(this,i),r.$pending=!1}),e)};return r.$pending=!1,r.$cancelTimeout=function(){clearTimeout(n),r.$pending=!1},r.$execute=function(){var e=Array.prototype.slice.call(arguments);t.apply(this,e),r.$cancelTimeout()},r},objectKeys:function(t){if(Object.keys)return Object.keys(t);var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n},isEventable:function(t){return t.attachEvent&&t.detachEvent},replaceValidZeroId:function(t,e){return a(t)&&!a(e)&&(t="0"),t},checkZeroId:a,findBinary:function(t,e){for(var n,r,i,o=0,a=t.length-1;o<=a;)if(r=+t[n=Math.floor((o+a)/2)],i=+t[n-1],r<e)o=n+1;else{if(!(r>e)){for(;+t[n]==+t[n+1];)n++;return n}if(!isNaN(i)&&i<e)return n-1;a=n-1}return t.length-1}}},function(t,e){t.exports=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}},function(t,e){var n=function(){this._silent_mode=!1,this.listeners={}};n.prototype={_silentStart:function(){this._silent_mode=!0},_silentEnd:function(){this._silent_mode=!1}};var r=function(t){var e={},n=0,r=function(){var n=!0;for(var r in e){var i=e[r].apply(t,arguments);n=n&&i}return n};return r.addEvent=function(t,i){if("function"==typeof t){var o;if(i&&i.id?o=i.id:(o=n,n++),i&&i.once){var a=t;t=function(){a(),r.removeEvent(o)}}return e[o]=t,o}return!1},r.removeEvent=function(t){delete e[t]},r.clear=function(){e={}},r};t.exports=function(t){var e=new n;t.attachEvent=function(t,n,i){t="ev_"+t.toLowerCase(),e.listeners[t]||(e.listeners[t]=r(this)),i&&i.thisObject&&(n=n.bind(i.thisObject));var o=t+":"+e.listeners[t].addEvent(n,i);return i&&i.id&&(o=i.id),o},t.attachAll=function(t){this.attachEvent("listen_all",t)},t.callEvent=function(t,n){if(e._silent_mode)return!0;var r="ev_"+t.toLowerCase(),i=e.listeners;return i.ev_listen_all&&i.ev_listen_all.apply(this,[t].concat(n)),!i[r]||i[r].apply(this,n)},t.checkEvent=function(t){return!!e.listeners["ev_"+t.toLowerCase()]},t.detachEvent=function(t){if(t){var n=e.listeners;for(var r in n)n[r].removeEvent(t);var i=t.split(":");if(n=e.listeners,2===i.length){var o=i[0],a=i[1];n[o]&&n[o].removeEvent(a)}}},t.detachAllEvents=function(){for(var t in e.listeners)e.listeners[t].clear()}}},function(t,e){t.exports=function(t,e,n,r,i){var o=e.getItemIndexByTopPosition(i.y)||0,a=e.getItemIndexByTopPosition(i.y_end)||r.count();return{start:Math.max(0,o-1),end:Math.min(r.count(),a+1)}}},function(t,e){function n(){console.log("Method is not implemented.")}function r(){}r.prototype.render=n,r.prototype.set_value=n,r.prototype.get_value=n,r.prototype.focus=n,t.exports=function(t){return r}},function(t,e){var n="undefined"!=typeof window,r={isIE:n&&(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0),isIE6:n&&!XMLHttpRequest&&navigator.userAgent.indexOf("MSIE")>=0,isIE7:n&&navigator.userAgent.indexOf("MSIE 7.0")>=0&&navigator.userAgent.indexOf("Trident")<0,isIE8:n&&navigator.userAgent.indexOf("MSIE 8.0")>=0&&navigator.userAgent.indexOf("Trident")>=0,isOpera:n&&navigator.userAgent.indexOf("Opera")>=0,isChrome:n&&navigator.userAgent.indexOf("Chrome")>=0,isKHTML:n&&(navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0),isFF:n&&navigator.userAgent.indexOf("Firefox")>=0,isIPad:n&&navigator.userAgent.search(/iPad/gi)>=0,isEdge:n&&-1!=navigator.userAgent.indexOf("Edge"),isNode:!n||"undefined"==typeof navigator};t.exports=r},function(t,e){t.exports=function(t){var e=function(){};return e.prototype={show:function(t,e,n,r){},hide:function(){},set_value:function(t,e,n,r){this.get_input(r).value=t},get_value:function(t,e,n){return this.get_input(n).value||""},is_changed:function(t,e,n,r){var i=this.get_value(e,n,r);return i&&t&&i.valueOf&&t.valueOf?i.valueOf()!=t.valueOf():i!=t},is_valid:function(t,e,n,r){return!0},save:function(t,e,n){},get_input:function(t){return t.querySelector("input")},focus:function(t){var e=this.get_input(t);e&&(e.focus&&e.focus(),e.select&&e.select())}},e}},function(t,e){t.exports=function(t,e,n,r){return!!((r=e?e.config:r)&&r.placeholder_task&&n.exists(t))&&n.getItem(t).type===r.types.placeholder}},function(t,e,n){var r=n(7);t.exports=function(t){return r.isNode||!t.$root}},function(t,e,n){var r=n(0),i=n(4),o=n(1),a=function(){"use strict";function t(t,e,n,a){t&&(this.$container=o.toNode(t),this.$parent=t),this.$config=r.mixin(e,{headerHeight:33}),this.$gantt=a,this.$domEvents=a._createDomEventScope(),this.$id=e.id||"c"+r.uid(),this.$name="cell",this.$factory=n,i(this)}return t.prototype.destructor=function(){this.$parent=this.$container=this.$view=null,this.$gantt.$services.getService("mouseEvents").detach("click","gantt_header_arrow",this._headerClickHandler),this.$domEvents.detachAll(),this.callEvent("onDestroy",[]),this.detachAllEvents()},t.prototype.cell=function(t){return null},t.prototype.scrollTo=function(t,e){var n=this.$view;this.$config.html&&(n=this.$view.firstChild),1*t==t&&(n.scrollLeft=t),1*e==e&&(n.scrollTop=e)},t.prototype.clear=function(){this.getNode().innerHTML="",this.getNode().className="gantt_layout_content",this.getNode().style.padding="0"},t.prototype.resize=function(t){if(this.$parent)return this.$parent.resize(t);!1===t&&(this.$preResize=!0);var e=this.$container,n=e.offsetWidth,r=e.offsetHeight,i=this.getSize();e===document.body&&(n=document.body.offsetWidth,r=document.body.offsetHeight),n<i.minWidth&&(n=i.minWidth),n>i.maxWidth&&(n=i.maxWidth),r<i.minHeight&&(r=i.minHeight),r>i.maxHeight&&(r=i.maxHeight),this.setSize(n,r),this.$preResize,this.$preResize=!1},t.prototype.hide=function(){this._hide(!0),this.resize()},t.prototype.show=function(t){this._hide(!1),t&&this.$parent&&this.$parent.show(),this.resize()},t.prototype._hide=function(t){if(!0===t&&this.$view.parentNode)this.$view.parentNode.removeChild(this.$view);else if(!1===t&&!this.$view.parentNode){var e=this.$parent.cellIndex(this.$id);this.$parent.moveView(this,e)}this.$config.hidden=t},t.prototype.$toHTML=function(t,e){void 0===t&&(t=""),e=[e||"",this.$config.css||""].join(" ");var n=this.$config,r="";return n.raw?t="string"==typeof n.raw?n.raw:"":(t||(t="<div class='gantt_layout_content' "+(e?" class='"+e+"' ":"")+" >"+(n.html||"")+"</div>"),n.header&&(r="<div class='gantt_layout_header'>"+(n.canCollapse?"<div class='gantt_layout_header_arrow'></div>":"")+"<div class='gantt_layout_header_content'>"+n.header+"</div></div>")),"<div class='gantt_layout_cell "+e+"' data-cell-id='"+this.$id+"'>"+r+t+"</div>"},t.prototype.$fill=function(t,e){this.$view=t,this.$parent=e,this.init()},t.prototype.getNode=function(){return this.$view.querySelector("gantt_layout_cell")||this.$view},t.prototype.init=function(){var t=this;this._headerClickHandler=function(e){o.locateAttribute(e,"data-cell-id")==t.$id&&t.toggle()},this.$gantt.$services.getService("mouseEvents").delegate("click","gantt_header_arrow",this._headerClickHandler),this.callEvent("onReady",[])},t.prototype.toggle=function(){this.$config.collapsed=!this.$config.collapsed,this.resize()},t.prototype.getSize=function(){var t={height:this.$config.height||0,width:this.$config.width||0,gravity:this.$config.gravity||1,minHeight:this.$config.minHeight||0,minWidth:this.$config.minWidth||0,maxHeight:this.$config.maxHeight||1e11,maxWidth:this.$config.maxWidth||1e11};if(this.$config.collapsed){var e="x"===this.$config.mode;t[e?"width":"height"]=t[e?"maxWidth":"maxHeight"]=this.$config.headerHeight}return t},t.prototype.getContentSize=function(){var t=this.$lastSize.contentX;t!==1*t&&(t=this.$lastSize.width);var e=this.$lastSize.contentY;return e!==1*e&&(e=this.$lastSize.height),{width:t,height:e}},t.prototype._getBorderSizes=function(){var t={top:0,right:0,bottom:0,left:0,horizontal:0,vertical:0};return this._currentBorders&&(this._currentBorders[this._borders.left]&&(t.left=1,t.horizontal++),this._currentBorders[this._borders.right]&&(t.right=1,t.horizontal++),this._currentBorders[this._borders.top]&&(t.top=1,t.vertical++),this._currentBorders[this._borders.bottom]&&(t.bottom=1,t.vertical++)),t},t.prototype.setSize=function(t,e){this.$view.style.width=t+"px",this.$view.style.height=e+"px";var n=this._getBorderSizes(),r=e-n.vertical,i=t-n.horizontal;this.$lastSize={x:t,y:e,contentX:i,contentY:r},this.$config.header?this._sizeHeader():this._sizeContent()},t.prototype._borders={left:"gantt_layout_cell_border_left",right:"gantt_layout_cell_border_right",top:"gantt_layout_cell_border_top",bottom:"gantt_layout_cell_border_bottom"},t.prototype._setBorders=function(t,e){e||(e=this);var n=e.$view;for(var r in this._borders)o.removeClassName(n,this._borders[r]);"string"==typeof t&&(t=[t]);var i={};for(r=0;r<t.length;r++)o.addClassName(n,t[r]),i[t[r]]=!0;e._currentBorders=i},t.prototype._sizeContent=function(){var t=this.$view.childNodes[0];t&&"gantt_layout_content"==t.className&&(t.style.height=this.$lastSize.contentY+"px")},t.prototype._sizeHeader=function(){var t=this.$lastSize;t.contentY-=this.$config.headerHeight;var e=this.$view.childNodes[0],n=this.$view.childNodes[1],r="x"===this.$config.mode;if(this.$config.collapsed)if(n.style.display="none",r){e.className="gantt_layout_header collapsed_x",e.style.width=t.y+"px";var i=Math.floor(t.y/2-t.x/2);e.style.transform="rotate(90deg) translate("+i+"px, "+i+"px)",n.style.display="none"}else e.className="gantt_layout_header collapsed_y";else e.className=r?"gantt_layout_header":"gantt_layout_header vertical",e.style.width="auto",e.style.transform="",n.style.display="",n.style.height=t.contentY+"px";e.style.height=this.$config.headerHeight+"px"},t}();t.exports=a},function(t,e,n){(function(e){var n;n="undefined"!=typeof window?window:e,t.exports=n}).call(this,n(13))},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}t.exports=r},function(t,e){t.exports=function(t){return t.config.smart_rendering&&t._smart_render}},function(t,e,n){var r=n(3),i=n(43);t.exports=function(t){var e=n(6)(t);function o(){return e.apply(this,arguments)||this}return r(o,e),o.prototype.render=function(t){var e="<div class='gantt_cal_ltext' style='height:"+(t.height||"23")+"px;'>";return(e+=i.getHtmlSelect(t.options,[{key:"style",value:"width:100%;"}]))+"</div>"},o.prototype.set_value=function(t,e,n,r){var i=t.firstChild;!i._dhx_onchange&&r.onchange&&(i.onchange=r.onchange,i._dhx_onchange=!0),void 0===e&&(e=(i.options[0]||{}).value),i.value=e||""},o.prototype.get_value=function(t){return t.firstChild.value},o.prototype.focus=function(e){var n=e.firstChild;t._focus(n,!0)},o}},function(t,e,n){},,function(t,e,n){var r=n(0);t.exports=function(t){var e=t.date,n=t.$services;return{getSum:function(t,e,n){void 0===n&&(n=t.length-1),void 0===e&&(e=0);for(var r=0,i=e;i<=n;i++)r+=t[i];return r},setSumWidth:function(t,e,n,r){var i=e.width;void 0===r&&(r=i.length-1),void 0===n&&(n=0);var o=r-n+1;if(!(n>i.length-1||o<=0||r>i.length-1)){var a=t-this.getSum(i,n,r);this.adjustSize(a,i,n,r),this.adjustSize(-a,i,r+1),e.full_width=this.getSum(i)}},splitSize:function(t,e){for(var n=[],r=0;r<e;r++)n[r]=0;return this.adjustSize(t,n),n},adjustSize:function(t,e,n,r){n||(n=0),void 0===r&&(r=e.length-1);for(var i=r-n+1,o=this.getSum(e,n,r),a=n;a<=r;a++){var s=Math.floor(t*(o?e[a]/o:1/i));o-=e[a],t-=s,i--,e[a]+=s}e[e.length-1]+=t},sortScales:function(t){function n(t,n){var r=new Date(1970,0,1);return e.add(r,n,t)-r}t.sort((function(t,e){return n(t.unit,t.step)<n(e.unit,e.step)?1:n(t.unit,t.step)>n(e.unit,e.step)?-1:0}));for(var r=0;r<t.length;r++)t[r].index=r},_isLegacyMode:function(e){var n=e||t.config;return n.scale_unit||n.date_scale||n.subscales},_prepareScaleObject:function(e){var n=e.format;return n||(n=e.template||e.date||"%d %M"),"string"==typeof n&&(n=t.date.date_to_str(n)),{unit:e.unit||"day",step:e.step||1,format:n,css:e.css}},primaryScale:function(e){var r,i=n.getService("templateLoader"),o=this._isLegacyMode(e),a=e||t.config;if(o)i.initTemplate("date_scale",void 0,void 0,a,t.config.templates),r={unit:t.config.scale_unit,step:t.config.step,template:t.templates.date_scale,date:t.config.date_scale,css:t.templates.scale_cell_class};else{var s=a.scales[0];r={unit:s.unit,step:s.step,template:s.template,format:s.format,date:s.date,css:s.css||t.templates.scale_cell_class}}return this._prepareScaleObject(r)},getSubScales:function(e){var n=this._isLegacyMode(e),r=e||t.config;return(n?r.subscales||[]:r.scales.slice(1)).map(function(t){return this._prepareScaleObject(t)}.bind(this))},prepareConfigs:function(t,e,n,r,i,o,a){for(var s=this.splitSize(r,t.length),u=n,l=[],c=t.length-1;c>=0;c--){var h=c==t.length-1,f=this.initScaleConfig(t[c],i,o);h&&this.processIgnores(f),this.initColSizes(f,e,u,s[c]),this.limitVisibleRange(f),h&&(u=f.full_width),l.unshift(f)}for(c=0;c<l.length-1;c++)this.alineScaleColumns(l[l.length-1],l[c]);for(c=0;c<l.length;c++)a&&this.reverseScale(l[c]),this.setPosSettings(l[c]);return l},reverseScale:function(t){t.width=t.width.reverse(),t.trace_x=t.trace_x.reverse();var e=t.trace_indexes;t.trace_indexes={},t.trace_index_transition={},t.rtl=!0;for(var n=0;n<t.trace_x.length;n++)t.trace_indexes[t.trace_x[n].valueOf()]=n,t.trace_index_transition[e[t.trace_x[n].valueOf()]]=n;return t},setPosSettings:function(t){for(var e=0,n=t.trace_x.length;e<n;e++)t.left.push((t.width[e-1]||0)+(t.left[e-1]||0))},_ignore_time_config:function(n,r){if(t.config.skip_off_time){for(var i=!0,o=n,a=0;a<r.step;a++)a&&(o=e.add(n,a,r.unit)),i=i&&!this.isWorkTime(o,r.unit);return i}return!1},processIgnores:function(t){t.ignore_x={},t.display_count=t.count},initColSizes:function(t,n,r,i){var o=r;t.height=i;var a=void 0===t.display_count?t.count:t.display_count;a||(a=1),t.col_width=Math.floor(o/a),n&&t.col_width<n&&(t.col_width=n,o=t.col_width*a),t.width=[];for(var s=t.ignore_x||{},u=0;u<t.trace_x.length;u++)if(s[t.trace_x[u].valueOf()]||t.display_count==t.count)t.width[u]=0;else{var l=1;"month"==t.unit&&(l=Math.round((e.add(t.trace_x[u],t.step,t.unit)-t.trace_x[u])/864e5)),t.width[u]=l}this.adjustSize(o-this.getSum(t.width),t.width),t.full_width=this.getSum(t.width)},initScaleConfig:function(t,e,n){var i=r.mixin({count:0,col_width:0,full_width:0,height:0,width:[],left:[],trace_x:[],trace_indexes:{},min_date:new Date(e),max_date:new Date(n)},t);return this.eachColumn(t.unit,t.step,e,n,(function(t){i.count++,i.trace_x.push(new Date(t)),i.trace_indexes[t.valueOf()]=i.trace_x.length-1})),i.trace_x_ascending=i.trace_x.slice(),i},iterateScales:function(t,e,n,r,i){for(var o=e.trace_x,a=t.trace_x,s=n||0,u=r||a.length-1,l=0,c=1;c<o.length;c++){var h=t.trace_indexes[+o[c]];void 0!==h&&h<=u&&(i&&i.apply(this,[l,c,s,h]),s=h,l=c)}},alineScaleColumns:function(t,e,n,r){this.iterateScales(t,e,n,r,(function(n,r,i,o){var a=this.getSum(t.width,i,o-1);this.getSum(e.width,n,r-1)!=a&&this.setSumWidth(a,e,n,r-1)}))},eachColumn:function(n,r,i,o,a){var s=new Date(i),u=new Date(o);e[n+"_start"]&&(s=e[n+"_start"](s));var l=new Date(s);for(+l>=+u&&(u=e.add(l,r,n));+l<+u;){a.call(this,new Date(l));var c=l.getTimezoneOffset();l=e.add(l,r,n),l=t._correct_dst_change(l,c,r,n),e[n+"_start"]&&(l=e[n+"_start"](l))}},limitVisibleRange:function(t){var n=t.trace_x,r=t.width.length-1,i=0;if(+n[0]<+t.min_date&&0!=r){var o=Math.floor(t.width[0]*((n[1]-t.min_date)/(n[1]-n[0])));i+=t.width[0]-o,t.width[0]=o,n[0]=new Date(t.min_date)}var a=n.length-1,s=n[a],u=e.add(s,t.step,t.unit);if(+u>+t.max_date&&a>0&&(o=t.width[a]-Math.floor(t.width[a]*((u-t.max_date)/(u-s))),i+=t.width[a]-o,t.width[a]=o),i){for(var l=this.getSum(t.width),c=0,h=0;h<t.width.length;h++){var f=Math.floor(i*(t.width[h]/l));t.width[h]+=f,c+=f}this.adjustSize(i-c,t.width)}}}}},function(t,e,n){var r=n(1),i=n(0),o=n(4),a=n(132),s=n(38),u=n(134),l=n(135).default,c=function(t,e,n,r){this.$config=i.mixin({},e||{}),this.$gantt=r,this.$parent=t,o(this),this.$state={},i.mixin(this,s(this))};c.prototype={init:function(t){var e=this.$gantt,r=e._waiAria.gridAttrString(),i=e._waiAria.gridDataAttrString(),o=this.$getConfig(),s=o.reorder_grid_columns||!1;void 0!==this.$config.reorder_grid_columns&&(s=this.$config.reorder_grid_columns),t.innerHTML="<div class='gantt_grid' style='height:inherit;width:inherit;' "+r+"></div>",this.$grid=t.childNodes[0],this.$grid.innerHTML="<div class='gantt_grid_scale' "+e._waiAria.gridScaleRowAttrString()+"></div><div class='gantt_grid_data' "+i+"></div>",this.$grid_scale=this.$grid.childNodes[0],this.$grid_data=this.$grid.childNodes[1];var c=o[this.$config.bind+"_attribute"];if(!c&&this.$config.bind&&(c="data-"+this.$config.bind+"-id"),this.$config.item_attribute=c||null,!this.$config.layers){var h=this._createLayerConfig();this.$config.layers=h}var f=a(e,this);f.init(),this._renderHeaderResizers=f.doOnRender,this._mouseDelegates=n(20)(e),u(e,this).init(),this._addLayers(this.$gantt),this._initEvents(),s&&(this._columnDND=new l(e,this),this._columnDND.init()),this.callEvent("onReady",[])},_validateColumnWidth:function(t,e){var n=t[e];if(n&&"*"!=n){var r=this.$gantt,i=1*n;isNaN(i)?r.assert(!1,"Wrong "+e+" value of column "+t.name):t[e]=i}},setSize:function(t,e){this.$config.width=this.$state.width=t,this.$config.height=this.$state.height=e;for(var n,r=this.getGridColumns(),i=0,o=(c=this.$getConfig()).grid_elastic_columns,a=0,s=r.length;a<s;a++)this._validateColumnWidth(r[a],"min_width"),this._validateColumnWidth(r[a],"max_width"),this._validateColumnWidth(r[a],"width"),i+=1*r[a].width;if(!isNaN(i)&&this.$config.scrollable||(i=n=this._setColumnsWidth(t+1)),this.$config.scrollable&&o&&!isNaN(i)){var u=0;r.forEach((function(t){u+=t.min_width||c.min_grid_column_width}));var l=Math.max(u,t);i=this._setColumnsWidth(l),n=t}this.$config.scrollable?(this.$grid_scale.style.width=i+"px",this.$grid_data.style.width=i+"px"):(this.$grid_scale.style.width="inherit",this.$grid_data.style.width="inherit"),this.$config.width-=1;var c=this.$getConfig();n!==t&&(void 0!==n?(c.grid_width=n,this.$config.width=n-1):isNaN(i)||(this._setColumnsWidth(i),c.grid_width=i,this.$config.width=i-1));var h=Math.max(this.$state.height-c.scale_height,0);this.$grid_data.style.height=h+"px",this.refresh()},getSize:function(){var t=this.$getConfig(),e=this.$config.rowStore?this.getTotalHeight():0,n=this._getGridWidth();return{x:this.$state.width,y:this.$state.height,contentX:this.isVisible()?n:0,contentY:this.isVisible()?t.scale_height+e:0,scrollHeight:this.isVisible()?e:0,scrollWidth:this.isVisible()?n:0}},_bindStore:function(){if(this.$config.bind){var t=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=t,t&&!t._gridCacheAttached){var e=this;t._gridCacheAttached=t.attachEvent("onBeforeFilter",(function(){e._resetTopPositionHeight()}))}}},_unbindStore:function(){if(this.$config.bind){var t=this.$gantt.getDatastore(this.$config.bind);t&&t._gridCacheAttached&&(t.detachEvent(t._gridCacheAttached),t._gridCacheAttached=!1)}},refresh:function(){this._bindStore(),this._resetTopPositionHeight(),this._resetHeight(),this._initSmartRenderingPlaceholder(),this._calculateGridWidth(),this._renderGridHeader()},getViewPort:function(){var t=this.$config.scrollLeft||0,e=this.$config.scrollTop||0,n=this.$config.height||0,r=this.$config.width||0;return{y:e,y_end:e+n,x:t,x_end:t+r,height:n,width:r}},scrollTo:function(t,e){if(this.isVisible()){var n=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*t==t&&(this.$config.scrollLeft=this.$state.scrollLeft=this.$grid.scrollLeft=t,n=!0),1*e==e&&(this.$config.scrollTop=this.$state.scrollTop=this.$grid_data.scrollTop=e,n=!0),n&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},getColumnIndex:function(t,e){for(var n=this.$getConfig().columns,r=0,i=0;i<n.length;i++)if(e&&n[i].hide&&r++,n[i].name==t)return i-r;return null},getColumn:function(t){var e=this.getColumnIndex(t);return null===e?null:this.$getConfig().columns[e]},getGridColumns:function(){return this.$getConfig().columns.slice()},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$grid.offsetWidth},_createLayerConfig:function(){var t=this.$gantt,e=this;return[{renderer:t.$ui.layers.gridLine(),container:this.$grid_data,filter:[function(){return e.isVisible()}]},{renderer:t.$ui.layers.gridTaskRowResizer(),container:this.$grid_data,append:!0,filter:[function(){return t.config.resize_rows}]}]},_addLayers:function(t){if(this.$config.bind){this._taskLayers=[];var e=this,n=this.$gantt.$services.getService("layers"),r=n.getDataRender(this.$config.bind);r||(r=n.createDataRender({name:this.$config.bind,defaultContainer:function(){return e.$grid_data}}));for(var i=this.$config.layers,o=0;i&&o<i.length;o++){var a=i[o];a.view=this;var s=r.addLayer(a);this._taskLayers.push(s)}this._bindStore(),this._initSmartRenderingPlaceholder()}},_refreshPlaceholderOnStoreUpdate:function(t){var e=this.$getConfig(),n=this.$config.rowStore;if(n&&null===t&&this.isVisible()&&e.smart_rendering){var r;if(this.$config.scrollY){var i=this.$gantt.$ui.getView(this.$config.scrollY);i&&(r=i.getScrollState().scrollSize)}if(r||(r=n?this.getTotalHeight():0),r){this.$rowsPlaceholder&&this.$rowsPlaceholder.parentNode&&this.$rowsPlaceholder.parentNode.removeChild(this.$rowsPlaceholder);var o=this.$rowsPlaceholder=document.createElement("div");o.style.visibility="hidden",o.style.height=r+"px",o.style.width="1px",this.$grid_data.appendChild(o)}}},_initSmartRenderingPlaceholder:function(){var t=this.$config.rowStore;t&&(this._initSmartRenderingPlaceholder=function(){},this._staticBgHandler=t.attachEvent("onStoreUpdated",i.bind(this._refreshPlaceholderOnStoreUpdate,this)))},_initEvents:function(){var t=this.$gantt;this._mouseDelegates.delegate("click","gantt_close",t.bind((function(t,e,n){var i=this.$config.rowStore;if(!i)return!0;var o=r.locateAttribute(t,this.$config.item_attribute);return o&&i.close(o.getAttribute(this.$config.item_attribute)),!1}),this),this.$grid),this._mouseDelegates.delegate("click","gantt_open",t.bind((function(t,e,n){var i=this.$config.rowStore;if(!i)return!0;var o=r.locateAttribute(t,this.$config.item_attribute);return o&&i.open(o.getAttribute(this.$config.item_attribute)),!1}),this),this.$grid)},_clearLayers:function(t){var e=this.$gantt.$services.getService("layers").getDataRender(this.$config.bind);if(this._taskLayers)for(var n=0;n<this._taskLayers.length;n++)e.removeLayer(this._taskLayers[n]);this._taskLayers=[]},_getColumnWidth:function(t,e,n){var r=t.min_width||e.min_grid_column_width,i=Math.max(n,r||10);return t.max_width&&(i=Math.min(i,t.max_width)),i},_checkGridColumnMinWidthLimits:function(t,e){for(var n=0,r=t.length;n<r;n++){var i=1*t[n].width;!t[n].min_width&&i<e.min_grid_column_width&&(t[n].min_width=i)}},_getGridWidthLimits:function(){for(var t=this.$getConfig(),e=this.getGridColumns(),n=0,r=0,i=0;i<e.length;i++)n+=e[i].min_width?e[i].min_width:t.min_grid_column_width,void 0!==r&&(r=e[i].max_width?r+e[i].max_width:void 0);return this._checkGridColumnMinWidthLimits(e,t),[n,r]},_setColumnsWidth:function(t,e){var n=this.$getConfig(),r=this.getGridColumns(),i=0,o=t;e=window.isNaN(e)?-1:e;for(var a=0,s=r.length;a<s;a++)i+=1*r[a].width;if(window.isNaN(i))for(this._calculateGridWidth(),i=0,a=0,s=r.length;a<s;a++)i+=1*r[a].width;var u=o-i,l=0;for(a=0;a<e+1;a++)l+=r[a].width;for(i-=l,a=e+1;a<r.length;a++){var c=r[a],h=Math.round(u*(c.width/i));u<0?c.min_width&&c.width+h<c.min_width?h=c.min_width-c.width:!c.min_width&&n.min_grid_column_width&&c.width+h<n.min_grid_column_width&&(h=n.min_grid_column_width-c.width):c.max_width&&c.width+h>c.max_width&&(h=c.max_width-c.width),i-=c.width,c.width+=h,u-=h}for(var f=u>0?1:-1;u>0&&1===f||u<0&&-1===f;){var d=u;for(a=e+1;a<r.length;a++){var p;if((p=r[a].width+f)==this._getColumnWidth(r[a],n,p)&&(u-=f,r[a].width=p),!u)break}if(d==u)break}return u&&e>-1&&(p=r[e].width+u)==this._getColumnWidth(r[e],n,p)&&(r[e].width=p),this._getColsTotalWidth()},_getColsTotalWidth:function(){for(var t=this.getGridColumns(),e=0,n=0;n<t.length;n++){var r=parseFloat(t[n].width);if(window.isNaN(r))return!1;e+=r}return e},_calculateGridWidth:function(){for(var t=this.$getConfig(),e=this.getGridColumns(),n=0,r=[],i=[],o=0;o<e.length;o++){var a=parseFloat(e[o].width);window.isNaN(a)&&(a=t.min_grid_column_width||10,r.push(o)),i[o]=a,n+=a}var s=this._getGridWidth()+1;if(t.autofit||r.length){var u=s-n;if(t.autofit&&!t.grid_elastic_columns)for(o=0;o<i.length;o++){var l=Math.round(u/(i.length-o));i[o]+=l,(c=this._getColumnWidth(e[o],t,i[o]))!=i[o]&&(l=c-i[o],i[o]=c),u-=l}else if(r.length)for(o=0;o<r.length;o++){l=Math.round(u/(r.length-o));var c,h=r[o];i[h]+=l,(c=this._getColumnWidth(e[h],t,i[h]))!=i[h]&&(l=c-i[h],i[h]=c),u-=l}for(o=0;o<i.length;o++)e[o].width=i[o]}else{var f=s!=n;this.$config.width=n-1,t.grid_width=n,f&&this.$parent._setContentSize(this.$config.width,null)}},_renderGridHeader:function(){var t=this.$gantt,e=this.$getConfig(),n=this.$gantt.locale,r=this.$gantt.templates,i=this.getGridColumns();e.rtl&&(i=i.reverse());for(var o=[],a=0,s=n.labels,u=e.scale_height-1,l=0;l<i.length;l++){var c=l==i.length-1,h=i[l];h.name||(h.name=t.uid()+"");var f=1*h.width,d=this._getGridWidth();c&&d>a+f&&(h.width=f=d-a),a+=f;var p=t._sort&&h.name==t._sort.name?"<div class='gantt_sort gantt_"+t._sort.direction+"'></div>":"",g=["gantt_grid_head_cell","gantt_grid_head_"+h.name,c?"gantt_last_cell":"",r.grid_header_class(h.name,h)].join(" "),v="width:"+(f-(c?1:0))+"px;",_=h.label||s["column_"+h.name]||s[h.name];_=_||"";var m="<div class='"+g+"' style='"+v+"' "+t._waiAria.gridScaleCellAttrString(h,_)+" data-column-id='"+h.name+"' column_id='"+h.name+"' data-column-name='"+h.name+"' data-column-index='"+l+"'>"+_+p+"</div>";o.push(m)}this.$grid_scale.style.height=e.scale_height+"px",this.$grid_scale.style.lineHeight=u+"px",this.$grid_scale.innerHTML=o.join(""),this._renderHeaderResizers&&this._renderHeaderResizers()},_getGridWidth:function(){return this.$config.width},destructor:function(){this._clearLayers(this.$gantt),this._mouseDelegates&&(this._mouseDelegates.destructor(),this._mouseDelegates=null),this._unbindStore(),this.$grid=null,this.$grid_scale=null,this.$grid_data=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},t.exports=c},function(t,e){t.exports=function(t){var e=[];return{delegate:function(n,r,i,o){e.push([n,r,i,o]),t.$services.getService("mouseEvents").delegate(n,r,i,o)},destructor:function(){for(var n=t.$services.getService("mouseEvents"),r=0;r<e.length;r++){var i=e[r];n.detach(i[0],i[1],i[2],i[3])}e=[]}}}},function(t,e){t.exports=function(t,e,n){return{top:e.getItemTop(t.id),height:e.getItemHeight(t.id),left:0,right:1/0}}},function(t,e,n){var r=n(18),i=n(4),o=n(0),a=n(2),s=n(38),u=n(211),l=function(t,e,n,a){this.$config=o.mixin({},e||{}),this.$scaleHelper=new r(a),this.$gantt=a,this._posFromDateCache={},this._timelineDragScroll=null,o.mixin(this,s(this)),i(this)};l.prototype={init:function(t){t.innerHTML+="<div class='gantt_task' style='width:inherit;height:inherit;'></div>",this.$task=t.childNodes[0],this.$task.innerHTML="<div class='gantt_task_scale'></div><div class='gantt_data_area'></div>",this.$task_scale=this.$task.childNodes[0],this.$task_data=this.$task.childNodes[1],this.$task_data.innerHTML="<div class='gantt_task_bg'></div><div class='gantt_links_area'></div><div class='gantt_bars_area'></div>",this.$task_bg=this.$task_data.childNodes[0],this.$task_links=this.$task_data.childNodes[1],this.$task_bars=this.$task_data.childNodes[2],this._tasks={col_width:0,width:[],full_width:0,trace_x:[],rendered:{}};var e=this.$getConfig(),n=e[this.$config.bind+"_attribute"],r=e[this.$config.bindLinks+"_attribute"];!n&&this.$config.bind&&(n="data-"+this.$config.bind+"-id"),!r&&this.$config.bindLinks&&(r="data-"+this.$config.bindLinks+"-id"),this.$config.item_attribute=n||null,this.$config.link_attribute=r||null;var i=this._createLayerConfig();this.$config.layers||(this.$config.layers=i.tasks),this.$config.linkLayers||(this.$config.linkLayers=i.links),this._attachLayers(this.$gantt),this.callEvent("onReady",[]),this.$gantt.ext.dragTimeline&&(this._timelineDragScroll=this.$gantt.ext.dragTimeline.create(),this._timelineDragScroll.attach(this))},setSize:function(t,e){var n=this.$getConfig();if(1*t===t&&(this.$config.width=t),1*e===e){this.$config.height=e;var r=Math.max(this.$config.height-n.scale_height);this.$task_data.style.height=r+"px"}this.refresh(),this.$task_bg.style.backgroundImage="",n.smart_rendering&&this.$config.rowStore?this.$task_bg.style.height=this.getTotalHeight()+"px":this.$task_bg.style.height="";for(var i=this._tasks,o=this.$task_data.childNodes,a=0,s=o.length;a<s;a++){var u=o[a];u.hasAttribute("data-layer")&&u.style&&(u.style.width=i.full_width+"px")}},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$task.offsetWidth},getSize:function(){var t=this.$getConfig(),e=this.$config.rowStore?this.getTotalHeight():0,n=this.isVisible()?this._tasks.full_width:0;return{x:this.isVisible()?this.$config.width:0,y:this.isVisible()?this.$config.height:0,contentX:this.isVisible()?n:0,contentY:this.isVisible()?t.scale_height+e:0,scrollHeight:this.isVisible()?e:0,scrollWidth:this.isVisible()?n:0}},scrollTo:function(t,e){if(this.isVisible()){var n=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*e===e&&(this.$config.scrollTop=e,this.$task_data.scrollTop=this.$config.scrollTop,n=!0),1*t===t&&(this.$task.scrollLeft=t,this.$config.scrollLeft=this.$task.scrollLeft,this._refreshScales(),n=!0),n&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},_refreshScales:function(){if(this.isVisible()&&this.$getConfig().smart_scales){var t=this.getViewPort(),e=this._scales;this.$task_scale.innerHTML=this._getScaleChunkHtml(e,t.x,t.x_end)}},getViewPort:function(){var t=this.$config.scrollLeft||0,e=this.$config.scrollTop||0,n=this.$config.height||0,r=this.$config.width||0;return{y:e,y_end:e+n,x:t,x_end:t+r,height:n,width:r}},_createLayerConfig:function(){var t=this,e=function(){return t.isVisible()};return{tasks:[{expose:!0,renderer:this.$gantt.$ui.layers.taskBar(),container:this.$task_bars,filter:[e,function(t,e){return!e.hide_bar}]},{renderer:this.$gantt.$ui.layers.taskSplitBar(),filter:[e],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskRollupBar(),filter:[e],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskBg(),container:this.$task_bg,filter:[e]}],links:[{expose:!0,renderer:this.$gantt.$ui.layers.link(),container:this.$task_links,filter:[e]}]}},_attachLayers:function(t){this._taskLayers=[],this._linkLayers=[];var e=this,n=this.$gantt.$services.getService("layers");if(this.$config.bind){this._bindStore();var r=n.getDataRender(this.$config.bind);r||(r=n.createDataRender({name:this.$config.bind,defaultContainer:function(){return e.$task_data}})),r.container=function(){return e.$task_data};for(var i=this.$config.layers,o=0;i&&o<i.length;o++){"string"==typeof(l=i[o])&&(l=this.$gantt.$ui.layers[l]()),("function"==typeof l||l&&l.render&&l.update)&&(l={renderer:l}),l.view=this;var a=r.addLayer(l);this._taskLayers.push(a),l.expose&&(this._taskRenderer=r.getLayer(a))}this._initStaticBackgroundRender()}if(this.$config.bindLinks){e.$config.linkStore=e.$gantt.getDatastore(e.$config.bindLinks);var s=n.getDataRender(this.$config.bindLinks);s||(s=n.createDataRender({name:this.$config.bindLinks,defaultContainer:function(){return e.$task_data}}));var u=this.$config.linkLayers;for(o=0;u&&o<u.length;o++){var l;"string"==typeof l&&(l=this.$gantt.$ui.layers[l]()),(l=u[o]).view=this;var c=s.addLayer(l);this._taskLayers.push(c),u[o].expose&&(this._linkRenderer=s.getLayer(c))}}},_initStaticBackgroundRender:function(){var t=this,e=u.create(),n=t.$config.rowStore;n&&(this._staticBgHandler=n.attachEvent("onStoreUpdated",(function(n,r,i){if(null===n&&t.isVisible()){var o=t.$getConfig();if(o.static_background){var a=t.$gantt.getDatastore(t.$config.bind),s=t.$task_bg_static;s||((s=document.createElement("div")).className="gantt_task_bg",t.$task_bg_static=s,t.$task_bg.nextSibling?t.$task_data.insertBefore(s,t.$task_bg.nextSibling):t.$task_data.appendChild(s)),a&&e.render(s,o,t.getScale(),t.getTotalHeight(),t.getItemHeight(r?r.id:null))}else o.static_background&&t.$task_bg_static&&t.$task_bg_static.parentNode&&t.$task_bg_static.parentNode.removeChild(t.$task_bg_static)}})),this.attachEvent("onDestroy",(function(){e.destroy()})),this._initStaticBackgroundRender=function(){})},_clearLayers:function(t){var e=this.$gantt.$services.getService("layers"),n=e.getDataRender(this.$config.bind),r=e.getDataRender(this.$config.bindLinks);if(this._taskLayers)for(var i=0;i<this._taskLayers.length;i++)n.removeLayer(this._taskLayers[i]);if(this._linkLayers)for(i=0;i<this._linkLayers.length;i++)r.removeLayer(this._linkLayers[i]);this._linkLayers=[],this._taskLayers=[]},_render_tasks_scales:function(){var t=this.$getConfig(),e="",n=0,r=0,i=this.$gantt.getState();if(this.isVisible()){var o=this.$scaleHelper,a=this._getScales();r=t.scale_height;var s=this.$config.width;"x"!=t.autosize&&"xy"!=t.autosize||(s=Math.max(t.autosize_min_width,0));var u=o.prepareConfigs(a,t.min_column_width,s,r-1,i.min_date,i.max_date,t.rtl),l=this._tasks=u[u.length-1];this._scales=u,this._posFromDateCache={},e=this._getScaleChunkHtml(u,0,this.$config.width),n=l.full_width+"px",r+="px"}this.$task_scale.style.height=r,this.$task_data.style.width=this.$task_scale.style.width=n,this.$task_scale.innerHTML=e},_getScaleChunkHtml:function(t,e,n){for(var r=[],i=this.$gantt.templates.scale_row_class,o=0;o<t.length;o++){var a="gantt_scale_line",s=i(t[o]);s&&(a+=" "+s),r.push('<div class="'+a+'" style="height:'+t[o].height+"px;position:relative;line-height:"+t[o].height+'px">'+this._prepareScaleHtml(t[o],e,n)+"</div>")}return r.join("")},_prepareScaleHtml:function(t,e,n){var r=this.$getConfig(),i=this.$gantt.templates,o=[],s=null,u=null,l=t.format||t.template||t.date;"string"==typeof l&&(l=this.$gantt.date.date_to_str(l));var c=0,h=t.count;!r.smart_scales||isNaN(e)||isNaN(n)||(c=a.findBinary(t.left,e),h=a.findBinary(t.left,n)+1),u=t.css||function(){},!t.css&&r.inherit_scale_class&&(u=i.scale_cell_class);for(var f=c;f<h&&t.trace_x[f];f++){s=new Date(t.trace_x[f]);var d=l.call(this,s),p=t.width[f],g=t.height,v=t.left[f],_="",m="",y="";if(p){_="width:"+p+"px;height:"+g+"px;"+(r.smart_scales?"position:absolute;left:"+v+"px":""),y="gantt_scale_cell"+(f==t.count-1?" gantt_last_cell":""),(m=u.call(this,s))&&(y+=" "+m);var b="<div class='"+y+"'"+this.$gantt._waiAria.getTimelineCellAttr(d)+" style='"+_+"'>"+d+"</div>";o.push(b)}}return o.join("")},dateFromPos:function(t){var e=this._tasks;if(t<0||t>e.full_width||!e.full_width)return null;var n=a.findBinary(this._tasks.left,t),r=this._tasks.left[n],i=e.width[n]||e.col_width,o=0;i&&(o=(t-r)/i,e.rtl&&(o=1-o));var s=0;return o&&(s=this._getColumnDuration(e,e.trace_x[n])),new Date(e.trace_x[n].valueOf()+Math.round(o*s))},posFromDate:function(t){if(!this.isVisible())return 0;if(!t)return 0;var e=String(t.valueOf());if(void 0!==this._posFromDateCache[e])return this._posFromDateCache[e];var n=this.columnIndexByDate(t);this.$gantt.assert(n>=0,"Invalid day index");var r=Math.floor(n),i=n%1,o=this._tasks.left[Math.min(r,this._tasks.width.length-1)];r==this._tasks.width.length&&(o+=this._tasks.width[this._tasks.width.length-1]),i&&(r<this._tasks.width.length?o+=this._tasks.width[r]*(i%1):o+=1);var a=Math.round(o);return this._posFromDateCache[e]=a,Math.round(a)},_getNextVisibleColumn:function(t,e,n){for(var r=+e[t],i=t;n[r];)r=+e[++i];return i},_getPrevVisibleColumn:function(t,e,n){for(var r=+e[t],i=t;n[r];)r=+e[--i];return i},_getClosestVisibleColumn:function(t,e,n){var r=this._getNextVisibleColumn(t,e,n);return e[r]||(r=this._getPrevVisibleColumn(t,e,n)),r},columnIndexByDate:function(t){var e=new Date(t).valueOf(),n=this._tasks.trace_x_ascending,r=this._tasks.ignore_x,i=this.$gantt.getState();if(e<=i.min_date)return this._tasks.rtl?n.length:0;if(e>=i.max_date)return this._tasks.rtl?0:n.length;var o=a.findBinary(n,e),s=this._getClosestVisibleColumn(o,n,r),u=n[s],l=this._tasks.trace_index_transition;if(!u)return l?l[0]:0;var c=(t-n[s])/this._getColumnDuration(this._tasks,n[s]);return l?l[s]+(1-c):s+c},getItemPosition:function(t,e,n){var r,i,o;return this._tasks.rtl?(i=this.posFromDate(e||t.start_date),r=this.posFromDate(n||t.end_date)):(r=this.posFromDate(e||t.start_date),i=this.posFromDate(n||t.end_date)),o=Math.max(i-r,0),{left:r,top:this.getItemTop(t.id),height:this.getBarHeight(t.id),width:o,rowHeight:this.getItemHeight(t.id)}},getBarHeight:function(t,e){var n=this.$getConfig(),r=this.$config.rowStore.getItem(t),i=r.task_height||r.bar_height||n.bar_height||n.task_height,o=this.getItemHeight(t);return"full"==i&&(i=o-(n.task_height_offset||5)),i=Math.min(i,o),e&&(i=Math.round(i/Math.sqrt(2))),Math.max(i,0)},getScale:function(){return this._tasks},_getScales:function(){var t=this.$getConfig(),e=this.$scaleHelper,n=[e.primaryScale(t)].concat(e.getSubScales(t));return e.sortScales(n),n},_getColumnDuration:function(t,e){return this.$gantt.date.add(e,t.step,t.unit)-e},_bindStore:function(){if(this.$config.bind){var t=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=t,t&&!t._timelineCacheAttached){var e=this;t._timelineCacheAttached=t.attachEvent("onBeforeFilter",(function(){e._resetTopPositionHeight()}))}}},_unbindStore:function(){if(this.$config.bind){var t=this.$gantt.getDatastore(this.$config.bind);t&&t._timelineCacheAttached&&(t.detachEvent(t._timelineCacheAttached),t._timelineCacheAttached=!1)}},refresh:function(){this._bindStore(),this.$config.bindLinks&&(this.$config.linkStore=this.$gantt.getDatastore(this.$config.bindLinks)),this._resetTopPositionHeight(),this._resetHeight(),this._initStaticBackgroundRender(),this._render_tasks_scales()},destructor:function(){var t=this.$gantt;this._clearLayers(t),this._unbindStore(),this.$task=null,this.$task_scale=null,this.$task_data=null,this.$task_bg=null,this.$task_links=null,this.$task_bars=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.$config.linkStore&&(this.$config.linkStore=null),this._timelineDragScroll&&(this._timelineDragScroll.destructor(),this._timelineDragScroll=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},t.exports=l},function(t,e){t.exports=function(t,e,n,r,i){if(!t.start_date||!t.end_date)return null;var o=n.getItemTop(t.id),a=n.getItemHeight(t.id);if(o>e.y_end||o+a<e.y)return!1;var s=n.posFromDate(t.start_date),u=n.posFromDate(t.end_date),l=Math.min(s,u)-200,c=Math.max(s,u)+200;return!(l>e.x_end||c<e.x)}},function(t,e){t.exports=function(t){function e(e,o,a){if(!t._isAllowedUnscheduledTask(e)&&t._isTaskInTimelineLimits(e)){var s=o.getItemPosition(e),u=a,l=o.$getTemplates(),c=t.getTaskType(e.type),h=o.getBarHeight(e.id,c==u.types.milestone),f=0;c==u.types.milestone&&(f=(h-s.height)/2);var d=Math.floor((o.getItemHeight(e.id)-h)/2);c==u.types.milestone&&(s.left-=Math.round(h/2),s.width=h);var p=document.createElement("div"),g=Math.round(s.width);o.$config.item_attribute&&(p.setAttribute(o.$config.item_attribute,e.id),p.setAttribute(o.$config.bind+"_id",e.id)),u.show_progress&&c!=u.types.milestone&&function(e,n,r,i,o){var a=1*e.progress||0;r=Math.max(r-2,0);var s=document.createElement("div"),u=Math.round(r*a);u=Math.min(r,u),e.progressColor&&(s.style.backgroundColor=e.progressColor,s.style.opacity=1),s.style.width=u+"px",s.className="gantt_task_progress",s.innerHTML=o.progress_text(e.start_date,e.end_date,e),i.rtl&&(s.style.position="absolute",s.style.right="0px");var l=document.createElement("div");if(l.className="gantt_task_progress_wrapper",l.appendChild(s),n.appendChild(l),t.config.drag_progress&&!t.isReadonly(e)){var c=document.createElement("div"),h=u;i.rtl&&(h=r-u),c.style.left=h+"px",c.className="gantt_task_progress_drag",s.appendChild(c),n.appendChild(c)}}(e,p,g,u,l);var v=function(e,n,r){var i=document.createElement("div");return t.getTaskType(e.type)!=t.config.types.milestone?i.innerHTML=r.task_text(e.start_date,e.end_date,e):t.getTaskType(e.type)==t.config.types.milestone&&n&&(i.style.height=i.style.width=n+"px"),i.className="gantt_task_content",i}(e,g,l);e.textColor&&(v.style.color=e.textColor),p.appendChild(v);var _=function(e,n,r,i){var o=i.$getConfig(),a=[e];n&&a.push(n);var s=t.getState(),u=t.getTask(r);if(t.getTaskType(u.type)==o.types.milestone?a.push("gantt_milestone"):t.getTaskType(u.type)==o.types.project&&a.push("gantt_project"),a.push("gantt_bar_"+t.getTaskType(u.type)),t.isSummaryTask(u)&&a.push("gantt_dependent_task"),t.isSplitTask(u)&&(o.open_split_tasks&&!u.$open||!o.open_split_tasks)&&a.push("gantt_split_parent"),o.select_task&&t.isSelectedTask(r)&&a.push("gantt_selected"),r==s.drag_id&&(a.push("gantt_drag_"+s.drag_mode),s.touch_drag&&a.push("gantt_touch_"+s.drag_mode)),s.link_source_id==r&&a.push("gantt_link_source"),s.link_target_id==r&&a.push("gantt_link_target"),o.highlight_critical_path&&t.isCriticalTask&&t.isCriticalTask(u)&&a.push("gantt_critical_task"),s.link_landing_area&&s.link_target_id&&s.link_source_id&&s.link_target_id!=s.link_source_id&&(s.link_target_id==r||s.link_source_id==r)){var l=s.link_source_id,c=s.link_from_start,h=s.link_to_start,f="";f=t.isLinkAllowed(l,r,c,h)?h?"link_start_allow":"link_finish_allow":h?"link_start_deny":"link_finish_deny",a.push(f)}return a.join(" ")}("gantt_task_line",l.task_class(e.start_date,e.end_date,e),e.id,o);(e.color||e.progressColor||e.textColor)&&(_+=" gantt_task_inline_color"),s.width<20&&(_+=" gantt_thin_task"),p.className=_;var m=["left:"+s.left+"px","top:"+(d+s.top)+"px","height:"+(c==u.types.milestone?s.height:h)+"px","line-height:"+Math.max(h<30?h-2:h,0)+"px","width:"+g+"px"];e.color&&m.push("background-color:"+e.color),e.textColor&&m.push("color:"+e.textColor),p.style.cssText=m.join(";");var y=function(t,e,i,o){var a="gantt_left "+r(!e.rtl,t),s=null;return o&&(s={type:"marginRight",value:o}),n(t,i.leftside_text,a,s)}(e,u,l,f);y&&p.appendChild(y),(y=function(t,e,i,o){var a="gantt_right "+r(!!e.rtl,t),s=null;return o&&(s={type:"marginLeft",value:o}),n(t,i.rightside_text,a,s)}(e,u,l,f))&&p.appendChild(y),t._waiAria.setTaskBarAttr(e,p);var b=t.getState();return t.isReadonly(e)||(u.drag_resize&&!t.isSummaryTask(e)&&c!=u.types.milestone&&i(p,"gantt_task_drag",e,(function(t){var e=document.createElement("div");return e.className=t,e}),u),u.drag_links&&u.show_links&&i(p,"gantt_link_control",e,(function(t){var e=document.createElement("div");e.className=t,e.style.cssText=["height:"+h+"px","line-height:"+h+"px"].join(";");var n=document.createElement("div");n.className="gantt_link_point";var r=!1;return b.link_source_id&&u.touch&&(r=!0),n.style.display=r?"block":"",e.appendChild(n),e}),u,f)),p}}function n(t,e,n,r){if(!e)return null;var i=e(t.start_date,t.end_date,t);if(!i)return null;var o=document.createElement("div");return o.className="gantt_side_content "+n,o.innerHTML=i,r&&(o.style[r.type]=Math.abs(r.value)+"px"),o}function r(e,n){var r=function(e){return e?{$source:[t.config.links.start_to_start],$target:[t.config.links.start_to_start,t.config.links.finish_to_start]}:{$source:[t.config.links.finish_to_start,t.config.links.finish_to_finish],$target:[t.config.links.finish_to_finish]}}(e);for(var i in r)for(var o=n[i],a=0;a<o.length;a++)for(var s=t.getLink(o[a]),u=0;u<r[i].length;u++)if(s.type==r[i][u])return"gantt_link_crossing";return""}function i(e,n,r,i,o,a){var s,u=t.getState();+r.start_date>=+u.min_date&&((s=i([n,o.rtl?"task_right":"task_left","task_start_date"].join(" "))).setAttribute("data-bind-property","start_date"),a&&(s.style.marginLeft=a+"px"),e.appendChild(s)),+r.end_date<=+u.max_date&&((s=i([n,o.rtl?"task_left":"task_right","task_end_date"].join(" "))).setAttribute("data-bind-property","end_date"),a&&(s.style.marginRight=a+"px"),e.appendChild(s))}return function(n,r,i){var o=(i=r.$getConfig()).type_renderers[t.getTaskType(n.type)],a=e;return o?o.call(t,n,(function(e){return a.call(t,e,r,i)}),r):a.call(t,n,r,i)}}},function(t,e){t.exports=function(t,e,n){return{top:e.getItemTop(t.id),height:e.getItemHeight(t.id),left:0,right:1/0}}},function(t,e){t.exports=function(t,e){var n=0,r=t.left.length-1;if(e)for(var i=0;i<t.left.length;i++){var o=t.left[i];if(o<e.x&&(n=i),o>e.x_end){r=i;break}}return{start:n,end:r}}},function(t,e,n){var r=n(14);t.exports=function(t,e,n,i){var o=e.width[t];if(o<=0)return!1;if(!i.config.smart_rendering||r(i))return!0;var a=e.left[t]-o,s=e.left[t]+o;return a<=n.x_end&&s>=n.x}},function(t,e,n){var r=n(0);t.exports={createDropTargetObject:function(t){var e={targetParent:null,targetIndex:0,targetId:null,child:!1,nextSibling:!1,prevSibling:!1};return t&&r.mixin(e,t,!0),e},nextSiblingTarget:function(t,e,n){var r=this.createDropTargetObject();return r.targetId=e,r.nextSibling=!0,r.targetParent=n.getParent(r.targetId),r.targetIndex=n.getBranchIndex(r.targetId),(n.getParent(t)!=r.targetParent||r.targetIndex<n.getBranchIndex(t))&&(r.targetIndex+=1),r},prevSiblingTarget:function(t,e,n){var r=this.createDropTargetObject();return r.targetId=e,r.prevSibling=!0,r.targetParent=n.getParent(r.targetId),r.targetIndex=n.getBranchIndex(r.targetId),n.getParent(t)==r.targetParent&&r.targetIndex>n.getBranchIndex(t)&&(r.targetIndex-=1),r},firstChildTarget:function(t,e,n){var r=this.createDropTargetObject();return r.targetId=e,r.targetParent=r.targetId,r.targetIndex=0,r.child=!0,r},lastChildTarget:function(t,e,n){var r=n.getChildren(e),i=this.createDropTargetObject();return i.targetId=r[r.length-1],i.targetParent=e,i.targetIndex=r.length,i.nextSibling=!0,i}}},function(t,e,n){var r=n(0);t.exports=function t(e,n){e=e||r.event,n=n||r.eventRemove;var i=[],o={attach:function(t,n,r,o){i.push({element:t,event:n,callback:r,capture:o}),e(t,n,r,o)},detach:function(t,e,r,o){n(t,e,r,o);for(var a=0;a<i.length;a++){var s=i[a];s.element===t&&s.event===e&&s.callback===r&&s.capture===o&&(i.splice(a,1),a--)}},detachAll:function(){for(var t=i.slice(),e=0;e<t.length;e++){var n=t[e];o.detach(n.element,n.event,n.callback,n.capture),o.detach(n.element,n.event,n.callback,void 0),o.detach(n.element,n.event,n.callback,!1),o.detach(n.element,n.event,n.callback,!0)}i.splice(0,i.length)},extend:function(){return t(this.event,this.eventRemove)}};return o}},function(t,e){t.exports=function(t,e){if(!e)return!0;if(t._on_timeout)return!1;var n=Math.ceil(1e3/e);return n<2||(setTimeout((function(){delete t._on_timeout}),n),t._on_timeout=!0,!0)}},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&d())}function d(){if(!c){var t=s(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){var r=n(33),i=n(0),o=n(4),a=n(9),s=function(t){return this.pull={},this.$initItem=t.initItem,this.visibleOrder=r.$create(),this.fullOrder=r.$create(),this._skip_refresh=!1,this._filterRule=null,this._searchVisibleOrder={},this._indexRangeCache={},this._getItemsCache=null,this.$config=t,o(this),this._attachDataChange((function(){return this._indexRangeCache={},this._getItemsCache=null,!0})),this};s.prototype={_attachDataChange:function(t){this.attachEvent("onClearAll",t),this.attachEvent("onBeforeParse",t),this.attachEvent("onBeforeUpdate",t),this.attachEvent("onBeforeDelete",t),this.attachEvent("onBeforeAdd",t),this.attachEvent("onParse",t),this.attachEvent("onBeforeFilter",t)},_parseInner:function(t){for(var e=null,n=[],r=0,o=t.length;r<o;r++)e=t[r],this.$initItem&&(this.$config.copyOnParse()&&(e=i.copy(e)),e=this.$initItem(e)),this.callEvent("onItemLoading",[e])&&(this.pull.hasOwnProperty(e.id)||this.fullOrder.push(e.id),n.push(e),this.pull[e.id]=e);return n},parse:function(t){this.isSilent()||this.callEvent("onBeforeParse",[t]);var e=this._parseInner(t);this.isSilent()||(this.refresh(),this.callEvent("onParse",[e]))},getItem:function(t){return this.pull[t]},_updateOrder:function(t){t.call(this.visibleOrder),t.call(this.fullOrder)},updateItem:function(t,e){if(i.defined(e)||(e=this.getItem(t)),!this.isSilent()&&!1===this.callEvent("onBeforeUpdate",[e.id,e]))return!1;i.mixin(this.pull[t],e,!0),this.isSilent()||(this.callEvent("onAfterUpdate",[e.id,e]),this.callEvent("onStoreUpdated",[e.id,e,"update"]))},_removeItemInner:function(t){this._updateOrder((function(){this.$remove(t)})),delete this.pull[t]},removeItem:function(t){var e=this.getItem(t);if(!this.isSilent()&&!1===this.callEvent("onBeforeDelete",[e.id,e]))return!1;this.callEvent("onAfterDeleteConfirmed",[e.id,e]),this._removeItemInner(t),this.isSilent()||(this.filter(),this.callEvent("onAfterDelete",[e.id,e]),this.callEvent("onStoreUpdated",[e.id,e,"delete"]))},_addItemInner:function(t,e){if(this.exists(t.id))this.silent((function(){this.updateItem(t.id,t)}));else{var n=this.visibleOrder,r=n.length;(!i.defined(e)||e<0)&&(e=r),e>r&&(e=Math.min(n.length,e))}this.pull[t.id]=t,this.isSilent()||this._updateOrder((function(){-1===this.$find(t.id)&&this.$insertAt(t.id,e)})),this.filter()},isVisible:function(t){return this.visibleOrder.$find(t)>-1},getVisibleItems:function(){return this.getIndexRange()},addItem:function(t,e){return i.defined(t.id)||(t.id=i.uid()),this.$initItem&&(t=this.$initItem(t)),!(!this.isSilent()&&!1===this.callEvent("onBeforeAdd",[t.id,t]))&&(this._addItemInner(t,e),this.isSilent()||(this.callEvent("onAfterAdd",[t.id,t]),this.callEvent("onStoreUpdated",[t.id,t,"add"])),t.id)},_changeIdInner:function(t,e){this.pull[t]&&(this.pull[e]=this.pull[t]);var n=this._searchVisibleOrder[t];this.pull[e].id=e,this._updateOrder((function(){this[this.$find(t)]=e})),this._searchVisibleOrder[e]=n,delete this._searchVisibleOrder[t],delete this.pull[t]},changeId:function(t,e){this._changeIdInner(t,e),this.callEvent("onIdChange",[t,e])},exists:function(t){return!!this.pull[t]},_moveInner:function(t,e){var n=this.getIdByIndex(t);this._updateOrder((function(){this.$removeAt(t),this.$insertAt(n,Math.min(this.length,e))}))},move:function(t,e){var n=this.getIdByIndex(t),r=this.getItem(n);this._moveInner(t,e),this.isSilent()||this.callEvent("onStoreUpdated",[r.id,r,"move"])},clearAll:function(){this.$destroyed||(this.silent((function(){this.unselect()})),this.pull={},this.visibleOrder=r.$create(),this.fullOrder=r.$create(),this.isSilent()||(this.callEvent("onClearAll",[]),this.refresh()))},silent:function(t,e){var n=!1;this.isSilent()&&(n=!0),this._skip_refresh=!0,t.call(e||this),n||(this._skip_refresh=!1)},isSilent:function(){return!!this._skip_refresh},arraysEqual:function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},refresh:function(t,e){var n,r;if(!this.isSilent()&&(t&&(n=this.getItem(t)),r=t?[t,n,"paint"]:[null,null,null],!1!==this.callEvent("onBeforeStoreUpdate",r))){var i=this._quick_refresh&&!this._mark_recompute;if(this._mark_recompute=!1,t){if(!e&&!i){var o=this.visibleOrder;this.filter(),this.arraysEqual(o,this.visibleOrder)||(t=void 0)}}else i||this.filter();r=t?[t,n,"paint"]:[null,null,null],this.callEvent("onStoreUpdated",r)}},count:function(){return this.fullOrder.length},countVisible:function(){return this.visibleOrder.length},sort:function(t){},serialize:function(){},eachItem:function(t){for(var e=0;e<this.fullOrder.length;e++){var n=this.getItem(this.fullOrder[e]);t.call(this,n)}},find:function(t){var e=[];return this.eachItem((function(n){t(n)&&e.push(n)})),e},filter:function(t){this.isSilent()||this.callEvent("onBeforeFilter",[]),this.callEvent("onPreFilter",[]);var e=r.$create(),n=[];this.eachItem((function(t){this.callEvent("onFilterItem",[t.id,t])&&(a(t.id,null,this,this._ganttConfig)?n.push(t.id):e.push(t.id))}));for(var i=0;i<n.length;i++)e.push(n[i]);for(this.visibleOrder=e,this._searchVisibleOrder={},i=0;i<this.visibleOrder.length;i++)this._searchVisibleOrder[this.visibleOrder[i]]=i;this.isSilent()||this.callEvent("onFilter",[])},getIndexRange:function(t,e){var n=Math.min(e||1/0,this.countVisible()-1),r=t||0,i=r+"-"+n;if(this._indexRangeCache[i])return this._indexRangeCache[i].slice();for(var o=[],a=r;a<=n;a++)o.push(this.getItem(this.visibleOrder[a]));return this._indexRangeCache[i]=o.slice(),o},getItems:function(){if(this._getItemsCache)return this._getItemsCache.slice();var t=[];for(var e in this.pull)t.push(this.pull[e]);return this._getItemsCache=t.slice(),t},getIdByIndex:function(t){return this.visibleOrder[t]},getIndexById:function(t){var e=this._searchVisibleOrder[t];return void 0===e&&(e=-1),e},_getNullIfUndefined:function(t){return void 0===t?null:t},getFirst:function(){return this._getNullIfUndefined(this.visibleOrder[0])},getLast:function(){return this._getNullIfUndefined(this.visibleOrder[this.visibleOrder.length-1])},getNext:function(t){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(t)+1])},getPrev:function(t){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(t)-1])},destructor:function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.$destroyed=!0,this.pull=null,this.$initItem=null,this.visibleOrder=null,this.fullOrder=null,this._skip_refresh=null,this._filterRule=null,this._searchVisibleOrder=null,this._indexRangeCache={}}},t.exports=s},function(t,e,n){var r=n(0),i={$create:function(t){return r.mixin(t||[],this)},$removeAt:function(t,e){t>=0&&this.splice(t,e||1)},$remove:function(t){this.$removeAt(this.$find(t))},$insertAt:function(t,e){if(e||0===e){var n=this.splice(e,this.length-e);this[e]=t,this.push.apply(this,n)}else this.push(t)},$find:function(t){for(var e=0;e<this.length;e++)if(t==this[e])return e;return-1},$each:function(t,e){for(var n=0;n<this.length;n++)t.call(e||this,this[n])},$map:function(t,e){for(var n=0;n<this.length;n++)this[n]=t.call(e||this,this[n]);return this},$filter:function(t,e){for(var n=0;n<this.length;n++)t.call(e||this,this[n])||(this.splice(n,1),n--);return this}};t.exports=i},function(t,e,n){var r=n(33),i=n(0),o=n(2),a=n(32),s=n(9),u=n(2).replaceValidZeroId;a.default&&(a=a.default);var l=function(t){a.apply(this,[t]),this._branches={},this.pull={},this.$initItem=function(e){var n=e;t.initItem&&(n=t.initItem(n));var r=this.getItem(e.id);return r&&r.parent!=n.parent&&this.move(n.id,n.$index||-1,n.parent||this._ganttConfig.root_id),n},this.$parentProperty=t.parentProperty||"parent","function"!=typeof t.rootId?this.$getRootId=function(t){return function(){return t}}(t.rootId||0):this.$getRootId=t.rootId,this.$openInitially=t.openInitially,this.visibleOrder=r.$create(),this.fullOrder=r.$create(),this._searchVisibleOrder={},this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,this._skip_refresh=!1,this._ganttConfig=null,t.getConfig&&(this._ganttConfig=t.getConfig());var e={},n={},i={},o={},s=!1;return this._attachDataChange((function(){return this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,!0})),this.attachEvent("onPreFilter",(function(){this._indexRangeCache={},this._eachItemMainRangeCache=null,e={},n={},i={},o={},s=!1,this.eachItem((function(t){var r=this.getParent(t.id);t.$open&&!1!==i[r]?i[t.id]=!0:i[t.id]=!1,this._isSplitItem(t)&&(s=!0,e[t.id]=!0,n[t.id]=!0),s&&n[r]&&(n[t.id]=!0),i[r]||void 0===i[r]?o[t.id]=!0:o[t.id]=!1}))})),this.attachEvent("onFilterItem",(function(t,r){var i=!1;this._ganttConfig&&(i=this._ganttConfig.open_split_tasks);var a=o[r.id];return s&&(a&&n[r.id]&&!e[r.id]&&(a=!!i),n[r.id]&&!e[r.id]&&(r.$split_subtask=!0)),r.$expanded_branch=!!o[r.id],!!a})),this.attachEvent("onFilter",(function(){e={},n={},i={},o={}})),this};l.prototype=i.mixin({_buildTree:function(t){for(var e=null,n=this.$getRootId(),r=0,o=t.length;r<o;r++)e=t[r],this.setParent(e,u(this.getParent(e),n)||n);for(r=0,o=t.length;r<o;r++)e=t[r],this._add_branch(e),e.$level=this.calculateItemLevel(e),e.$local_index=this.getBranchIndex(e.id),i.defined(e.$open)||(e.$open=i.defined(e.open)?e.open:this.$openInitially());this._updateOrder()},_isSplitItem:function(t){return"split"==t.render&&this.hasChild(t.id)},parse:function(t){this._skip_refresh||this.callEvent("onBeforeParse",[t]);var e=this._parseInner(t);this._buildTree(e),this.filter(),this._skip_refresh||this.callEvent("onParse",[e])},_addItemInner:function(t,e){var n=this.getParent(t);i.defined(n)||(n=this.$getRootId(),this.setParent(t,n));var r=this.getIndexById(n)+Math.min(Math.max(e,0),this.visibleOrder.length);1*r!==r&&(r=void 0),a.prototype._addItemInner.call(this,t,r),this.setParent(t,n),t.hasOwnProperty("$rendered_parent")&&this._move_branch(t,t.$rendered_parent),this._add_branch(t,e)},_changeIdInner:function(t,e){var n=this.getChildren(t),r=this._searchVisibleOrder[t];a.prototype._changeIdInner.call(this,t,e);var i=this.getParent(e);this._replace_branch_child(i,t,e),this._branches[t]&&(this._branches[e]=this._branches[t]);for(var o=0;o<n.length;o++){var s=this.getItem(n[o]);s[this.$parentProperty]=e,s.$rendered_parent=e}this._searchVisibleOrder[e]=r,delete this._branches[t]},_traverseBranches:function(t,e){i.defined(e)||(e=this.$getRootId());var n=this._branches[e];if(n)for(var r=0;r<n.length;r++){var o=n[r];t.call(this,o),this._branches[o]&&this._traverseBranches(t,o)}},_updateOrder:function(t){this.fullOrder=r.$create(),this._traverseBranches((function(t){this.fullOrder.push(t)})),t&&a.prototype._updateOrder.call(this,t)},_removeItemInner:function(t){var e=[];this.eachItem((function(t){e.push(t)}),t),e.push(this.getItem(t));for(var n=0;n<e.length;n++)this._move_branch(e[n],this.getParent(e[n]),null),a.prototype._removeItemInner.call(this,e[n].id),this._move_branch(e[n],this.getParent(e[n]),null)},move:function(t,e,n){var r=arguments[3],o=(this._ganttConfig||{}).root_id||0;if(r=u(r,o)){if(r===t)return;n=this.getParent(r),e=this.getBranchIndex(r)}if(t!=n){i.defined(n)||(n=this.$getRootId());var a=this.getItem(t),l=this.getParent(a.id),c=this.getChildren(n);if(-1==e&&(e=c.length+1),l==n&&this.getBranchIndex(t)==e)return;if(!1===this.callEvent("onBeforeItemMove",[t,n,e]))return!1;for(var h=[],f=0;f<c.length;f++)s(c[f],null,this,this._ganttConfig)&&(h.push(c[f]),c.splice(f,1),f--);this._replace_branch_child(l,t);var d=(c=this.getChildren(n))[e];(d=u(d,o))?c=c.slice(0,e).concat([t]).concat(c.slice(e)):c.push(t),h.length&&(c=c.concat(h)),this.setParent(a,n),this._branches[n]=c;var p=this.calculateItemLevel(a)-a.$level;a.$level+=p,this.eachItem((function(t){t.$level+=p}),a.id,this),this._moveInner(this.getIndexById(t),this.getIndexById(n)+e),this.callEvent("onAfterItemMove",[t,n,e]),this.refresh()}},getBranchIndex:function(t){for(var e=this.getChildren(this.getParent(t)),n=0;n<e.length;n++)if(e[n]==t)return n;return-1},hasChild:function(t){var e=this._branches[t];return e&&e.length},getChildren:function(t){return this._branches[t]||r.$create()},isChildOf:function(t,e){if(!this.exists(t))return!1;if(e===this.$getRootId())return!0;if(!this.hasChild(e))return!1;var n=this.getItem(t),r=this.getParent(t);if(this.getItem(e).$level>=n.$level)return!1;for(;n&&this.exists(r);){if((n=this.getItem(r))&&n.id==e)return!0;r=this.getParent(n)}return!1},getSiblings:function(t){if(!this.exists(t))return r.$create();var e=this.getParent(t);return this.getChildren(e)},getNextSibling:function(t){for(var e=this.getSiblings(t),n=0,r=e.length;n<r;n++)if(e[n]==t){var i=e[n+1];return 0===i&&n>0&&(i="0"),i||null}return null},getPrevSibling:function(t){for(var e=this.getSiblings(t),n=0,r=e.length;n<r;n++)if(e[n]==t){var i=e[n-1];return 0===i&&n>0&&(i="0"),i||null}return null},getParent:function(t){var e=null;return(e=void 0!==t.id?t:this.getItem(t))?e[this.$parentProperty]:this.$getRootId()},clearAll:function(){this._branches={},a.prototype.clearAll.call(this)},calculateItemLevel:function(t){var e=0;return this.eachParent((function(){e++}),t),e},_setParentInner:function(t,e,n){n||(t.hasOwnProperty("$rendered_parent")?this._move_branch(t,t.$rendered_parent,e):this._move_branch(t,t[this.$parentProperty],e))},setParent:function(t,e,n){this._setParentInner(t,e,n),t[this.$parentProperty]=e},_eachItemCached:function(t,e){for(var n=0,r=e.length;n<r;n++)t.call(this,e[n])},_eachItemIterate:function(t,e,n){var r=this.getChildren(e);for(r.length&&(r=r.slice().reverse());r.length;){var i=r.pop(),o=this.getItem(i);if(t.call(this,o),n&&n.push(o),this.hasChild(o.id))for(var a=this.getChildren(o.id),s=a.length-1;s>=0;s--)r.push(a[s])}},eachItem:function(t,e){var n=this.$getRootId();i.defined(e)||(e=n);var r=u(e,n)||n,o=!1,a=!1,s=null;r===n&&(this._eachItemMainRangeCache?(o=!0,s=this._eachItemMainRangeCache):(a=!0,s=this._eachItemMainRangeCache=[])),o?this._eachItemCached(t,s):this._eachItemIterate(t,r,a?s:null)},eachParent:function(t,e){for(var n={},r=e,i=this.getParent(r);this.exists(i);){if(n[i])throw new Error("Invalid tasks tree. Cyclic reference has been detected on task "+i);n[i]=!0,r=this.getItem(i),t.call(this,r),i=this.getParent(r)}},_add_branch:function(t,e,n){var i=void 0===n?this.getParent(t):n;this.hasChild(i)||(this._branches[i]=r.$create());for(var o=this.getChildren(i),a=!1,s=0,u=o.length;s<u;s++)if(o[s]==t.id){a=!0;break}a||(1*e==e?o.splice(e,0,t.id):o.push(t.id),t.$rendered_parent=i)},_move_branch:function(t,e,n){this._eachItemMainRangeCache=null,this._replace_branch_child(e,t.id),this.exists(n)||n==this.$getRootId()?this._add_branch(t,void 0,n):delete this._branches[t.id],t.$level=this.calculateItemLevel(t),this.eachItem((function(t){t.$level=this.calculateItemLevel(t)}),t.id)},_replace_branch_child:function(t,e,n){var i=this.getChildren(t);if(i&&void 0!==t){for(var o=r.$create(),a=0;a<i.length;a++)i[a]!=e?o.push(i[a]):n&&o.push(n);this._branches[t]=o}},sort:function(t,e,n){this.exists(n)||(n=this.$getRootId()),t||(t="order");var r="string"==typeof t?function(e,n){return e[t]==n[t]||o.isDate(e[t])&&o.isDate(n[t])&&e[t].valueOf()==n[t].valueOf()?0:e[t]>n[t]?1:-1}:t;if(e){var i=r;r=function(t,e){return i(e,t)}}var a=this.getChildren(n);if(a){for(var s=[],u=a.length-1;u>=0;u--)s[u]=this.getItem(a[u]);for(s.sort(r),u=0;u<s.length;u++)a[u]=s[u].id,this.sort(t,e,a[u])}},filter:function(t){for(var e in this.pull)this.pull[e].$rendered_parent!==this.getParent(this.pull[e])&&this._move_branch(this.pull[e],this.pull[e].$rendered_parent,this.getParent(this.pull[e]));return a.prototype.filter.apply(this,arguments)},open:function(t){this.exists(t)&&(this.getItem(t).$open=!0,this.callEvent("onItemOpen",[t]))},close:function(t){this.exists(t)&&(this.getItem(t).$open=!1,this.callEvent("onItemClose",[t]))},destructor:function(){a.prototype.destructor.call(this),this._branches=null,this._indexRangeCache={},this._eachItemMainRangeCache=null}},a.prototype),t.exports=l},function(t,e,n){var r=n(18),i=n(18);function o(t){var e=function(t){var e=new i(t).primaryScale(),n=e.unit,o=e.step;if(t.config.scale_offset_minimal){var a=new r(t),s=[a.primaryScale()].concat(a.getSubScales());a.sortScales(s),n=s[s.length-1].unit,o=s[s.length-1].step||1}return{unit:n,step:o}}(t),n=e.unit,o=e.step,a=function(t,e){var n={start_date:null,end_date:null};if(e.config.start_date&&e.config.end_date){n.start_date=e.date[t+"_start"](new Date(e.config.start_date));var r=new Date(e.config.end_date),i=e.date[t+"_start"](new Date(r));r=+r!=+i?e.date.add(i,1,t):i,n.end_date=r}return n}(n,t);if(!a.start_date||!a.end_date){for(var s=!0,u=t.getTaskByTime(),l=0;l<u.length;l++)if(u[l].type!==t.config.types.project){s=!1;break}if(u.length&&s){var c=u[0].start_date,h=t.date.add(c,1,t.config.duration_unit);a={start_date:new Date(c),end_date:new Date(h)}}else a=t.getSubtaskDates();a.start_date&&a.end_date||(a={start_date:new Date,end_date:new Date}),a.start_date=t.date[n+"_start"](a.start_date),a.start_date=t.calculateEndDate({start_date:t.date[n+"_start"](a.start_date),duration:-1,unit:n,step:o}),a.end_date=t.date[n+"_start"](a.end_date),a.end_date=t.calculateEndDate({start_date:a.end_date,duration:2,unit:n,step:o})}t._min_date=a.start_date,t._max_date=a.end_date}t.exports=function(t){o(t),function(t){if(t.config.fit_tasks){var e=+t._min_date,n=+t._max_date;+t._min_date==e&&+t._max_date==n||(t.render(),t.callEvent("onScaleAdjusted",[]))}}(t)}},function(t,e){function n(t,e,n){for(var r=0;r<e.length;r++)t.isLinkExists(e[r])&&(n[e[r]]=t.getLink(e[r]))}function r(t,e,r){n(t,e.$source,r),n(t,e.$target,r)}t.exports={getSubtreeLinks:function(t,e){var n={};return t.isTaskExists(e)&&r(t,t.getTask(e),n),t.eachTask((function(e){r(t,e,n)}),e),n},getSubtreeTasks:function(t,e){var n={};return t.eachTask((function(t){n[t.id]=t}),e),n}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){var t=this;this.canParse=function(e){return!isNaN(t.parse(e))},this.format=function(t){return String(t)},this.parse=function(t){return parseInt(t,10)}}return t.create=function(e){return void 0===e&&(e=null),new t},t}();e.default=r},function(t,e,n){var r=n(133);t.exports=function(t){var e={},n={},i=null,o=-1,a=null,s=r(t);return{_resetTopPositionHeight:function(){e={},n={},s.resetCache()},_resetHeight:function(){var t=this.$config.rowStore,e=this.getCacheStateTotalHeight(t);a?this.shouldClearHeightCache(a,e)&&(a=e,i=null):a=e,o=-1,s.resetCache()},getRowTop:function(t){if(s.canUseSimpleCalculation())return s.getRowTop(t);var e=this.$config.rowStore;if(!e)return 0;if(void 0!==n[t])return n[t];for(var r=e.getIndexRange(),i=0,o=0,a=0;a<r.length;a++)n[a]=i,i+=this.getItemHeight(r[a].id),a<t&&(o=i);return o},getItemTop:function(t){if(this.$config.rowStore){if(void 0!==e[t])return e[t];var n=this.$config.rowStore;if(!n)return 0;var r=n.getIndexById(t);if(-1===r&&n.getParent&&n.exists(t)){var i=n.getParent(t);if(n.exists(i)){var o=n.getItem(i);if(this.$gantt.isSplitTask(o))return this.getItemTop(i)}}return e[t]=this.getRowTop(r),e[t]}return 0},getItemHeight:function(t){if(s.canUseSimpleCalculation())return s.getItemHeight(t);if(!i&&this.$config.rowStore&&this._fillHeightCache(this.$config.rowStore),void 0!==i[t])return i[t];var e=this.$getConfig().row_height;if(this.$config.rowStore){var n=this.$config.rowStore;if(!n)return e;var r=n.getItem(t);return i[t]=r&&r.row_height||e}return e},_fillHeightCache:function(t){if(t){i={};var e=this.$getConfig().row_height;t.eachItem((function(t){return i[t.id]=t&&t.row_height||e}))}},getCacheStateTotalHeight:function(t){var e=this.$getConfig().row_height,n={},r=[],i=0;return t&&t.eachItem((function(t){r.push(t),n[t.id]=t.row_height,i+=t.row_height||e})),{globalHeight:e,items:r,count:r.length,sumHeight:i}},shouldClearHeightCache:function(t,e){if(t.count!=e.count)return!0;if(t.globalHeight!=e.globalHeight)return!0;if(t.sumHeight!=e.sumHeight)return!0;for(var n in t.items){var r=e.items[n];if(void 0!==r&&r!=t.items[n])return!0}return!1},getTotalHeight:function(){if(s.canUseSimpleCalculation())return s.getTotalHeight();if(-1!=o)return o;if(this.$config.rowStore){var t=this.$config.rowStore;this._fillHeightCache(t);var e=this.getItemHeight.bind(this),n=0;return t.getVisibleItems().forEach((function(t){n+=e(t.id)})),o=n,n}return 0},getItemIndexByTopPosition:function(t){if(!this.$config.rowStore)return 0;if(s.canUseSimpleCalculation())return s.getItemIndexByTopPosition(t);for(var e=this.$config.rowStore,n=0;n<e.countVisible();n++){var r=this.getRowTop(n),i=this.getRowTop(n+1);if(!i){var o=e.getIdByIndex(n);i=r+this.getItemHeight(o)}if(t>=r&&t<i)return n}}}}},function(t,e,n){var r=n(0),i=n(2);function o(t,e,n,r,i){return this.date=t,this.unit=e,this.task=n,this.id=r,this.calendar=i,this}function a(t,e,n,r,i,o){return this.date=t,this.dir=e,this.unit=n,this.task=r,this.id=i,this.calendar=o,this}function s(t,e,n,r,i,o,a){return this.start_date=t,this.duration=e,this.unit=n,this.step=r,this.task=i,this.id=o,this.calendar=a,this}function u(t,e,n,r){return this.start_date=t,this.end_date=e,this.task=n,this.calendar=r,this.unit=null,this.step=null,this}t.exports=function(t){return{getWorkHoursArguments:function(){var e=arguments[0];if(e=i.isDate(e)?{date:e}:r.mixin({},e),!i.isValidDate(e.date))throw t.assert(!1,"Invalid date argument for getWorkHours method"),new Error("Invalid date argument for getWorkHours method");return e},setWorkTimeArguments:function(){return arguments[0]},unsetWorkTimeArguments:function(){return arguments[0]},isWorkTimeArguments:function(){var e,n=arguments[0];if(n instanceof o)return n;if((e=n.date?new o(n.date,n.unit,n.task,null,n.calendar):new o(arguments[0],arguments[1],arguments[2],null,arguments[3])).unit=e.unit||t.config.duration_unit,!i.isValidDate(e.date))throw t.assert(!1,"Invalid date argument for isWorkTime method"),new Error("Invalid date argument for isWorkTime method");return e},getClosestWorkTimeArguments:function(e){var n,r=arguments[0];if(r instanceof a)return r;if(n=i.isDate(r)?new a(r):new a(r.date,r.dir,r.unit,r.task,null,r.calendar),r.id&&(n.task=r),n.dir=r.dir||"any",n.unit=r.unit||t.config.duration_unit,!i.isValidDate(n.date))throw t.assert(!1,"Invalid date argument for getClosestWorkTime method"),new Error("Invalid date argument for getClosestWorkTime method");return n},_getStartEndConfig:function(e){var n,r=u;if(e instanceof r)return e;if(i.isDate(e)?n=new r(arguments[0],arguments[1],arguments[2],arguments[3]):(n=new r(e.start_date,e.end_date,e.task),null!==e.id&&void 0!==e.id&&(n.task=e)),n.unit=n.unit||t.config.duration_unit,n.step=n.step||t.config.duration_step,n.start_date=n.start_date||n.start||n.date,!i.isValidDate(n.start_date))throw t.assert(!1,"Invalid start_date argument for getDuration method"),new Error("Invalid start_date argument for getDuration method");if(!i.isValidDate(n.end_date))throw t.assert(!1,"Invalid end_date argument for getDuration method"),new Error("Invalid end_date argument for getDuration method");return n},getDurationArguments:function(t,e,n,r){return this._getStartEndConfig.apply(this,arguments)},hasDurationArguments:function(t,e,n,r){return this._getStartEndConfig.apply(this,arguments)},calculateEndDateArguments:function(e,n,r,o){var a,u=arguments[0];if(u instanceof s)return u;if(a=i.isDate(u)?new s(arguments[0],arguments[1],arguments[2],void 0,arguments[3],void 0,arguments[4]):new s(u.start_date,u.duration,u.unit,u.step,u.task,null,u.calendar),null!==u.id&&void 0!==u.id&&(a.task=u,a.unit=null,a.step=null),a.unit=a.unit||t.config.duration_unit,a.step=a.step||t.config.duration_step,!i.isValidDate(a.start_date))throw t.assert(!1,"Invalid start_date argument for calculateEndDate method"),new Error("Invalid start_date argument for calculateEndDate method");return a}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCacheObject=void 0;var r=n(145),i=n(146),o=n(147);Object.defineProperty(e,"LargerUnitsCache",{enumerable:!0,get:function(){return o.LargerUnitsCache}}),e.createCacheObject=function(){return"undefined"!=typeof Map?new r.WorkUnitsMapCache:new i.WorkUnitsObjectCache}},function(t,e,n){var r=n(3),i=n(1),o=function(t){"use strict";function e(e,n,r){var i=t.apply(this,arguments)||this;return e&&(i.$root=!0),i._parseConfig(n),i.$name="layout",i}return r(e,t),e.prototype.destructor=function(){this.$container&&this.$view&&i.removeNode(this.$view);for(var e=0;e<this.$cells.length;e++)this.$cells[e].destructor();this.$cells=[],t.prototype.destructor.call(this)},e.prototype._resizeScrollbars=function(t,e){var n,r=!1,i=[],o=[];function a(t){t.$parent.show(),r=!0,i.push(t)}function s(t){t.$parent.hide(),r=!0,o.push(t)}for(var u=0;u<e.length;u++)t[(n=e[u]).$config.scroll]||n.shouldHide()?s(n):n.shouldShow()?a(n):n.isVisible()?i.push(n):o.push(n);var l={};for(u=0;u<i.length;u++)i[u].$config.group&&(l[i[u].$config.group]=!0);for(u=0;u<o.length;u++)if((n=o[u]).$config.group&&l[n.$config.group]){a(n);for(var c=0;c<i.length;c++)if(i[c]==n){this.$gantt.$scrollbarRepaint=!0;break}}return r},e.prototype._syncCellSizes=function(t,e){if(t){var n={};return this._eachChild((function(t){t.$config.group&&"scrollbar"!=t.$name&&"resizer"!=t.$name&&(n[t.$config.group]||(n[t.$config.group]=[]),n[t.$config.group].push(t))})),n[t]&&this._syncGroupSize(n[t],e),n[t]}},e.prototype._syncGroupSize=function(t,e){if(t.length)for(var n=t[0].$parent._xLayout?"width":"height",r=t[0].$parent.getNextSibling(t[0].$id)?1:-1,i=e.value,o=e.isGravity,a=0;a<t.length;a++){var s=t[a].getSize(),u=r>0?t[a].$parent.getNextSibling(t[a].$id):t[a].$parent.getPrevSibling(t[a].$id);"resizer"==u.$name&&(u=r>0?u.$parent.getNextSibling(u.$id):u.$parent.getPrevSibling(u.$id));var l=u.getSize();if(o)t[a].$config.gravity=i;else if(u[n]){var c=s.gravity+l.gravity,h=s[n]+l[n],f=c/h;t[a].$config.gravity=f*i,u.$config[n]=h-i,u.$config.gravity=c-f*i}else t[a].$config[n]=i;var d=this.$gantt.$ui.getView("grid");!d||t[a].$content!==d||d.$config.scrollable||o||(this.$gantt.config.grid_width=i)}},e.prototype.resize=function(e){var n=!1;if(this.$root&&!this._resizeInProgress&&(this.callEvent("onBeforeResize",[]),n=!0,this._resizeInProgress=!0),t.prototype.resize.call(this,!0),t.prototype.resize.call(this,!1),n){var r=[];r=(r=(r=r.concat(this.getCellsByType("viewCell"))).concat(this.getCellsByType("viewLayout"))).concat(this.getCellsByType("hostCell"));for(var i=this.getCellsByType("scroller"),o=0;o<r.length;o++)r[o].$config.hidden||r[o].setContentSize();var a=this._getAutosizeMode(this.$config.autosize),s=this._resizeScrollbars(a,i);if(this.$config.autosize&&(this.autosize(this.$config.autosize),r.forEach((function(t){var e=t.$parent,n=e.getContentSize(a);a.x&&(e.$config.$originalWidthStored||(e.$config.$originalWidthStored=!0,e.$config.$originalWidth=e.$config.width),e.$config.width=n.width),a.y&&(e.$config.$originalHeightStored||(e.$config.$originalHeightStored=!0,e.$config.$originalHeight=e.$config.height),e.$config.height=n.height)})),s=!0),s)for(this.resize(),o=0;o<r.length;o++)r[o].$config.hidden||r[o].setContentSize();this.callEvent("onResize",[])}n&&(this._resizeInProgress=!1)},e.prototype._eachChild=function(t,e){if(t(e=e||this),e.$cells)for(var n=0;n<e.$cells.length;n++)this._eachChild(t,e.$cells[n])},e.prototype.isChild=function(t){var e=!1;return this._eachChild((function(n){n!==t&&n.$content!==t||(e=!0)})),e},e.prototype.getCellsByType=function(t){var n=[];if(t===this.$name&&n.push(this),this.$content&&this.$content.$name==t&&n.push(this.$content),this.$cells)for(var r=0;r<this.$cells.length;r++){var i=e.prototype.getCellsByType.call(this.$cells[r],t);i.length&&n.push.apply(n,i)}return n},e.prototype.getNextSibling=function(t){var e=this.cellIndex(t);return e>=0&&this.$cells[e+1]?this.$cells[e+1]:null},e.prototype.getPrevSibling=function(t){var e=this.cellIndex(t);return e>=0&&this.$cells[e-1]?this.$cells[e-1]:null},e.prototype.cell=function(t){for(var e=0;e<this.$cells.length;e++){var n=this.$cells[e];if(n.$id===t)return n;var r=n.cell(t);if(r)return r}},e.prototype.cellIndex=function(t){for(var e=0;e<this.$cells.length;e++)if(this.$cells[e].$id===t)return e;return-1},e.prototype.moveView=function(t,e){if(this.$cells[e]!==t)return window.alert("Not implemented");e+=this.$config.header?1:0;var n=this.$view;e>=n.childNodes.length?n.appendChild(t.$view):n.insertBefore(t.$view,n.childNodes[e])},e.prototype._parseConfig=function(t){this.$cells=[],this._xLayout=!t.rows;for(var e=t.rows||t.cols||t.views,n=0;n<e.length;n++){var r=e[n];r.mode=this._xLayout?"x":"y";var i=this.$factory.initUI(r,this);i?(i.$parent=this,this.$cells.push(i)):(e.splice(n,1),n--)}},e.prototype.getCells=function(){return this.$cells},e.prototype.render=function(){var t=i.insertNode(this.$container,this.$toHTML());this.$fill(t,null),this.callEvent("onReady",[]),this.resize(),this.render=this.resize},e.prototype.$fill=function(t,e){this.$view=t,this.$parent=e;for(var n=i.getChildNodes(t,"gantt_layout_cell"),r=n.length-1;r>=0;r--){var o=this.$cells[r];o.$fill(n[r],this),o.$config.hidden&&o.$view.parentNode.removeChild(o.$view)}},e.prototype.$toHTML=function(){for(var e=this._xLayout?"x":"y",n=[],r=0;r<this.$cells.length;r++)n.push(this.$cells[r].$toHTML());return t.prototype.$toHTML.call(this,n.join(""),(this.$root?"gantt_layout_root ":"")+"gantt_layout gantt_layout_"+e)},e.prototype.getContentSize=function(t){for(var e,n,r,i=0,o=0,a=0;a<this.$cells.length;a++)(n=this.$cells[a]).$config.hidden||(e=n.getContentSize(t),"scrollbar"===n.$config.view&&t[n.$config.scroll]&&(e.height=0,e.width=0),n.$config.resizer&&(this._xLayout?e.height=0:e.width=0),r=n._getBorderSizes(),this._xLayout?(i+=e.width+r.horizontal,o=Math.max(o,e.height+r.vertical)):(i=Math.max(i,e.width+r.horizontal),o+=e.height+r.vertical));return{width:i+=(r=this._getBorderSizes()).horizontal,height:o+=r.vertical}},e.prototype._cleanElSize=function(t){return 1*(t||"").toString().replace("px","")||0},e.prototype._getBoxStyles=function(t){var e=null,n=["width","height","paddingTop","paddingBottom","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],r={boxSizing:"border-box"==(e=window.getComputedStyle?window.getComputedStyle(t,null):{width:t.clientWidth,height:t.clientHeight}).boxSizing};e.MozBoxSizing&&(r.boxSizing="border-box"==e.MozBoxSizing);for(var i=0;i<n.length;i++)r[n[i]]=e[n[i]]?this._cleanElSize(e[n[i]]):0;var o={horPaddings:r.paddingLeft+r.paddingRight+r.borderLeftWidth+r.borderRightWidth,vertPaddings:r.paddingTop+r.paddingBottom+r.borderTopWidth+r.borderBottomWidth,borderBox:r.boxSizing,innerWidth:r.width,innerHeight:r.height,outerWidth:r.width,outerHeight:r.height};return o.borderBox?(o.innerWidth-=o.horPaddings,o.innerHeight-=o.vertPaddings):(o.outerWidth+=o.horPaddings,o.outerHeight+=o.vertPaddings),o},e.prototype._getAutosizeMode=function(t){var e={x:!1,y:!1};return"xy"===t?e.x=e.y=!0:"y"===t||!0===t?e.y=!0:"x"===t&&(e.x=!0),e},e.prototype.autosize=function(t){var e=this._getAutosizeMode(t),n=this._getBoxStyles(this.$container),r=this.getContentSize(t),i=this.$container;e.x&&(n.borderBox&&(r.width+=n.horPaddings),i.style.width=r.width+"px"),e.y&&(n.borderBox&&(r.height+=n.vertPaddings),i.style.height=r.height+"px")},e.prototype.getSize=function(){this._sizes=[];for(var e=0,n=0,r=1e11,i=0,o=1e11,a=0,s=0;s<this.$cells.length;s++){var u=this._sizes[s]=this.$cells[s].getSize();this.$cells[s].$config.hidden||(this._xLayout?(!u.width&&u.minWidth?e+=u.minWidth:e+=u.width,r+=u.maxWidth,n+=u.minWidth,i=Math.max(i,u.height),o=Math.min(o,u.maxHeight),a=Math.max(a,u.minHeight)):(!u.height&&u.minHeight?i+=u.minHeight:i+=u.height,o+=u.maxHeight,a+=u.minHeight,e=Math.max(e,u.width),r=Math.min(r,u.maxWidth),n=Math.max(n,u.minWidth)))}var l=t.prototype.getSize.call(this);return l.maxWidth>=1e5&&(l.maxWidth=r),l.maxHeight>=1e5&&(l.maxHeight=o),l.minWidth=l.minWidth!=l.minWidth?0:l.minWidth,l.minHeight=l.minHeight!=l.minHeight?0:l.minHeight,this._xLayout?(l.minWidth+=this.$config.margin*this.$cells.length||0,l.minWidth+=2*this.$config.padding||0,l.minHeight+=2*this.$config.padding||0):(l.minHeight+=this.$config.margin*this.$cells.length||0,l.minHeight+=2*this.$config.padding||0),l},e.prototype._calcFreeSpace=function(t,e,n){var r=n?e.minWidth:e.minHeight,i=e.maxWidth,o=t;return o?(o>i&&(o=i),o<r&&(o=r),this._free-=o):((o=Math.floor(this._free/this._gravity*e.gravity))>i&&(o=i,this._free-=o,this._gravity-=e.gravity),o<r&&(o=r,this._free-=o,this._gravity-=e.gravity)),o},e.prototype._calcSize=function(t,e,n){var r=t,i=n?e.minWidth:e.minHeight,o=n?e.maxWidth:e.maxHeight;return r||(r=Math.floor(this._free/this._gravity*e.gravity)),r>o&&(r=o),r<i&&(r=i),r},e.prototype._configureBorders=function(){this.$root&&this._setBorders([this._borders.left,this._borders.top,this._borders.right,this._borders.bottom],this);for(var t=this._xLayout?this._borders.right:this._borders.bottom,e=this.$cells,n=e.length-1,r=n;r>=0;r--)if(!e[r].$config.hidden){n=r;break}for(r=0;r<e.length;r++)if(!e[r].$config.hidden){var i=r>=n,o="";!i&&e[r+1]&&"scrollbar"==e[r+1].$config.view&&(this._xLayout?i=!0:o="gantt_layout_cell_border_transparent"),this._setBorders(i?[]:[t,o],e[r])}},e.prototype._updateCellVisibility=function(){for(var t=this._visibleCells||{},e=!this._visibleCells,n={},r=null,i=[],o=0;o<this._sizes.length;o++)(r=this.$cells[o]).$config.hide_empty&&i.push(r),!e&&r.$config.hidden&&t[r.$id]?r._hide(!0):r.$config.hidden||t[r.$id]||r._hide(!1),r.$config.hidden||(n[r.$id]=!0);for(this._visibleCells=n,o=0;o<i.length;o++){var a=!0;(r=i[o]).$cells.forEach((function(t){t.$config.hidden||t.$config.resizer||(a=!1)})),r.$config.hidden=a}},e.prototype.setSize=function(e,n){this._configureBorders(),t.prototype.setSize.call(this,e,n),n=this.$lastSize.contentY,e=this.$lastSize.contentX;var r,i,o=this.$config.padding||0;this.$view.style.padding=o+"px",this._gravity=0,this._free=this._xLayout?e:n,this._free-=2*o,this._updateCellVisibility();for(var a=0;a<this._sizes.length;a++)if(!(r=this.$cells[a]).$config.hidden){var s=this.$config.margin||0;"resizer"!=r.$name||s||(s=-1);var u=r.$view,l=this._xLayout?"marginRight":"marginBottom";a!==this.$cells.length-1&&(u.style[l]=s+"px",this._free-=s),i=this._sizes[a],this._xLayout?i.width||(this._gravity+=i.gravity):i.height||(this._gravity+=i.gravity)}for(a=0;a<this._sizes.length;a++)if(!(r=this.$cells[a]).$config.hidden){var c=(i=this._sizes[a]).width,h=i.height;this._xLayout?this._calcFreeSpace(c,i,!0):this._calcFreeSpace(h,i,!1)}for(a=0;a<this.$cells.length;a++)if(!(r=this.$cells[a]).$config.hidden){i=this._sizes[a];var f=void 0,d=void 0;this._xLayout?(f=this._calcSize(i.width,i,!0),d=n-2*o):(f=e-2*o,d=this._calcSize(i.height,i,!1)),r.setSize(f,d)}},e}(n(11));t.exports=o},function(t,e,n){var r=n(2);t.exports=function(t){var e={};return t.$data.tasksStore.attachEvent("onStoreUpdated",(function(){e={}})),function(n,i,o,a){var s=n.id+"_"+i+"_"+o.unit+"_"+o.step;return e[s]?e[s]:e[s]=function(e,n,i,o){var a,s=!1,u={};t.config.process_resource_assignments&&n===t.config.resource_property?(a="task"==e.$role?t.getResourceAssignments(e.$resource_id,e.$task_id):t.getResourceAssignments(e.id),s=!0):a="task"==e.$role?[]:t.getTaskBy(n,e.id),u=function(e,n,i){for(var o=n.unit,a=n.step,s={},u={},l=0;l<e.length;l++){var c=e[l],h=c;i&&(h=t.getTask(c.task_id));var f=c.start_date||h.start_date,d=c.end_date||h.end_date;i&&(c.start_date&&(f=new Date(Math.max(c.start_date.valueOf(),h.start_date.valueOf()))),c.end_date&&(d=new Date(Math.min(c.end_date.valueOf(),h.end_date.valueOf()))));var p=r.findBinary(n.trace_x,f.valueOf()),g=new Date(n.trace_x[p]||t.date[o+"_start"](new Date(f))),v=t.config.work_time?t.getTaskCalendar(h):t;for(u[v.id]={};g<d;){var _=u[v.id],m=g,y=m.valueOf();g=t.date.add(g,a,o),!1!==_[y]&&(v.isWorkTime({date:m,task:h,unit:o})?(s[y]||(s[y]={tasks:[],assignments:[]}),s[y].tasks.push(h),i&&s[y].assignments.push(c)):_[y]=!1)}}return s}(a,i,s);for(var l,c,h,f,d,p=i.unit,g=i.step,v=[],_=o.$getConfig(),m=0;m<i.trace_x.length;m++)l=new Date(i.trace_x[m]),c=t.date.add(l,g,p),h=(d=u[l.valueOf()]||{}).tasks||[],f=d.assignments||[],h.length||_.resource_render_empty_cells?v.push({start_date:l,end_date:c,tasks:h,assignments:f}):v.push(null);return v}(n,i,o,a)}}},function(t,e,n){var r=n(2),i={getHtmlSelect:function(t,e,n){var i="",a=this;return t=t||[],r.forEach(t,(function(t){var e=[{key:"value",value:t.key}];n==t.key&&(e[e.length]={key:"selected",value:"selected"}),t.attributes&&(e=e.concat(t.attributes)),i+=a.getHtmlOption({innerHTML:t.label},e)})),o("select",{innerHTML:i},e)},getHtmlOption:function(t,e){return o("option",t,e)},getHtmlButton:function(t,e){return o("button",t,e)},getHtmlDiv:function(t,e){return o("div",t,e)},getHtmlLabel:function(t,e){return o("label",t,e)},getHtmlInput:function(t){return"<input"+a(t||[])+">"}};function o(t,e,n){return e=e||[],"<"+t+a(n||[])+">"+(e.innerHTML||"")+"</"+t+">"}function a(t){var e="";return r.forEach(t,(function(t){e+=" "+t.key+"='"+t.value+"'"})),e}t.exports=i},,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.gantt=void 0;var r=n(64),i=n(92),o=n(12).gantt=i(r.default);e.gantt=o,e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(65),i=n(68),o=n(70),a=n(71),s=n(82),u=n(83),l=n(84),c=n(86),h=n(89);e.default={click_drag:r.default,drag_timeline:i.default,fullscreen:o.default,keyboard_navigation:a,quick_info:l.default,tooltip:c.default,undo:h.default,marker:s,multiselect:u}},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(66),o=n(67);e.default=function(t){t.ext||(t.ext={});var e={className:"gantt_click_drag_rect",useRequestAnimationFrame:!0,callback:void 0,singleRow:!1},n=new i.EventsManager(t);t.ext.clickDrag=n,t.attachEvent("onGanttReady",(function(){var n=r({viewPort:t.$task_data},e);if(t.config.click_drag){var i=t.config.click_drag;n.render=i.render||e.render,n.className=i.className||e.className,n.callback=i.callback||e.callback,n.viewPort=i.viewPort||t.$task_data,n.useRequestAnimationFrame=void 0===i.useRequestAnimationFrame?e.useRequestAnimationFrame:i.useRequestAnimationFrame,n.singleRow=void 0===i.singleRow?e.singleRow:i.singleRow;var a=t.$ui.getView("timeline"),s=new o.SelectedRegion(n,t,a);t.ext.clickDrag.attach(s,i.useKey,i.ignore)}})),t.attachEvent("onDestroy",(function(){n.destructor()}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventsManager=void 0;var r=n(1),i=function(){function t(t){this._mouseDown=!1,this._gantt=t,this._domEvents=t._createDomEventScope()}return t.prototype.attach=function(t,e,n){var i=this,o=this._gantt,a=t.getViewPort();this._originPosition=window.getComputedStyle(a).display,this._restoreOriginPosition=function(){a.style.position=i._originPosition},"static"===this._originPosition&&(a.style.position="relative");var s=o.$services.getService("state");s.registerProvider("clickDrag",(function(){return{autoscroll:!1}}));var u=null;this._domEvents.attach(a,"mousedown",(function(r){u=null;var a=".gantt_task_line, .gantt_task_link";void 0!==n&&(a=n instanceof Array?n.join(", "):n),a&&o.utils.dom.closest(r.target,a)||(s.registerProvider("clickDrag",(function(){return{autoscroll:i._mouseDown}})),e&&!0!==r[e]||(u=i._getCoordinates(r,t)))}));var l=r.getRootNode(o.$root)||document.body;this._domEvents.attach(l,"mouseup",(function(n){if(u=null,(!e||!0===n[e])&&!0===i._mouseDown){i._mouseDown=!1;var r=i._getCoordinates(n,t);t.dragEnd(r)}})),this._domEvents.attach(a,"mousemove",(function(n){if(!e||!0===n[e]){var r=i._gantt.ext.clickDrag,a=(i._gantt.config.drag_timeline||{}).useKey;if(!r||!a||e||!n[a]){var s=null;if(!i._mouseDown&&u)return s=i._getCoordinates(n,t),void(Math.abs(u.relative.left-s.relative.left)>5&&u&&(i._mouseDown=!0,t.setStart(o.copy(u)),t.setPosition(o.copy(u)),t.setEnd(o.copy(u)),u=null));!0===i._mouseDown&&(s=i._getCoordinates(n,t),t.setEnd(s),t.render())}}}))},t.prototype.detach=function(){var t=this._gantt;this._domEvents.detachAll(),this._restoreOriginPosition&&this._restoreOriginPosition(),t.$services.getService("state").unregisterProvider("clickDrag")},t.prototype.destructor=function(){this.detach()},t.prototype._getCoordinates=function(t,e){var n=e.getViewPort(),r=n.getBoundingClientRect(),i=t.clientX,o=t.clientY;return{absolute:{left:i,top:o},relative:{left:i-r.left+n.scrollLeft,top:o-r.top+n.scrollTop}}},t}();e.EventsManager=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectedRegion=void 0;var r=n(4),i=n(2),o=function(){function t(t,e,n){var o=this;this._el=document.createElement("div"),this.defaultRender=function(t,e){o._el||(o._el=document.createElement("div"));var n=o._el,r=Math.min(t.relative.top,e.relative.top),i=Math.max(t.relative.top,e.relative.top),a=Math.min(t.relative.left,e.relative.left),s=Math.max(t.relative.left,e.relative.left);if(o._singleRow){var u=o._getTaskPositionByTop(o._startPoint.relative.top);n.style.height=u.height+"px",n.style.top=u.top+"px"}else n.style.height=Math.abs(i-r)+"px",n.style.top=r+"px";return n.style.width=Math.abs(s-a)+"px",n.style.left=a+"px",n},this._gantt=e,this._view=n,this._viewPort=t.viewPort,this._el.classList.add(t.className),"function"==typeof t.callback&&(this._callback=t.callback),this.render=function(){var e;(e=t.render?t.render(o._startPoint,o._endPoint):o.defaultRender(o._startPoint,o._endPoint))!==o._el&&(o._el&&o._el.parentNode&&o._el.parentNode.removeChild(o._el),o._el=e),""!==t.className&&o._el.classList.add(t.className),o.draw()},i.isEventable(this._viewPort)||r(this._viewPort),this._singleRow=t.singleRow,this._useRequestAnimationFrame=t.useRequestAnimationFrame}return t.prototype.draw=function(){var t=this;if(this._useRequestAnimationFrame)return requestAnimationFrame((function(){t._viewPort.appendChild(t.getElement())}));this._viewPort.appendChild(this.getElement())},t.prototype.clear=function(){var t=this;if(this._useRequestAnimationFrame)return requestAnimationFrame((function(){t._el.parentNode&&t._viewPort.removeChild(t._el)}));this._el.parentNode&&this._viewPort.removeChild(this._el)},t.prototype.getElement=function(){return this._el},t.prototype.getViewPort=function(){return this._viewPort},t.prototype.setStart=function(t){var e=this._gantt;this._startPoint=t,this._startDate=e.dateFromPos(this._startPoint.relative.left),this._viewPort.callEvent("onBeforeDrag",[this._startPoint])},t.prototype.setEnd=function(t){var e=this._gantt;if(this._endPoint=t,this._singleRow){var n=this._getTaskPositionByTop(this._startPoint.relative.top);this._endPoint.relative.top=n.top}this._endDate=e.dateFromPos(this._endPoint.relative.left),this._startPoint.relative.left>this._endPoint.relative.left&&(this._positionPoint={relative:{left:this._endPoint.relative.left,top:this._positionPoint.relative.top},absolute:{left:this._endPoint.absolute.left,top:this._positionPoint.absolute.top}}),this._startPoint.relative.top>this._endPoint.relative.top&&(this._positionPoint={relative:{left:this._positionPoint.relative.left,top:this._endPoint.relative.top},absolute:{left:this._positionPoint.absolute.left,top:this._endPoint.absolute.top}}),this._viewPort.callEvent("onDrag",[this._startPoint,this._endPoint])},t.prototype.setPosition=function(t){this._positionPoint=t},t.prototype.dragEnd=function(t){var e,n=this._gantt;t.relative.left<0&&(t.relative.left=0),this._viewPort.callEvent("onBeforeDragEnd",[this._startPoint,t]),this.setEnd(t),this._endDate=this._endDate||n.getState().max_date,this._startDate.valueOf()>this._endDate.valueOf()&&(e=[this._endDate,this._startDate],this._startDate=e[0],this._endDate=e[1]),this.clear();var r=n.getTaskByTime(this._startDate,this._endDate),i=this._getTasksByTop(this._startPoint.relative.top,this._endPoint.relative.top);this._viewPort.callEvent("onDragEnd",[this._startPoint,this._endPoint]),this._callback&&this._callback(this._startPoint,this._endPoint,this._startDate,this._endDate,r,i)},t.prototype.getInBounds=function(){return this._singleRow},t.prototype._getTasksByTop=function(t,e){var n=this._gantt,r=t,i=e;t>e&&(r=e,i=t);for(var o=this._getTaskPositionByTop(r).index,a=this._getTaskPositionByTop(i).index,s=[],u=o;u<=a;u++)n.getTaskByIndex(u)&&s.push(n.getTaskByIndex(u));return s},t.prototype._getTaskPositionByTop=function(t){var e=this._gantt,n=this._view,r=n.getItemIndexByTopPosition(t),i=e.getTaskByIndex(r);if(i){var o=n.getItemHeight(i.id);return{top:n.getItemTop(i.id)||0,height:o||0,index:r}}var a=n.getTotalHeight();return{top:t>a?a:0,height:e.config.row_height,index:t>a?e.getTaskCount():0}},t}();e.SelectedRegion=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(69);e.default=function(t){t.ext||(t.ext={}),t.ext.dragTimeline={create:function(){return r.EventsManager.create(t)}},t.config.drag_timeline={enabled:!0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventsManager=void 0;var r=function(){function t(t){var e=this;this._mouseDown=!1,this._calculateDirectionVector=function(){if(e._trace.length>=10){for(var t=e._trace.slice(e._trace.length-10),n=[],r=1;r<t.length;r++)n.push({x:t[r].x-t[r-1].x,y:t[r].y-t[r-1].y});var i={x:0,y:0};return n.forEach((function(t){i.x+=t.x,i.y+=t.y})),{magnitude:Math.sqrt(i.x*i.x+i.y*i.y),angleDegrees:180*Math.atan2(Math.abs(i.y),Math.abs(i.x))/Math.PI}}return null},this._applyDndReadyStyles=function(){e._timeline.$task.classList.add("gantt_timeline_move_available")},this._clearDndReadyStyles=function(){e._timeline.$task.classList.remove("gantt_timeline_move_available")},this._getScrollPosition=function(t){var n=e._gantt;return{x:n.$ui.getView(t.$config.scrollX).getScrollState().position,y:n.$ui.getView(t.$config.scrollY).getScrollState().position}},this._countNewScrollPosition=function(t){var n=e._calculateDirectionVector(),r=e._startPoint.x-t.x,i=e._startPoint.y-t.y;return n&&(n.angleDegrees<15?i=0:n.angleDegrees>75&&(r=0)),{x:e._scrollState.x+r,y:e._scrollState.y+i}},this._setScrollPosition=function(t,n){var r=e._gantt;requestAnimationFrame((function(){r.$ui.getView(t.$config.scrollX).scroll(n.x),r.$ui.getView(t.$config.scrollY).scroll(n.y)}))},this._stopDrag=function(t){var n=e._gantt;if(e._trace=[],n.$root.classList.remove("gantt_noselect"),void 0!==e._originalReadonly&&(n.config.readonly=e._originalReadonly),void 0!==e._originAutoscroll&&(n.config.autoscroll=e._originAutoscroll),n.config.drag_timeline){var r=n.config.drag_timeline.useKey;if(r&&!0!==t[r])return}e._mouseDown=!1},this._startDrag=function(t){var n=e._gantt;e._originAutoscroll=n.config.autoscroll,n.config.autoscroll=!1,n.$root.classList.add("gantt_noselect"),e._originalReadonly=n.config.readonly,n.config.readonly=!0,e._trace=[],e._mouseDown=!0;var r=e._getScrollPosition(e._timeline),i=r.x,o=r.y;e._scrollState={x:i,y:o},e._startPoint={x:t.clientX,y:t.clientY},e._trace.push(e._startPoint)},this._gantt=t,this._domEvents=t._createDomEventScope(),this._trace=[]}return t.create=function(e){return new t(e)},t.prototype.destructor=function(){this._domEvents.detachAll()},t.prototype.attach=function(t){var e=this;this._timeline=t;var n=this._gantt;this._domEvents.attach(t.$task,"mousedown",(function(t){if(n.config.drag_timeline){var r=n.config.drag_timeline,i=r.useKey,o=r.ignore;if(!1!==r.enabled){var a=".gantt_task_line, .gantt_task_link";void 0!==o&&(a=o instanceof Array?o.join(", "):o),a&&n.utils.dom.closest(t.target,a)||i&&!0!==t[i]||e._startDrag(t)}}})),this._domEvents.attach(document,"keydown",(function(t){if(n.config.drag_timeline){var r=n.config.drag_timeline.useKey;r&&!0===t[r]&&e._applyDndReadyStyles()}})),this._domEvents.attach(document,"keyup",(function(t){if(n.config.drag_timeline){var r=n.config.drag_timeline.useKey;r&&!1===t[r]&&(e._clearDndReadyStyles(),e._stopDrag(t))}})),this._domEvents.attach(document,"mouseup",(function(t){e._stopDrag(t)})),this._domEvents.attach(n.$root,"mouseup",(function(t){e._stopDrag(t)})),this._domEvents.attach(document,"mouseleave",(function(t){e._stopDrag(t)})),this._domEvents.attach(n.$root,"mouseleave",(function(t){e._stopDrag(t)})),this._domEvents.attach(n.$root,"mousemove",(function(r){if(n.config.drag_timeline){var i=n.config.drag_timeline.useKey;if(!i||!0===r[i]){var o=e._gantt.ext.clickDrag,a=(e._gantt.config.click_drag||{}).useKey;if((!o||!a||i||!r[a])&&!0===e._mouseDown){e._trace.push({x:r.clientX,y:r.clientY});var s=e._countNewScrollPosition({x:r.clientX,y:r.clientY});e._setScrollPosition(t,s),e._scrollState=s,e._startPoint={x:r.clientX,y:r.clientY}}}}}))},t}();e.EventsManager=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(){var t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;return!(!t||t!==document.body)}t.$services.getService("state").registerProvider("fullscreen",(function(){return{fullscreen:e()}}));var n={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},r={width:null,height:null,top:null,left:null,position:null,zIndex:null,modified:!1},i=null;function o(t,e){e.width=t.width,e.height=t.height,e.top=t.top,e.left=t.left,e.position=t.position,e.zIndex=t.zIndex}var a=!1;function s(){var s;t.$container&&(e()?a&&(s="onExpand",function(){var e=t.ext.fullscreen.getFullscreenElement(),a=document.body;o(e.style,r),n={overflow:a.style.overflow,padding:a.style.padding?a.style.padding:null,paddingTop:a.style.paddingTop?a.style.paddingTop:null,paddingRight:a.style.paddingRight?a.style.paddingRight:null,paddingBottom:a.style.paddingBottom?a.style.paddingBottom:null,paddingLeft:a.style.paddingLeft?a.style.paddingLeft:null},a.style.padding&&(a.style.padding="0"),a.style.paddingTop&&(a.style.paddingTop="0"),a.style.paddingRight&&(a.style.paddingRight="0"),a.style.paddingBottom&&(a.style.paddingBottom="0"),a.style.paddingLeft&&(a.style.paddingLeft="0"),a.style.overflow="hidden",e.style.width="100vw",e.style.height="100vh",e.style.top="0px",e.style.left="0px",e.style.position="absolute",e.style.zIndex=1,r.modified=!0,i=function(t){for(var e=t.parentNode,n=[];e&&e.style;)n.push({element:e,originalPositioning:e.style.position}),e.style.position="static",e=e.parentNode;return n}(e)}()):a&&(a=!1,s="onCollapse",function(){var e=t.ext.fullscreen.getFullscreenElement(),a=document.body;r.modified&&(n.padding&&(a.style.padding=n.padding),n.paddingTop&&(a.style.paddingTop=n.paddingTop),n.paddingRight&&(a.style.paddingRight=n.paddingRight),n.paddingBottom&&(a.style.paddingBottom=n.paddingBottom),n.paddingLeft&&(a.style.paddingLeft=n.paddingLeft),a.style.overflow=n.overflow,n={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},o(r,e.style),r.modified=!1),function(t){t.forEach((function(t){t.element.style.position=t.originalPositioning}))}(i),i=null}()),setTimeout((function(){t.render()})),setTimeout((function(){t.callEvent(s,[t.ext.fullscreen.getFullscreenElement()])})))}function u(){return!(t.$container&&t.ext.fullscreen.getFullscreenElement()&&(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||((console.warning||console.log)("The `fullscreen` feature not being allowed, or full-screen mode not being supported"),0)))}t.ext.fullscreen={expand:function(){if(!u()&&!e()&&t.callEvent("onBeforeExpand",[this.getFullscreenElement()])){a=!0;var n=document.body,r=n.webkitRequestFullscreen?[Element.ALLOW_KEYBOARD_INPUT]:[],i=n.msRequestFullscreen||n.mozRequestFullScreen||n.webkitRequestFullscreen||n.requestFullscreen;i&&i.apply(n,r)}},collapse:function(){if(!u()&&e()&&t.callEvent("onBeforeCollapse",[this.getFullscreenElement()])){var n=document.msExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.exitFullscreen;n&&n.apply(document)}},toggle:function(){u()||(e()?this.collapse():this.expand())},getFullscreenElement:function(){return t.$root}},t.expand=function(){t.ext.fullscreen.expand()},t.collapse=function(){t.ext.fullscreen.collapse()},t.attachEvent("onGanttReady",(function(){t.event(document,"webkitfullscreenchange",s),t.event(document,"mozfullscreenchange",s),t.event(document,"MSFullscreenChange",s),t.event(document,"fullscreenChange",s),t.event(document,"fullscreenchange",s)}))}},function(t,e,n){t.exports=function(t){var e=n(4);!function(t){t.config.keyboard_navigation=!0,t.config.keyboard_navigation_cells=!1,t.$keyboardNavigation={},t._compose=function(){for(var t=Array.prototype.slice.call(arguments,0),e={},n=0;n<t.length;n++){var r=t[n];for(var i in"function"==typeof r&&(r=new r),r)e[i]=r[i]}return e},n(72)(t),n(73)(t),n(74)(t),n(75)(t),n(76)(t),n(77)(t),n(78)(t),n(79)(t),n(80)(t),n(81)(t);var r=n(1);!function(){var n=t.$keyboardNavigation.dispatcher;n.isTaskFocused=function(e){var r=n.activeNode;return(r instanceof t.$keyboardNavigation.TaskRow||r instanceof t.$keyboardNavigation.TaskCell)&&r.taskId==e};var i=function(e){if(t.config.keyboard_navigation&&(t.config.keyboard_navigation_cells||!s(e)))return n.keyDownHandler(e)},o=function(e){if(n.$preventDefault)return e.preventDefault(),t.$container.blur(),!1;n.awaitsFocus()||n.focusGlobalNode()},a=function(){if(n.isEnabled()){var t=n.getActiveNode();if(t){var e,r,i=t.getNode();i&&i.parentNode&&(e=i.parentNode.scrollTop,r=i.parentNode.scrollLeft),t.focus(!0),i&&i.parentNode&&(i.parentNode.scrollTop=e,i.parentNode.scrollLeft=r)}}};function s(t){return!!r.closest(t.target,".gantt_grid_editor_placeholder")}function u(e){if(!t.config.keyboard_navigation)return!0;if(!t.config.keyboard_navigation_cells&&s(e))return!0;var i,o=n.fromDomElement(e);o&&(n.activeNode instanceof t.$keyboardNavigation.TaskCell&&r.isChildOf(e.target,t.$task)&&(o=new t.$keyboardNavigation.TaskCell(o.taskId,n.activeNode.columnIndex)),i=o),i?n.isEnabled()?n.delay((function(){n.setActiveNode(i)})):n.activeNode=i:(n.$preventDefault=!0,setTimeout((function(){n.$preventDefault=!1}),300))}t.attachEvent("onDataRender",(function(){t.config.keyboard_navigation&&a()})),t.attachEvent("onGanttRender",(function(){t.eventRemove(t.$root,"keydown",i),t.eventRemove(t.$container,"focus",o),t.eventRemove(t.$container,"mousedown",u),t.config.keyboard_navigation?(t.event(t.$root,"keydown",i),t.event(t.$container,"focus",o),t.event(t.$container,"mousedown",u),t.$container.setAttribute("tabindex","0")):t.$container.removeAttribute("tabindex")}));var l=t.attachEvent("onGanttReady",(function(){if(t.detachEvent(l),t.$data.tasksStore.attachEvent("onStoreUpdated",(function(e){if(t.config.keyboard_navigation&&n.isEnabled()){var r=n.getActiveNode();r&&r.taskId==e&&a()}})),t._smart_render){var e=t._smart_render._redrawTasks;t._smart_render._redrawTasks=function(r,i){if(t.config.keyboard_navigation&&n.isEnabled()){var o=n.getActiveNode();if(o&&void 0!==o.taskId){for(var a=!1,s=0;s<i.length;s++)if(i[s].id==o.taskId&&i[s].start_date){a=!0;break}a||i.push(t.getTask(o.taskId))}}return e.apply(this,arguments)}}}));t.attachEvent("onAfterTaskAdd",(function(e,r){if(!t.config.keyboard_navigation)return!0;if(n.isEnabled()){var i=0,o=n.activeNode;o instanceof t.$keyboardNavigation.TaskCell&&(i=o.columnIndex);var a=t.config.keyboard_navigation_cells?t.$keyboardNavigation.TaskCell:t.$keyboardNavigation.TaskRow;n.setActiveNode(new a(e,i))}})),t.attachEvent("onTaskIdChange",(function(e,r){if(!t.config.keyboard_navigation)return!0;var i=n.activeNode;return n.isTaskFocused(e)&&(i.taskId=r),!0}));var c=setInterval((function(){t.config.keyboard_navigation&&(n.isEnabled()||n.enable())}),500);function h(e){var n={gantt:t.$keyboardNavigation.GanttNode,headerCell:t.$keyboardNavigation.HeaderCell,taskRow:t.$keyboardNavigation.TaskRow,taskCell:t.$keyboardNavigation.TaskCell};return n[e]||n.gantt}function f(e){for(var n=t.getGridColumns(),r=0;r<n.length;r++)if(n[r].name==e)return r;return 0}t.attachEvent("onDestroy",(function(){clearInterval(c)}));var d={};e(d),t.mixin(d,{addShortcut:function(t,e,n){var r=h(n);r&&r.prototype.bind(t,e)},getShortcutHandler:function(e,n){var r=t.$keyboardNavigation.shortcuts.parse(e);if(r.length)return d.getCommandHandler(r[0],n)},getCommandHandler:function(t,e){var n=h(e);if(n&&t)return n.prototype.findHandler(t)},removeShortcut:function(t,e){var n=h(e);n&&n.prototype.unbind(t)},focus:function(t){var e,r=t?t.type:null,i=h(r);switch(r){case"taskCell":e=new i(t.id,f(t.column));break;case"taskRow":e=new i(t.id);break;case"headerCell":e=new i(f(t.column))}n.delay((function(){e?n.setActiveNode(e):(n.enable(),n.getActiveNode()?n.awaitsFocus()||n.enable():n.setDefaultNode())}))},getActiveNode:function(){if(n.isEnabled()){var e=n.getActiveNode(),r=function(e){return e instanceof t.$keyboardNavigation.GanttNode?"gantt":e instanceof t.$keyboardNavigation.HeaderCell?"headerCell":e instanceof t.$keyboardNavigation.TaskRow?"taskRow":e instanceof t.$keyboardNavigation.TaskCell?"taskCell":null}(e),i=t.getGridColumns();switch(r){case"taskCell":return{type:"taskCell",id:e.taskId,column:i[e.columnIndex].name};case"taskRow":return{type:"taskRow",id:e.taskId};case"headerCell":return{type:"headerCell",column:i[e.index].name}}}return null}}),t.$keyboardNavigation.facade=d,t.ext.keyboardNavigation=d,t.focus=function(){d.focus()},t.addShortcut=d.addShortcut,t.getShortcutHandler=d.getShortcutHandler,t.removeShortcut=d.removeShortcut}()}(t)}},function(t,e){t.exports=function(t){t.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(t){for(var e=[],n=this.getExpressions(this.trim(t)),r=0;r<n.length;r++){for(var i=this.getWords(n[r]),o=this.createCommand(),a=0;a<i.length;a++)this.commandKeys[i[a]]?o.modifiers[i[a]]=!0:this.specialKeys[i[a]]?o.keyCode=this.specialKeys[i[a]]:o.keyCode=i[a].charCodeAt(0);e.push(o)}return e},getCommandFromEvent:function(t){var e=this.createCommand();e.modifiers.shift=!!t.shiftKey,e.modifiers.alt=!!t.altKey,e.modifiers.ctrl=!!t.ctrlKey,e.modifiers.meta=!!t.metaKey,e.keyCode=t.which||t.keyCode,e.keyCode>=96&&e.keyCode<=105&&(e.keyCode-=48);var n=String.fromCharCode(e.keyCode);return n&&(e.keyCode=n.toLowerCase().charCodeAt(0)),e},getHashFromEvent:function(t){return this.getHash(this.getCommandFromEvent(t))},getHash:function(t){var e=[];for(var n in t.modifiers)t.modifiers[n]&&e.push(n);return e.push(t.keyCode),e.join(this.junctionChar)},getExpressions:function(t){return t.split(this.junctionChar)},getWords:function(t){return t.split(this.combinationChar)},trim:function(t){return t.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,delete:46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}}}},function(t,e){t.exports=function(t){t.$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(e){this._handlers||(this._handlers={});var n=t.$keyboardNavigation.shortcuts.getHash(e);return this._handlers[n]},doAction:function(e,n){var r=this.findHandler(e);if(r){if(!1===t.$keyboardNavigation.facade.callEvent("onBeforeAction",[e,n]))return;r.call(this,n),n.preventDefault?n.preventDefault():n.returnValue=!1}},bind:function(e,n){this._handlers||(this._handlers={});for(var r=t.$keyboardNavigation.shortcuts,i=r.parse(e),o=0;o<i.length;o++)this._handlers[r.getHash(i[o])]=n},unbind:function(e){for(var n=t.$keyboardNavigation.shortcuts,r=n.parse(e),i=0;i<r.length;i++)this._handlers[n.getHash(r[i])]&&delete this._handlers[n.getHash(r[i])]},bindAll:function(t){for(var e in t)this.bind(e,t[e])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}}}},function(t,e,n){t.exports=function(t){!function(){var e=n(1);t.$keyboardNavigation.getFocusableNodes=e.getFocusableNodes,t.$keyboardNavigation.trapFocus=function(n,r){if(9!=r.keyCode)return!1;for(var i=t.$keyboardNavigation.getFocusableNodes(n),o=e.getActiveElement(),a=-1,s=0;s<i.length;s++)if(i[s]==o){a=s;break}if(r.shiftKey){if(a<=0){var u=i[i.length-1];if(u)return u.focus(),r.preventDefault(),!0}}else if(a>=i.length-1){var l=i[0];if(l)return l.focus(),r.preventDefault(),!0}return!1}}()}},function(t,e){t.exports=function(t){t.$keyboardNavigation.GanttNode=function(){},t.$keyboardNavigation.GanttNode.prototype=t._compose(t.$keyboardNavigation.EventHandler,{focus:function(){t.focus()},blur:function(){},isEnabled:function(){return t.$container.hasAttribute("tabindex")},scrollHorizontal:function(e){var n=t.dateFromPos(t.getScrollState().x),r=t.getScale(),i=e<0?-r.step:r.step;n=t.date.add(n,i,r.unit),t.scrollTo(t.posFromDate(n))},scrollVertical:function(e){var n=t.getScrollState().y,r=t.config.row_height;t.scrollTo(null,n+(e<0?-1:1)*r)},keys:{"alt+left":function(t){this.scrollHorizontal(-1)},"alt+right":function(t){this.scrollHorizontal(1)},"alt+up":function(t){this.scrollVertical(-1)},"alt+down":function(t){this.scrollVertical(1)},"ctrl+z":function(){t.undo&&t.undo()},"ctrl+r":function(){t.redo&&t.redo()}}}),t.$keyboardNavigation.GanttNode.prototype.bindAll(t.$keyboardNavigation.GanttNode.prototype.keys)}},function(t,e){t.exports=function(t){t.$keyboardNavigation.KeyNavNode=function(){},t.$keyboardNavigation.KeyNavNode.prototype=t._compose(t.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(e){t.$keyboardNavigation.dispatcher.setActiveNode(e)},compareTo:function(t){if(!t)return!1;for(var e in this){if(!!this[e]!=!!t[e])return!1;var n=!(!this[e]||!this[e].toString),r=!(!t[e]||!t[e].toString);if(r!=n)return!1;if(r&&n){if(t[e].toString()!=this[e].toString())return!1}else if(t[e]!=this[e])return!1}return!0},getNode:function(){},focus:function(){var e=this.getNode();if(e){var n=t.$keyboardNavigation.facade;!1!==n.callEvent("onBeforeFocus",[e])&&e&&(e.setAttribute("tabindex","-1"),e.$eventAttached||(e.$eventAttached=!0,t.event(e,"focus",(function(t){return t.preventDefault(),!1}),!1)),e.focus&&e.focus(),n.callEvent("onFocus",[this.getNode()]))}},blur:function(){var e=this.getNode();e&&(t.$keyboardNavigation.facade.callEvent("onBlur",[e]),e.setAttribute("tabindex","-1"))}})}},function(t,e,n){t.exports=function(t){var e=n(1);t.$keyboardNavigation.HeaderCell=function(t){this.index=t||0},t.$keyboardNavigation.HeaderCell.prototype=t._compose(t.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return!(!t.config.show_grid&&t.getVisibleTaskCount())&&(!!t.getGridColumns()[this.index]||!t.getVisibleTaskCount())},fallback:function(){if(!t.config.show_grid)return t.getVisibleTaskCount()?new t.$keyboardNavigation.TaskRow:null;for(var e=t.getGridColumns(),n=this.index;n>=0&&!e[n];)n--;return e[n]?new t.$keyboardNavigation.HeaderCell(n):null},fromDomElement:function(n){var r=e.locateClassName(n,"gantt_grid_head_cell");if(r){for(var i=0;r&&r.previousSibling;)r=r.previousSibling,i+=1;return new t.$keyboardNavigation.HeaderCell(i)}return null},getNode:function(){return t.$grid_scale.childNodes[this.index]},keys:{left:function(){this.index>0&&this.moveTo(new t.$keyboardNavigation.HeaderCell(this.index-1))},right:function(){var e=t.getGridColumns();this.index<e.length-1&&this.moveTo(new t.$keyboardNavigation.HeaderCell(this.index+1))},down:function(){var e,n=t.getChildren(t.config.root_id);t.isTaskExists(n[0])&&(e=n[0]),e&&(t.config.keyboard_navigation_cells?this.moveTo(new t.$keyboardNavigation.TaskCell(e,this.index)):this.moveTo(new t.$keyboardNavigation.TaskRow(e)))},end:function(){var e=t.getGridColumns();this.moveTo(new t.$keyboardNavigation.HeaderCell(e.length-1))},home:function(){this.moveTo(new t.$keyboardNavigation.HeaderCell(0))},"enter, space":function(){e.getActiveElement().click()},"ctrl+enter":function(){t.isReadonly(this)||t.createTask({},this.taskId)}}}),t.$keyboardNavigation.HeaderCell.prototype.bindAll(t.$keyboardNavigation.HeaderCell.prototype.keys)}},function(t,e){t.exports=function(t){t.$keyboardNavigation.TaskRow=function(e){if(!e){var n=t.getChildren(t.config.root_id);n[0]&&(e=n[0])}this.taskId=e,t.isTaskExists(this.taskId)&&(this.index=t.getTaskIndex(this.taskId))},t.$keyboardNavigation.TaskRow.prototype=t._compose(t.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return t.isTaskExists(this.taskId)&&t.getTaskIndex(this.taskId)>-1},fallback:function(){if(!t.getVisibleTaskCount()){var e=new t.$keyboardNavigation.HeaderCell;return e.isValid()?e:null}var n=-1;if(t.getTaskByIndex(this.index-1))n=this.index-1;else if(t.getTaskByIndex(this.index+1))n=this.index+1;else for(var r=this.index;r>=0;){if(t.getTaskByIndex(r)){n=r;break}r--}if(n>-1)return new t.$keyboardNavigation.TaskRow(t.getTaskByIndex(n).id)},fromDomElement:function(e){if(t.config.keyboard_navigation_cells)return null;var n=t.locate(e);return t.isTaskExists(n)?new t.$keyboardNavigation.TaskRow(n):null},getNode:function(){if(t.isTaskExists(this.taskId)&&t.isTaskVisible(this.taskId))return t.config.show_grid?t.$grid.querySelector(".gantt_row["+t.config.task_attribute+"='"+this.taskId+"']"):t.getTaskNode(this.taskId)},focus:function(e){if(!e){var n,r,i=t.getTaskPosition(t.getTask(this.taskId)),o=t.getTaskHeight(this.taskId),a=t.getScrollState();n=t.$task?t.$task.offsetWidth:a.inner_width,r=t.$grid_data||t.$task_data?(t.$grid_data||t.$task_data).offsetHeight:a.inner_height,i.top<a.y||i.top+o>a.y+r?t.scrollTo(null,i.top-5*o):t.config.scroll_on_click&&t.config.show_chart&&(i.left>a.x+n?t.scrollTo(i.left-t.config.task_scroll_offset):i.left+i.width<a.x&&t.scrollTo(i.left+i.width-t.config.task_scroll_offset))}t.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this,[e]),function(){var e=t.$ui.getView("grid"),n=parseInt(e.$grid.scrollLeft),r=parseInt(e.$grid_data.scrollTop),i=e.$config.scrollX;if(i&&e.$config.scrollable){var o=t.$ui.getView(i);o&&o.scrollTo(n,r)}var a=e.$config.scrollY;if(a){var s=t.$ui.getView(a);s&&s.scrollTo(n,r)}}()},keys:{pagedown:function(){t.getVisibleTaskCount()&&this.moveTo(new t.$keyboardNavigation.TaskRow(t.getTaskByIndex(t.getVisibleTaskCount()-1).id))},pageup:function(){t.getVisibleTaskCount()&&this.moveTo(new t.$keyboardNavigation.TaskRow(t.getTaskByIndex(0).id))},up:function(){var e=null,n=t.getPrev(this.taskId);e=t.isTaskExists(n)?new t.$keyboardNavigation.TaskRow(n):new t.$keyboardNavigation.HeaderCell,this.moveTo(e)},down:function(){var e=t.getNext(this.taskId);t.isTaskExists(e)&&this.moveTo(new t.$keyboardNavigation.TaskRow(e))},"shift+down":function(){t.hasChild(this.taskId)&&!t.getTask(this.taskId).$open&&t.open(this.taskId)},"shift+up":function(){t.hasChild(this.taskId)&&t.getTask(this.taskId).$open&&t.close(this.taskId)},"shift+right":function(){if(!t.isReadonly(this)){var e=t.getPrevSibling(this.taskId);t.isTaskExists(e)&&!t.isChildOf(this.taskId,e)&&(t.getTask(e).$open=!0,!1!==t.moveTask(this.taskId,-1,e)&&t.updateTask(this.taskId))}},"shift+left":function(){if(!t.isReadonly(this)){var e=t.getParent(this.taskId);t.isTaskExists(e)&&!1!==t.moveTask(this.taskId,t.getTaskIndex(e)+1,t.getParent(e))&&t.updateTask(this.taskId)}},space:function(e){t.isSelectedTask(this.taskId)?t.unselectTask(this.taskId):t.selectTask(this.taskId)},"ctrl+left":function(e){t.close(this.taskId)},"ctrl+right":function(e){t.open(this.taskId)},delete:function(e){t.isReadonly(this)||t.$click.buttons.delete(this.taskId)},enter:function(){t.isReadonly(this)||t.showLightbox(this.taskId)},"ctrl+enter":function(){t.isReadonly(this)||t.createTask({},this.taskId)}}}),t.$keyboardNavigation.TaskRow.prototype.bindAll(t.$keyboardNavigation.TaskRow.prototype.keys)}},function(t,e,n){t.exports=function(t){var e=n(1),r=n(2).replaceValidZeroId;t.$keyboardNavigation.TaskCell=function(e,n){if(!(e=r(e,t.config.root_id))){var i=t.getChildren(t.config.root_id);i[0]&&(e=i[0])}this.taskId=e,this.columnIndex=n||0,t.isTaskExists(this.taskId)&&(this.index=t.getTaskIndex(this.taskId))},t.$keyboardNavigation.TaskCell.prototype=t._compose(t.$keyboardNavigation.TaskRow,{_handlers:null,isValid:function(){return t.$keyboardNavigation.TaskRow.prototype.isValid.call(this)&&!!t.getGridColumns()[this.columnIndex]},fallback:function(){var e=t.$keyboardNavigation.TaskRow.prototype.fallback.call(this),n=e;if(e instanceof t.$keyboardNavigation.TaskRow){for(var r=t.getGridColumns(),i=this.columnIndex;i>=0&&!r[i];)i--;r[i]&&(n=new t.$keyboardNavigation.TaskCell(e.taskId,i))}return n},fromDomElement:function(n){if(!t.config.keyboard_navigation_cells)return null;var r=t.locate(n);if(t.isTaskExists(r)){var i=0,o=e.locateAttribute(n,"data-column-index");return o&&(i=1*o.getAttribute("data-column-index")),new t.$keyboardNavigation.TaskCell(r,i)}return null},getNode:function(){if(t.isTaskExists(this.taskId)&&t.isTaskVisible(this.taskId)){if(t.config.show_grid){var e=t.$grid.querySelector(".gantt_row["+t.config.task_attribute+"='"+this.taskId+"']");return e?e.querySelector("[data-column-index='"+this.columnIndex+"']"):null}return t.getTaskNode(this.taskId)}},keys:{up:function(){var e=null,n=t.getPrev(this.taskId);e=t.isTaskExists(n)?new t.$keyboardNavigation.TaskCell(n,this.columnIndex):new t.$keyboardNavigation.HeaderCell(this.columnIndex),this.moveTo(e)},down:function(){var e=t.getNext(this.taskId);t.isTaskExists(e)&&this.moveTo(new t.$keyboardNavigation.TaskCell(e,this.columnIndex))},left:function(){this.columnIndex>0&&this.moveTo(new t.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex-1))},right:function(){var e=t.getGridColumns();this.columnIndex<e.length-1&&this.moveTo(new t.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex+1))},end:function(){var e=t.getGridColumns();this.moveTo(new t.$keyboardNavigation.TaskCell(this.taskId,e.length-1))},home:function(){this.moveTo(new t.$keyboardNavigation.TaskCell(this.taskId,0))},pagedown:function(){t.getVisibleTaskCount()&&this.moveTo(new t.$keyboardNavigation.TaskCell(t.getTaskByIndex(t.getVisibleTaskCount()-1).id,this.columnIndex))},pageup:function(){t.getVisibleTaskCount()&&this.moveTo(new t.$keyboardNavigation.TaskCell(t.getTaskByIndex(0).id,this.columnIndex))}}}),t.$keyboardNavigation.TaskCell.prototype.bindAll(t.$keyboardNavigation.TaskRow.prototype.keys),t.$keyboardNavigation.TaskCell.prototype.bindAll(t.$keyboardNavigation.TaskCell.prototype.keys)}},function(t,e){t.exports=function(t){!function(){var e=[];function n(){return!!e.length}function r(e){setTimeout((function(){n()||t.$destroyed||t.focus()}),1)}function i(n){t.eventRemove(n,"keydown",a),t.event(n,"keydown",a),e.push(n)}function o(){var n=e.pop();n&&t.eventRemove(n,"keydown",a),r()}function a(n){var r=n.currentTarget;(function(t){return t==e[e.length-1]})(r)&&t.$keyboardNavigation.trapFocus(r,n)}function s(){i(t.getLightbox())}t.attachEvent("onLightbox",s),t.attachEvent("onAfterLightbox",o),t.attachEvent("onLightboxChange",(function(){o(),s()})),t.attachEvent("onAfterQuickInfo",(function(){r()})),t.attachEvent("onMessagePopup",(function(e){u=t.utils.dom.getActiveElement(),i(e)})),t.attachEvent("onAfterMessagePopup",(function(){o(),setTimeout((function(){u&&(u.focus(),u=null)}),1)}));var u=null;t.$keyboardNavigation.isModal=n}()}},function(t,e){t.exports=function(t){t.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new t.$keyboardNavigation.GanttNode,enable:function(){this.isActive=!0,this.setActiveNode(this.getActiveNode())},disable:function(){this.isActive=!1},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){var e;return(e=t.config.keyboard_navigation_cells?new t.$keyboardNavigation.TaskCell:new t.$keyboardNavigation.TaskRow).isValid()||(e=e.fallback()),e},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var t=this.activeNode;return t&&!t.isValid()&&(t=t.fallback()),t},fromDomElement:function(e){for(var n=[t.$keyboardNavigation.TaskRow,t.$keyboardNavigation.TaskCell,t.$keyboardNavigation.HeaderCell],r=0;r<n.length;r++)if(n[r].prototype.fromDomElement){var i=n[r].prototype.fromDomElement(e);if(i)return i}return null},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(t){var e=!0;this.activeNode&&this.activeNode.compareTo(t)&&(e=!1),this.isEnabled()&&(e&&this.blurNode(this.activeNode),this.activeNode=t,this.focusNode(this.activeNode,!e))},focusNode:function(t,e){t&&t.focus&&t.focus(e)},blurNode:function(t){t&&t.blur&&t.blur()},keyDownHandler:function(e){if(!t.$keyboardNavigation.isModal()&&this.isEnabled()&&!e.defaultPrevented){var n=this.globalNode,r=t.$keyboardNavigation.shortcuts.getCommandFromEvent(e),i=this.getActiveNode();!1!==t.$keyboardNavigation.facade.callEvent("onKeyDown",[r,e])&&(i?i.findHandler(r)?i.doAction(r,e):n.findHandler(r)&&n.doAction(r,e):this.setDefaultNode())}},_timeout:null,awaitsFocus:function(){return null!==this._timeout},delay:function(e,n){clearTimeout(this._timeout),this._timeout=setTimeout(t.bind((function(){this._timeout=null,e()}),this),n||1)},clearDelay:function(){clearTimeout(this._timeout)}}}},function(t,e){t.exports=function(t){function e(e){if(!t.config.show_markers)return!1;if(!e.start_date)return!1;var n=t.getState();if(!(+e.start_date>+n.max_date||(!e.end_date||+e.end_date<+n.min_date)&&+e.start_date<+n.min_date)){var r=document.createElement("div");r.setAttribute("data-marker-id",e.id);var i="gantt_marker";t.templates.marker_class&&(i+=" "+t.templates.marker_class(e)),e.css&&(i+=" "+e.css),e.title&&(r.title=e.title),r.className=i;var o=t.posFromDate(e.start_date);if(r.style.left=o+"px",r.style.height=Math.max(t.getRowTop(t.getVisibleTaskCount()),0)+"px",e.end_date){var a=t.posFromDate(e.end_date);r.style.width=Math.max(a-o,0)+"px"}return e.text&&(r.innerHTML="<div class='gantt_marker_content' >"+e.text+"</div>"),r}}function n(){if(t.$task_data){var e=document.createElement("div");e.className="gantt_marker_area",t.$task_data.appendChild(e),t.$marker_area=e}}t._markers||(t._markers=t.createDatastore({name:"marker",initItem:function(e){return e.id=e.id||t.uid(),e}})),t.config.show_markers=!0,t.attachEvent("onBeforeGanttRender",(function(){t.$marker_area||n()})),t.attachEvent("onDataRender",(function(){t.$marker_area||(n(),t.renderMarkers())})),t.attachEvent("onGanttLayoutReady",(function(){t.attachEvent("onBeforeGanttRender",(function(){n(),t.$services.getService("layers").createDataRender({name:"marker",defaultContainer:function(){return t.$marker_area}}).addLayer(e)}),{once:!0})})),t.getMarker=function(t){return this._markers?this._markers.getItem(t):null},t.addMarker=function(t){return this._markers.addItem(t)},t.deleteMarker=function(t){return!!this._markers.exists(t)&&(this._markers.removeItem(t),!0)},t.updateMarker=function(t){this._markers.refresh(t)},t._getMarkers=function(){return this._markers.getItems()},t.renderMarkers=function(){this._markers.refresh()}}},function(t,e,n){var r=n(2).replaceValidZeroId;t.exports=function(t){t.config.multiselect=!0,t.config.multiselect_one_level=!1,t._multiselect={_selected:{},_one_level:!1,_active:!0,_first_selected_when_shift:null,getDefaultSelected:function(){var t=this.getSelected();return t.length?t[t.length-1]:null},setFirstSelected:function(t){this._first_selected_when_shift=t},getFirstSelected:function(){return this._first_selected_when_shift},isActive:function(){return this.updateState(),this._active},updateState:function(){this._one_level=t.config.multiselect_one_level;var e=this._active;this._active=t.config.select_task,this._active!=e&&this.reset()},reset:function(){this._selected={}},setLastSelected:function(e){t.$data.tasksStore.silent((function(){var n=t.$data.tasksStore;e?n.select(e+""):n.unselect(null)}))},getLastSelected:function(){var e=t.$data.tasksStore.getSelectedId();return e&&t.isTaskExists(e)?e:null},select:function(e,n){return!!(e&&t.callEvent("onBeforeTaskMultiSelect",[e,!0,n])&&t.callEvent("onBeforeTaskSelected",[e]))&&(this._selected[e]=!0,this.setLastSelected(e),this.afterSelect(e),t.callEvent("onTaskMultiSelect",[e,!0,n]),t.callEvent("onTaskSelected",[e]),!0)},toggle:function(t,e){this._selected[t]?this.unselect(t,e):this.select(t,e)},unselect:function(e,n){e&&t.callEvent("onBeforeTaskMultiSelect",[e,!1,n])&&(this._selected[e]=!1,this.getLastSelected()==e&&this.setLastSelected(this.getDefaultSelected()),this.afterSelect(e),t.callEvent("onTaskMultiSelect",[e,!1,n]),t.callEvent("onTaskUnselected",[e]))},isSelected:function(e){return!(!t.isTaskExists(e)||!this._selected[e])},getSelected:function(){var e=[];for(var n in this._selected)this._selected[n]&&t.isTaskExists(n)?e.push(n):this._selected[n]=!1;return e.sort((function(e,n){return t.getGlobalTaskIndex(e)>t.getGlobalTaskIndex(n)?1:-1})),e},forSelected:function(t){for(var e=this.getSelected(),n=0;n<e.length;n++)t(e[n])},isSameLevel:function(e){if(!this._one_level)return!0;var n=this.getLastSelected();return!n||!t.isTaskExists(n)||!t.isTaskExists(e)||!(t.calculateTaskLevel(t.getTask(n))!=t.calculateTaskLevel(t.getTask(e)))},afterSelect:function(e){t.isTaskExists(e)&&t._quickRefresh((function(){t.refreshTask(e)}))},doSelection:function(e){if(!this.isActive())return!1;if(t._is_icon_open_click(e))return!1;var n=t.locate(e);if(!n)return!1;if(!t.callEvent("onBeforeMultiSelect",[e]))return!1;var r=this.getSelected(),i=this.getFirstSelected(),o=!1,a=this.getLastSelected(),s=t.config.multiselect,u=function(){var i=t.ext.inlineEditors,o=i.getState(),a=i.locateCell(e.target);t.config.inline_editors_multiselect_open&&a&&i.getEditorConfig(a.columnName)&&(i.isVisible()&&o.id==a.id&&o.columnName==a.columnName||i.startEdit(a.id,a.columnName)),this.setFirstSelected(n),this.isSelected(n)||this.select(n,e),r=this.getSelected();for(var s=0;s<r.length;s++)r[s]!==n&&this.unselect(r[s],e)}.bind(this),l=function(){if(a){if(n){for(var r=t.getGlobalTaskIndex(this.getFirstSelected()),s=t.getGlobalTaskIndex(n),u=t.getGlobalTaskIndex(a),l=a;t.getGlobalTaskIndex(l)!==r;)this.unselect(l,e),l=r>u?t.getNext(l):t.getPrev(l);for(l=n;t.getGlobalTaskIndex(l)!==r;)this.select(l,e)&&!o&&(o=!0,i=l),l=r>s?t.getNext(l):t.getPrev(l)}}else a=n}.bind(this);return s&&(e.ctrlKey||e.metaKey)?(this.isSelected(n)||this.setFirstSelected(n),n&&this.toggle(n,e)):s&&e.shiftKey?(t.isTaskExists(this.getFirstSelected())&&null!==this.getFirstSelected()||this.setFirstSelected(n),r.length?l():u()):u(),this.isSelected(n)?this.setLastSelected(n):i?n==a&&this.setLastSelected(e.shiftKey?i:this.getDefaultSelected()):this.setLastSelected(null),this.getSelected().length||this.setLastSelected(null),this.getLastSelected()&&this.isSelected(this.getFirstSelected())||this.setFirstSelected(this.getLastSelected()),!0}},function(){var e=t.selectTask;t.selectTask=function(n){if(!(n=r(n,this.config.root_id)))return!1;var i=t._multiselect,o=n;return i.isActive()?(i.select(n,null)&&i.setLastSelected(n),i.setFirstSelected(i.getLastSelected())):o=e.call(this,n),o};var n=t.unselectTask;t.unselectTask=function(e){var r=t._multiselect,i=r.isActive();(e=e||r.getLastSelected())&&i&&(r.unselect(e,null),e==r.getLastSelected()&&r.setLastSelected(null),t.refreshTask(e),r.setFirstSelected(r.getLastSelected()));var o=e;return i||(o=n.call(this,e)),o},t.toggleTaskSelection=function(e){var n=t._multiselect;e&&n.isActive()&&(n.toggle(e),n.setFirstSelected(n.getLastSelected()))},t.getSelectedTasks=function(){var e=t._multiselect;return e.isActive(),e.getSelected()},t.eachSelectedTask=function(t){return this._multiselect.forSelected(t)},t.isSelectedTask=function(t){return this._multiselect.isSelected(t)},t.getLastSelectedTask=function(){return this._multiselect.getLastSelected()},t.attachEvent("onGanttReady",(function(){var e=t.$data.tasksStore.isSelected;t.$data.tasksStore.isSelected=function(n){return t._multiselect.isActive()?t._multiselect.isSelected(n):e.call(this,n)}}))}(),t.attachEvent("onTaskIdChange",(function(e,n){var r=t._multiselect;if(!r.isActive())return!0;t.isSelectedTask(e)&&(r.unselect(e,null),r.select(n,null))})),t.attachEvent("onAfterTaskDelete",(function(e,n){var r=t._multiselect;if(!r.isActive())return!0;r._selected[e]&&(r.unselect(e,null),r._selected[e]=!1,r.setLastSelected(r.getDefaultSelected())),r.forSelected((function(e){t.isTaskExists(e)||r.unselect(e,null)}))})),t.attachEvent("onBeforeTaskMultiSelect",(function(e,n,r){var i=t._multiselect;return!(n&&i.isActive()&&i._one_level)||i.isSameLevel(e)})),t.attachEvent("onTaskClick",(function(e,n){return t._multiselect.doSelection(n)&&t.callEvent("onMultiSelect",[n]),!0}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(85);e.default=function(t){t.ext||(t.ext={}),t.ext.quickInfo=new r.QuickInfo(t),t.config.quickinfo_buttons=["icon_delete","icon_edit"],t.config.quick_info_detached=!0,t.config.show_quick_info=!0,t.templates.quick_info_title=function(t,e,n){return n.text.substr(0,50)},t.templates.quick_info_content=function(t,e,n){return n.details||n.text},t.templates.quick_info_date=function(e,n,r){return t.templates.task_time(e,n,r)},t.templates.quick_info_class=function(t,e,n){return""},t.attachEvent("onTaskClick",(function(e,n){return t.utils.dom.closest(n.target,".gantt_add")||setTimeout((function(){t.ext.quickInfo.show(e)}),0),!0}));for(var e=["onViewChange","onLightbox","onBeforeTaskDelete","onBeforeDrag"],n=function(){return t.ext.quickInfo.hide(),!0},i=0;i<e.length;i++)t.attachEvent(e[i],n);function o(){return t.ext.quickInfo.hide(),t.ext.quickInfo._quickInfoBox=null,!0}t.attachEvent("onEmptyClick",(function(e){var r=!0,i=document.querySelector(".gantt_cal_quick_info");i&&t.utils.dom.isChildOf(e.target,i)&&(r=!1),r&&n()})),t.attachEvent("onGanttReady",o),t.attachEvent("onDestroy",o),t.event(window,"keydown",(function(e){27===e.keyCode&&t.ext.quickInfo.hide()}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInfo=void 0;var r=function(){function t(t){var e=this;this.show=function(t,n){void 0===n?e._showForTask(t):e._showAtCoordinates(t,n)},this.hide=function(t){var n=e._gantt,r=e._quickInfoBox;e._quickInfoBoxId=0;var i=e._quickInfoTask;if(e._quickInfoTask=null,r&&r.parentNode){if(n.config.quick_info_detached)return n.callEvent("onAfterQuickInfo",[i]),r.parentNode.removeChild(r);r.className+=" gantt_qi_hidden","auto"===r.style.right?r.style.left="-350px":r.style.right="-350px",t&&(r.style.left=r.style.right="",r.parentNode.removeChild(r)),n.callEvent("onAfterQuickInfo",[i])}},this.getNode=function(){return e._quickInfoBox?e._quickInfoBox:null},this.setContainer=function(t){t&&(e._container="string"==typeof t?document.getElementById(t):t)},this.setContent=function(t){var n=e._gantt,r={taskId:null,header:{title:"",date:""},content:"",buttons:n.config.quickinfo_buttons};t||(t=r),t.taskId||(t.taskId=r.taskId),t.header||(t.header=r.header),t.header.title||(t.header.title=r.header.title),t.header.date||(t.header.date=r.header.date),t.content||(t.content=r.content),t.buttons||(t.buttons=r.buttons);var i=e.getNode();i||(i=e._createQuickInfoElement()),t.taskId&&(e._quickInfoBoxId=t.taskId);var o=i.querySelector(".gantt_cal_qi_title"),a=o.querySelector(".gantt_cal_qi_tcontent"),s=o.querySelector(".gantt_cal_qi_tdate"),u=i.querySelector(".gantt_cal_qi_content"),l=i.querySelector(".gantt_cal_qi_controls");n._waiAria.quickInfoHeader(i,[t.header.title,t.header.date].join(" ")),a.innerHTML=t.header.title,s.innerHTML=t.header.date,t.header.title||t.header.date?o.style.display="":o.style.display="none",u.innerHTML=t.content;var c=t.buttons;c.length?l.style.display="":l.style.display="none";for(var h="",f=0;f<c.length;f++){var d=n._waiAria.quickInfoButtonAttrString(n.locale.labels[c[f]]);h+='<div class="gantt_qi_big_icon '+c[f]+'" title="'+n.locale.labels[c[f]]+'" '+d+"><div class='gantt_menu_icon "+c[f]+"'></div><div>"+n.locale.labels[c[f]]+"</div></div>"}l.innerHTML=h,n.eventRemove(i,"click",e._qiButtonClickHandler),n.eventRemove(i,"keypress",e._qiKeyPressHandler),n.event(i,"click",e._qiButtonClickHandler),n.event(i,"keypress",e._qiKeyPressHandler)},this._qiButtonClickHandler=function(t){t=t||event,e._qi_button_click(t.target||t.srcElement)},this._qiKeyPressHandler=function(t){var n=(t=t||event).which||event.keyCode;13!==n&&32!==n||setTimeout((function(){e._qi_button_click(t.target||t.srcElement)}),1)},this._gantt=t}return t.prototype._showAtCoordinates=function(t,e){this.hide(!0),this._quickInfoBoxId=0,this._quickInfoTask=null,this._quickInfoBox||(this._createQuickInfoElement(),this.setContent()),this._appendAtCoordinates(t,e),this._gantt.callEvent("onQuickInfo",[null])},t.prototype._showForTask=function(t){var e=this._gantt;if((t!==this._quickInfoBoxId||!e.utils.dom.isChildOf(this._quickInfoBox,document.body))&&e.config.show_quick_info){this.hide(!0);var n=this._getContainer(),r=this._get_event_counter_part(t,6,n.xViewport,n.yViewport);r&&(this._quickInfoBox=this._init_quick_info(t),this._quickInfoTask=t,this._quickInfoBox.className=this._prepare_quick_info_classname(t),this._fill_quick_data(t),this._show_quick_info(r,6),e.callEvent("onQuickInfo",[t]))}},t.prototype._get_event_counter_part=function(t,e,n,r){var i=this._gantt,o=i.getTaskNode(t);if(!o&&!(o=i.getTaskRowNode(t)))return null;var a=0,s=e+o.offsetTop+o.offsetHeight,u=o;if(i.utils.dom.isChildOf(u,n))for(;u&&u!==n;)a+=u.offsetLeft,u=u.offsetParent;var l=i.getScrollState();return u?{left:a,top:s,dx:a+o.offsetWidth/2-l.x>n.offsetWidth/2?1:0,dy:s+o.offsetHeight/2-l.y>r.offsetHeight/2?1:0,width:o.offsetWidth,height:o.offsetHeight}:null},t.prototype._createQuickInfoElement=function(){var t=this,e=this._gantt,n=document.createElement("div");n.className+="gantt_cal_quick_info",e._waiAria.quickInfoAttr(n);var r='<div class="gantt_cal_qi_title" '+e._waiAria.quickInfoHeaderAttrString()+'><div class="gantt_cal_qi_tcontent"></div><div  class="gantt_cal_qi_tdate"></div></div><div class="gantt_cal_qi_content"></div>';if(r+='<div class="gantt_cal_qi_controls">',r+="</div>",n.innerHTML=r,e.config.quick_info_detached){var i=this._getContainer();e.event(i.parent,"scroll",(function(){t.hide()}))}return this._quickInfoBox=n,n},t.prototype._init_quick_info=function(t){var e=this._gantt,n=e.getTask(t);return"boolean"==typeof this._quickInfoReadonly&&e.isReadonly(n)!==this._quickInfoReadonly&&(this.hide(!0),this._quickInfoBox=null),this._quickInfoReadonly=e.isReadonly(n),this._quickInfoBox||(this._quickInfoBox=this._createQuickInfoElement()),this._quickInfoBox},t.prototype._prepare_quick_info_classname=function(t){var e=this._gantt,n=e.getTask(t),r="gantt_cal_quick_info",i=e.templates.quick_info_class(n.start_date,n.end_date,n);return i&&(r+=" "+i),r},t.prototype._fill_quick_data=function(t){var e=this._gantt,n=e.getTask(t);this._quickInfoBoxId=t;var r=[];if(this._quickInfoReadonly)for(var i=e.config.quickinfo_buttons,o={icon_delete:!0,icon_edit:!0},a=0;a<i.length;a++)this._quickInfoReadonly&&o[i[a]]||r.push(i[a]);else r=e.config.quickinfo_buttons;this.setContent({header:{title:e.templates.quick_info_title(n.start_date,n.end_date,n),date:e.templates.quick_info_date(n.start_date,n.end_date,n)},content:e.templates.quick_info_content(n.start_date,n.end_date,n),buttons:r})},t.prototype._appendAtCoordinates=function(t,e){var n=this._quickInfoBox,r=this._getContainer();n.parentNode&&"#document-fragment"!==n.parentNode.nodeName.toLowerCase()||r.parent.appendChild(n),n.style.left=t+"px",n.style.top=e+"px"},t.prototype._show_quick_info=function(t,e){var n=this._gantt,r=this._quickInfoBox;if(n.config.quick_info_detached){var i=this._getContainer();r.parentNode&&"#document-fragment"!==r.parentNode.nodeName.toLowerCase()||i.parent.appendChild(r);var o=r.offsetWidth,a=r.offsetHeight,s=n.getScrollState(),u=i.xViewport,l=i.yViewport,c=u.offsetWidth+s.x-o,h=t.top-s.y+a,f=t.top;h>l.offsetHeight/2&&(f=t.top-(a+t.height+2*e))<s.y&&h<=l.offsetHeight&&(f=t.top),f<s.y&&(f=s.y);var d=Math.min(Math.max(s.x,t.left-t.dx*(o-t.width)),c),p=f;this._appendAtCoordinates(d,p)}else r.style.top="20px",1===t.dx?(r.style.right="auto",r.style.left="-300px",setTimeout((function(){r.style.left="10px"}),1)):(r.style.left="auto",r.style.right="-300px",setTimeout((function(){r.style.right="10px"}),1)),r.className+=" gantt_qi_"+(1===t.dx?"left":"right"),n.$root.appendChild(r)},t.prototype._qi_button_click=function(t){var e=this._gantt,n=this._quickInfoBox;if(t&&t!==n){var r=t.className;if(-1!==r.indexOf("_icon")){var i=this._quickInfoBoxId;e.$click.buttons[r.split(" ")[1].replace("icon_","")](i)}else this._qi_button_click(t.parentNode)}},t.prototype._getContainer=function(){var t=this._gantt,e=this._container?this._container:t.$task_data;return e&&e.offsetHeight&&e.offsetWidth?{parent:e,xViewport:t.$task,yViewport:t.$task_data}:(e=this._container?this._container:t.$grid_data)&&e.offsetHeight&&e.offsetWidth?{parent:e,xViewport:t.$grid,yViewport:t.$grid_data}:{parent:this._container?this._container:t.$layout,xViewport:t.$layout,yViewport:t.$layout}},t}();e.QuickInfo=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(87);e.default=function(t){t.config.tooltip_timeout=30,t.config.tooltip_offset_y=20,t.config.tooltip_offset_x=10,t.config.tooltip_hide_timeout=30;var e=new r.TooltipManager(t);t.ext.tooltips=e,t.attachEvent("onGanttReady",(function(){e.tooltipFor({selector:"["+t.config.task_attribute+"]:not(.gantt_task_row)",html:function(e){if(!t.config.touch||t.config.touch_tooltip){var n=t.locate(e);if(t.isTaskExists(n)){var r=t.getTask(n);return t.templates.tooltip_text(r.start_date,r.end_date,r)}return null}},global:!1})})),t.attachEvent("onDestroy",(function(){e.destructor()})),t.attachEvent("onLightbox",(function(){e.hideTooltip()})),t.attachEvent("onBeforeTooltip",(function(){if(t.getState().link_source_id)return!1})),t.attachEvent("onGanttScroll",(function(){e.hideTooltip()}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TooltipManager=void 0;var r=n(29),i=n(1),o=n(2),a=n(88),s=function(){function t(t){this._listeners={},this.tooltip=new a.Tooltip(t),this._gantt=t,this._domEvents=r(),this._initDelayedFunctions()}return t.prototype.destructor=function(){this.tooltip.hide(),this._domEvents.detachAll()},t.prototype.hideTooltip=function(){this.delayHide()},t.prototype.attach=function(t){var e=this,n=document.body,r=this._gantt;t.global||(n=r.$root);var o=null,a=function(n){var r=i.getTargetNode(n),a=i.closest(r,t.selector);if(!i.isChildOf(r,e.tooltip.getNode())){var s=function(){o=a,t.onmouseenter(n,a)};o?a&&a===o?t.onmousemove(n,a):(t.onmouseleave(n,o),o=null,a&&a!==o&&s()):a&&s()}};this.detach(t.selector),this._domEvents.attach(n,"mousemove",a),this._listeners[t.selector]={node:n,handler:a}},t.prototype.detach=function(t){var e=this._listeners[t];e&&this._domEvents.detach(e.node,"mousemove",e.handler)},t.prototype.tooltipFor=function(t){var e=this,n=function(t){var e=t;return document.createEventObject&&!document.createEvent&&(e=document.createEventObject(t)),e};this._initDelayedFunctions(),this.attach({selector:t.selector,global:t.global,onmouseenter:function(r,i){var o=t.html(r,i);o&&e.delayShow(n(r),o)},onmousemove:function(r,i){var o=t.html(r,i);o?e.delayShow(n(r),o):(e.delayShow.$cancelTimeout(),e.delayHide())},onmouseleave:function(){e.delayShow.$cancelTimeout(),e.delayHide()}})},t.prototype._initDelayedFunctions=function(){var t=this,e=this._gantt;this.delayShow&&this.delayShow.$cancelTimeout(),this.delayHide&&this.delayHide.$cancelTimeout(),this.tooltip.hide(),this.delayShow=o.delay((function(n,r){!1===e.callEvent("onBeforeTooltip",[n])?t.tooltip.hide():(t.tooltip.setContent(r),t.tooltip.show(n))}),e.config.tooltip_timeout||1),this.delayHide=o.delay((function(){t.delayShow.$cancelTimeout(),t.tooltip.hide()}),e.config.tooltip_hide_timeout||1)},t}();e.TooltipManager=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tooltip=void 0;var r=n(1),i=function(){function t(t){this._gantt=t}return t.prototype.getNode=function(){var t=this._gantt;return this._tooltipNode||(this._tooltipNode=document.createElement("div"),this._tooltipNode.className="gantt_tooltip",t._waiAria.tooltipAttr(this._tooltipNode)),this._tooltipNode},t.prototype.setViewport=function(t){return this._root=t,this},t.prototype.show=function(t,e){var n=this._gantt,i=document.body,o=this.getNode();if(r.isChildOf(o,i)||(this.hide(),i.appendChild(o)),this._isLikeMouseEvent(t)){var a=this._calculateTooltipPosition(t);e=a.top,t=a.left}return o.style.top=e+"px",o.style.left=t+"px",n._waiAria.tooltipVisibleAttr(o),this},t.prototype.hide=function(){var t=this._gantt,e=this.getNode();return e&&e.parentNode&&e.parentNode.removeChild(e),t._waiAria.tooltipHiddenAttr(e),this},t.prototype.setContent=function(t){return this.getNode().innerHTML=t,this},t.prototype._isLikeMouseEvent=function(t){return!(!t||"object"!=typeof t)&&"clientX"in t&&"clientY"in t},t.prototype._getViewPort=function(){return this._root||document.body},t.prototype._calculateTooltipPosition=function(t){var e=this._gantt,n=this._getViewPortSize(),i=this.getNode(),o={top:0,left:0,width:i.offsetWidth,height:i.offsetHeight,bottom:0,right:0},a=e.config.tooltip_offset_x,s=e.config.tooltip_offset_y,u=document.body,l=r.getRelativeEventPosition(t,u),c=r.getNodePosition(u);l.y+=c.y,o.top=l.y,o.left=l.x,o.top+=s,o.left+=a,o.bottom=o.top+o.height,o.right=o.left+o.width;var h=window.scrollY+u.scrollTop;return o.top<n.top-h?(o.top=n.top,o.bottom=o.top+o.height):o.bottom>n.bottom&&(o.bottom=n.bottom,o.top=o.bottom-o.height),o.left<n.left?(o.left=n.left,o.right=n.left+o.width):o.right>n.right&&(o.right=n.right,o.left=o.right-o.width),l.x>=o.left&&l.x<=o.right&&(o.left=l.x-o.width-a,o.right=o.left+o.width),l.y>=o.top&&l.y<=o.bottom&&(o.top=l.y-o.height-s,o.bottom=o.top+o.height),o},t.prototype._getViewPortSize=function(){var t,e=this._gantt,n=this._getViewPort(),i=n,o=window.scrollY+document.body.scrollTop,a=window.scrollX+document.body.scrollLeft;return n===e.$task_data?(i=e.$task,o=0,a=0,t=r.getNodePosition(e.$task)):t=r.getNodePosition(i),{left:t.x+a,top:t.y+o,width:t.width,height:t.height,bottom:t.y+t.height+o,right:t.x+t.width+a}},t}();e.Tooltip=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(90),i=n(91);e.default=function(t){var e=new i.Undo(t),n=new r.Monitor(e,t);function o(t,e,n){t&&(t.id===e&&(t.id=n),t.parent===e&&(t.parent=n))}function a(t,e,n){o(t.value,e,n),o(t.oldValue,e,n)}function s(t,e,n){t&&(t.source===e&&(t.source=n),t.target===e&&(t.target=n))}function u(t,e,n){s(t.value,e,n),s(t.oldValue,e,n)}function l(t,n,r){for(var i=e,o=0;o<t.length;o++)for(var s=t[o],l=0;l<s.commands.length;l++)s.commands[l].entity===i.command.entity.task?a(s.commands[l],n,r):s.commands[l].entity===i.command.entity.link&&u(s.commands[l],n,r)}function c(t,n,r){for(var i=e,o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.commands.length;s++){var u=a.commands[s];u.entity===i.command.entity.link&&(u.value&&u.value.id===n&&(u.value.id=r),u.oldValue&&u.oldValue.id===n&&(u.oldValue.id=r))}}t.config.undo=!0,t.config.redo=!0,t.config.undo_types={link:"link",task:"task"},t.config.undo_actions={update:"update",remove:"remove",add:"add",move:"move"},t.ext||(t.ext={}),t.ext.undo={undo:function(){return e.undo()},redo:function(){return e.redo()},getUndoStack:function(){return e.getUndoStack()},getRedoStack:function(){return e.getRedoStack()},clearUndoStack:function(){return e.clearUndoStack()},clearRedoStack:function(){return e.clearRedoStack()},saveState:function(t,e){return n.store(t,e,!0)}},t.undo=t.ext.undo.undo,t.redo=t.ext.undo.redo,t.getUndoStack=t.ext.undo.getUndoStack,t.getRedoStack=t.ext.undo.getRedoStack,t.clearUndoStack=t.ext.undo.clearUndoStack,t.clearRedoStack=t.ext.undo.clearRedoStack,t.attachEvent("onTaskIdChange",(function(t,n){var r=e;l(r.getUndoStack(),t,n),l(r.getRedoStack(),t,n)})),t.attachEvent("onLinkIdChange",(function(t,n){var r=e;c(r.getUndoStack(),t,n),c(r.getRedoStack(),t,n)})),t.attachEvent("onGanttReady",(function(){e.updateConfigs()}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Monitor=void 0;var r={onBeforeUndo:"onAfterUndo",onBeforeRedo:"onAfterRedo"},i=["onTaskDragStart","onAfterTaskUpdate","onAfterTaskDelete","onBeforeBatchUpdate"],o=function(){function t(t,e){this._batchAction=null,this._batchMode=!1,this._ignore=!1,this._ignoreMoveEvents=!1,this._initialTasks={},this._initialLinks={},this._nestedTasks={},this._nestedLinks={},this._undo=t,this._gantt=e,this._attachEvents()}return t.prototype.store=function(t,e,n){return void 0===n&&(n=!1),e===this._gantt.config.undo_types.task?this._storeTask(t,n):e===this._gantt.config.undo_types.link&&this._storeLink(t,n)},t.prototype.isMoveEventsIgnored=function(){return this._ignoreMoveEvents},t.prototype.toggleIgnoreMoveEvents=function(t){this._ignoreMoveEvents=t||!1},t.prototype.startIgnore=function(){this._ignore=!0},t.prototype.stopIgnore=function(){this._ignore=!1},t.prototype.startBatchAction=function(){var t=this;this._timeout||(this._timeout=setTimeout((function(){t.stopBatchAction(),t._timeout=null}),10)),this._ignore||this._batchMode||(this._batchMode=!0,this._batchAction=this._undo.action.create())},t.prototype.stopBatchAction=function(){if(!this._ignore){var t=this._undo;this._batchAction&&t.logAction(this._batchAction),this._batchMode=!1,this._batchAction=null}},t.prototype.onTaskAdded=function(t){this._ignore||this._storeTaskCommand(t,this._undo.command.type.add)},t.prototype.onTaskUpdated=function(t){this._ignore||this._storeTaskCommand(t,this._undo.command.type.update)},t.prototype.onTaskMoved=function(t){if(!this._ignore){t.$local_index=this._gantt.getTaskIndex(t.id);var e=this.getInitialTask(t.id);if(t.$local_index===e.$local_index&&this._gantt.getParent(t)===this._gantt.getParent(e))return;this._storeEntityCommand(t,this.getInitialTask(t.id),this._undo.command.type.move,this._undo.command.entity.task)}},t.prototype.onTaskDeleted=function(t){if(!this._ignore){if(this._storeTaskCommand(t,this._undo.command.type.remove),this._nestedTasks[t.id])for(var e=this._nestedTasks[t.id],n=0;n<e.length;n++)this._storeTaskCommand(e[n],this._undo.command.type.remove);if(this._nestedLinks[t.id]){var r=this._nestedLinks[t.id];for(n=0;n<r.length;n++)this._storeLinkCommand(r[n],this._undo.command.type.remove)}}},t.prototype.onLinkAdded=function(t){this._ignore||this._storeLinkCommand(t,this._undo.command.type.add)},t.prototype.onLinkUpdated=function(t){this._ignore||this._storeLinkCommand(t,this._undo.command.type.update)},t.prototype.onLinkDeleted=function(t){this._ignore||this._storeLinkCommand(t,this._undo.command.type.remove)},t.prototype.setNestedTasks=function(t,e){for(var n=this._gantt,r=null,i=[],o=this._getLinks(n.getTask(t)),a=0;a<e.length;a++)r=this.setInitialTask(e[a]),o=o.concat(this._getLinks(r)),i.push(r);var s={};for(a=0;a<o.length;a++)s[o[a]]=!0;var u=[];for(var a in s)u.push(this.setInitialLink(a));this._nestedTasks[t]=i,this._nestedLinks[t]=u},t.prototype.setInitialTask=function(t,e){var n=this._gantt;if(e||!this._initialTasks[t]||!this._batchMode){var r=n.copy(n.getTask(t));r.$index=n.getGlobalTaskIndex(t),r.$local_index=n.getTaskIndex(t),this.setInitialTaskObject(t,r)}return this._initialTasks[t]},t.prototype.getInitialTask=function(t){return this._initialTasks[t]},t.prototype.clearInitialTasks=function(){this._initialTasks={}},t.prototype.setInitialTaskObject=function(t,e){this._initialTasks[t]=e},t.prototype.setInitialLink=function(t,e){return this._initialLinks[t]&&this._batchMode||(this._initialLinks[t]=this._gantt.copy(this._gantt.getLink(t))),this._initialLinks[t]},t.prototype.getInitialLink=function(t){return this._initialLinks[t]},t.prototype.clearInitialLinks=function(){this._initialLinks={}},t.prototype._attachEvents=function(){var t=this,e=null,n=this._gantt,o=function(){e||(e=setTimeout((function(){e=null})),t.clearInitialTasks(),n.eachTask((function(e){t.setInitialTask(e.id)})),t.clearInitialLinks(),n.getLinks().forEach((function(e){t.setInitialLink(e.id)})))},a=function(t){return n.copy(n.getTask(t))};for(var s in r)n.attachEvent(s,(function(){return t.startIgnore(),!0})),n.attachEvent(r[s],(function(){return t.stopIgnore(),!0}));for(s=0;s<i.length;s++)n.attachEvent(i[s],(function(){return t.startBatchAction(),!0}));n.attachEvent("onParse",(function(){t._undo.clearUndoStack(),t._undo.clearRedoStack(),o()})),n.attachEvent("onAfterTaskAdd",(function(e,n){t.setInitialTask(e,!0),t.onTaskAdded(n)})),n.attachEvent("onAfterTaskUpdate",(function(e,n){t.onTaskUpdated(n)})),n.attachEvent("onAfterTaskDelete",(function(e,n){t.onTaskDeleted(n)})),n.attachEvent("onAfterLinkAdd",(function(e,n){t.setInitialLink(e,!0),t.onLinkAdded(n)})),n.attachEvent("onAfterLinkUpdate",(function(e,n){t.onLinkUpdated(n)})),n.attachEvent("onAfterLinkDelete",(function(e,n){t.onLinkDeleted(n)})),n.attachEvent("onRowDragEnd",(function(e,n){return t.onTaskMoved(a(e)),t.toggleIgnoreMoveEvents(),!0})),n.attachEvent("onBeforeTaskDelete",(function(e){t.store(e,n.config.undo_types.task);var r=[];return o(),n.eachTask((function(t){r.push(t.id)}),e),t.setNestedTasks(e,r),!0}));var u=n.getDatastore("task");u.attachEvent("onBeforeItemMove",(function(e,n,r){return t.isMoveEventsIgnored()||o(),!0})),u.attachEvent("onAfterItemMove",(function(e,n,r){return t.isMoveEventsIgnored()||t.onTaskMoved(a(e)),!0})),n.attachEvent("onRowDragStart",(function(e,n,r){return t.toggleIgnoreMoveEvents(!0),o(),!0})),n.attachEvent("onBeforeTaskDrag",(function(e){return t.store(e,n.config.undo_types.task)})),n.attachEvent("onLightbox",(function(e){return t.store(e,n.config.undo_types.task)})),n.attachEvent("onBeforeTaskAutoSchedule",(function(e){return t.store(e.id,n.config.undo_types.task),!0})),n.ext.inlineEditors&&n.ext.inlineEditors.attachEvent("onEditStart",(function(e){t.store(e.id,n.config.undo_types.task)}))},t.prototype._storeCommand=function(t){var e=this._undo;if(e.updateConfigs(),e.undoEnabled)if(this._batchMode)this._batchAction.commands.push(t);else{var n=e.action.create([t]);e.logAction(n)}},t.prototype._storeEntityCommand=function(t,e,n,r){var i=this._undo.command.create(t,e,n,r);this._storeCommand(i)},t.prototype._storeTaskCommand=function(t,e){this._gantt.isTaskExists(t.id)&&(t.$local_index=this._gantt.getTaskIndex(t.id)),this._storeEntityCommand(t,this.getInitialTask(t.id),e,this._undo.command.entity.task)},t.prototype._storeLinkCommand=function(t,e){this._storeEntityCommand(t,this.getInitialLink(t.id),e,this._undo.command.entity.link)},t.prototype._getLinks=function(t){return t.$source.concat(t.$target)},t.prototype._storeTask=function(t,e){var n=this;void 0===e&&(e=!1);var r=this._gantt;return this.setInitialTask(t,e),r.eachTask((function(t){n.setInitialTask(t.id)}),t),!0},t.prototype._storeLink=function(t,e){return void 0===e&&(e=!1),this.setInitialLink(t,e),!0},t}();e.Monitor=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Undo=void 0;var r=10,i=function(){function t(t){var e=this;this.maxSteps=r,this.undoEnabled=!0,this.redoEnabled=!0,this.action={create:function(t){return{commands:t?t.slice():[]}},invert:function(t){for(var n,r=e._gantt.copy(t),i=e.command,o=0;o<t.commands.length;o++){var a=r.commands[o]=i.invert(r.commands[o]);a.type!==i.type.update&&a.type!==i.type.move||(n=[a.oldValue,a.value],a.value=n[0],a.oldValue=n[1])}return r}},this.command={entity:null,type:null,create:function(t,n,r,i){var o=e._gantt;return{entity:i,type:r,value:o.copy(t),oldValue:o.copy(n||t)}},invert:function(t){var n=e._gantt.copy(t);return n.type=e.command.inverseCommands(t.type),n},inverseCommands:function(t){var n=e._gantt,r=e.command.type;switch(t){case r.update:return r.update;case r.remove:return r.add;case r.add:return r.remove;case r.move:return r.move;default:return n.assert(!1,"Invalid command "+t),null}}},this._undoStack=[],this._redoStack=[],this._gantt=t}return t.prototype.getUndoStack=function(){return this._undoStack},t.prototype.getRedoStack=function(){return this._redoStack},t.prototype.clearUndoStack=function(){this._undoStack=[]},t.prototype.clearRedoStack=function(){this._redoStack=[]},t.prototype.updateConfigs=function(){var t=this._gantt;this.maxSteps=t.config.undo_steps||r,this.command.entity=t.config.undo_types,this.command.type=t.config.undo_actions,this.undoEnabled=!!t.config.undo,this.redoEnabled=!!t.config.redo},t.prototype.undo=function(){var t=this._gantt;if(this.updateConfigs(),this.undoEnabled){var e=this._pop(this._undoStack);if(e&&this._reorderCommands(e),!1!==t.callEvent("onBeforeUndo",[e])&&e)return this._applyAction(this.action.invert(e)),this._push(this._redoStack,t.copy(e)),void t.callEvent("onAfterUndo",[e]);t.callEvent("onAfterUndo",[null])}},t.prototype.redo=function(){var t=this._gantt;if(this.updateConfigs(),this.redoEnabled){var e=this._pop(this._redoStack);if(e&&this._reorderCommands(e),!1!==t.callEvent("onBeforeRedo",[e])&&e)return this._applyAction(e),this._push(this._undoStack,t.copy(e)),void t.callEvent("onAfterRedo",[e]);t.callEvent("onAfterRedo",[null])}},t.prototype.logAction=function(t){this._push(this._undoStack,t),this._redoStack=[]},t.prototype._push=function(t,e){var n=this._gantt;if(e.commands.length){var r=t===this._undoStack?"onBeforeUndoStack":"onBeforeRedoStack";if(!1!==n.callEvent(r,[e])&&e.commands.length){for(t.push(e);t.length>this.maxSteps;)t.shift();return e}}},t.prototype._pop=function(t){return t.pop()},t.prototype._reorderCommands=function(t){var e={any:0,link:1,task:2},n={move:1,any:0};t.commands.sort((function(t,r){if("task"===t.entity&&"task"===r.entity)return t.type!==r.type?(n[r.type]||0)-(n[t.type]||0):"move"===t.type&&t.oldValue&&r.oldValue&&r.oldValue.parent===t.oldValue.parent?t.oldValue.$index-r.oldValue.$index:0;var i=e[t.entity]||e.any;return(e[r.entity]||e.any)-i}))},t.prototype._applyAction=function(t){var e=null,n=this.command.entity,r=this.command.type,i=this._gantt,o={};o[n.task]={add:"addTask",get:"getTask",update:"updateTask",remove:"deleteTask",move:"moveTask",isExists:"isTaskExists"},o[n.link]={add:"addLink",get:"getLink",update:"updateLink",remove:"deleteLink",isExists:"isLinkExists"},i.batchUpdate((function(){for(var n=0;n<t.commands.length;n++){e=t.commands[n];var a=o[e.entity][e.type],s=o[e.entity].get,u=o[e.entity].isExists;if(e.type===r.add)i[a](e.oldValue,e.oldValue.parent,e.oldValue.$local_index);else if(e.type===r.remove)i[u](e.value.id)&&i[a](e.value.id);else if(e.type===r.update){var l=i[s](e.value.id);for(var c in e.value)c.startsWith("$")||c.startsWith("_")||(l[c]=e.value[c]);i[a](e.value.id)}else e.type===r.move&&(i[a](e.value.id,e.value.$local_index,e.value.parent),i.callEvent("onRowDragEnd",[e.value.id]))}}))},t}();e.Undo=i},function(t,e,n){n(16);var r=n(93);t.exports=function(t){var e=r(t);return e.env.isNode||n(197)(e),e}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){var e=new function(){this.constants=n(94),this.version="7.1.12",this.license="gpl",this.templates={},this.ext={},this.keys={edit_save:this.constants.KEY_CODES.ENTER,edit_cancel:this.constants.KEY_CODES.ESC}},i=new(0,n(95).default)(t),o={};e.plugins=function(t){for(var n in t)if(t[n]&&!o[n]){var r=i.getExtension(n);r&&(r(e),o[n]=!0)}},e.$services=n(96)(),e.config=n(97)(),e.ajax=n(98)(e),e.date=n(100)(e);var a=n(103)(e);e.$services.setService("dnd",(function(){return a}));var s=n(104)(e);e.$services.setService("templateLoader",(function(){return s})),n(4)(e);var u=new(n(105));u.registerProvider("global",(function(){var t={min_date:e._min_date,max_date:e._max_date,selected_task:null};return e.$data&&e.$data.tasksStore&&(t.selected_task=e.$data.tasksStore.getSelectedId()),t})),e.getState=u.getState,e.$services.setService("state",(function(){return u}));var l=n(0);l.mixin(e,l),e.Promise=n(106),e.env=n(7),n(110)(e);var c=n(116);e.dataProcessor=c.DEPRECATED_api,e.createDataProcessor=c.createDataProcessor,n(121)(e),n(130)(e),n(131)(e),n(139)(e),n(140)(e),n(141)(e),n(154)(e),n(155).default(e),n(156)(e),n(157)(e),n(158)(e),n(161)(e),n(162).default(e);var h=n(163).default();return e.i18n={addLocale:h.addLocale,setLocale:function(t){if("string"==typeof t){var n=h.getLocale(t);n||(n=h.getLocale("en")),e.locale=n}else if(t)if(e.locale)for(var i in t)t[i]&&"object"===r(t[i])?(e.locale[i]||(e.locale[i]={}),e.mixin(e.locale[i],t[i],!0)):e.locale[i]=t[i];else e.locale=t},getLocale:h.getLocale},e.i18n.setLocale("en"),e}},function(t,e){t.exports={KEY_CODES:{UP:38,DOWN:40,LEFT:37,RIGHT:39,SPACE:32,ENTER:13,DELETE:46,ESC:27,TAB:9}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){var e=this;for(var n in this.addExtension=function(t,n){e._extensions[t]=n},this.getExtension=function(t){return e._extensions[t]},this._extensions={},t)this._extensions[n]=t[n]};e.default=r},function(t,e){t.exports=function(){var t={};return{services:{},setService:function(e,n){t[e]=n},getService:function(e){return t[e]?t[e]():null},dropService:function(e){t[e]&&delete t[e]},destructor:function(){for(var e in t)if(t[e]){var n=t[e];n&&n.destructor&&n.destructor()}t=null}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),t.exports=function(){return{layout:{css:"gantt_container",rows:[{cols:[{view:"grid",scrollX:"scrollHor",scrollY:"scrollVer"},{resizer:!0,width:1},{view:"timeline",scrollX:"scrollHor",scrollY:"scrollVer"},{view:"scrollbar",id:"scrollVer"}]},{view:"scrollbar",id:"scrollHor",height:20}]},links:{finish_to_start:"0",start_to_start:"1",finish_to_finish:"2",start_to_finish:"3"},types:{task:"task",project:"project",milestone:"milestone"},auto_types:!1,duration_unit:"day",work_time:!1,correct_work_time:!1,skip_off_time:!1,cascade_delete:!0,autosize:!1,autosize_min_width:0,autoscroll:!0,autoscroll_speed:30,deepcopy_on_parse:!1,show_links:!0,show_task_cells:!0,static_background:!1,static_background_cells:!0,branch_loading:!1,branch_loading_property:"$has_child",show_loading:!1,show_chart:!0,show_grid:!0,min_duration:36e5,date_format:"%d-%m-%Y %H:%i",xml_date:void 0,start_on_monday:!0,server_utc:!1,show_progress:!0,fit_tasks:!1,select_task:!0,scroll_on_click:!0,smart_rendering:!0,preserve_scroll:!0,readonly:!1,container_resize_timeout:20,date_grid:"%Y-%m-%d",drag_links:!0,drag_progress:!0,drag_resize:!0,drag_project:!1,drag_move:!0,drag_mode:{resize:"resize",progress:"progress",move:"move",ignore:"ignore"},round_dnd_dates:!0,link_wrapper_width:20,root_id:0,autofit:!1,columns:[{name:"text",tree:!0,width:"*",resize:!0},{name:"start_date",align:"center",resize:!0},{name:"duration",align:"center"},{name:"add",width:44}],scale_offset_minimal:!0,inherit_scale_class:!1,scales:[{unit:"day",step:1,date:"%d %M"}],time_step:60,duration_step:1,task_date:"%d %F %Y",time_picker:"%H:%i",task_attribute:"data-task-id",link_attribute:"data-link-id",layer_attribute:"data-layer",buttons_left:["gantt_save_btn","gantt_cancel_btn"],_migrate_buttons:{dhx_save_btn:"gantt_save_btn",dhx_cancel_btn:"gantt_cancel_btn",dhx_delete_btn:"gantt_delete_btn"},buttons_right:["gantt_delete_btn"],lightbox:{sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"time",type:"duration",map_to:"auto"}],project_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",readonly:!0,map_to:"auto"}],milestone_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",single_date:!0,map_to:"auto"}]},drag_lightbox:!0,sort:!1,details_on_create:!0,details_on_dblclick:!0,initial_scroll:!0,task_scroll_offset:100,order_branch:!1,order_branch_free:!1,task_height:void 0,bar_height:"full",min_column_width:70,min_grid_column_width:70,grid_resizer_column_attribute:"data-column-index",keep_grid_width:!1,grid_resize:!1,grid_elastic_columns:!1,show_tasks_outside_timescale:!1,show_unscheduled:!0,resize_rows:!1,task_grid_row_resizer_attribute:"data-row-index",min_task_grid_row_height:30,readonly_property:"readonly",editable_property:"editable",calendar_property:"calendar_id",resource_calendars:{},dynamic_resource_calendars:!1,inherit_calendar:!1,type_renderers:{},open_tree_initially:!1,optimize_render:!0,prevent_default_scroll:!1,show_errors:!0,wai_aria_attributes:!0,smart_scales:!0,rtl:!1,placeholder_task:!1,horizontal_scroll_key:"shiftKey",drag_timeline:{useKey:void 0,ignore:".gantt_task_line, .gantt_task_link"},drag_multiple:!0,csp:"auto"}}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(7),o=n(12),a=n(99).default;function s(t,e){var n={method:t};if(0===e.length)throw new Error("Arguments list of query is wrong.");if(1===e.length)return"string"==typeof e[0]?(n.url=e[0],n.async=!0):(n.url=e[0].url,n.async=e[0].async||!0,n.callback=e[0].callback,n.headers=e[0].headers),e[0].data?"string"!=typeof e[0].data?n.data=a(e[0].data):n.data=e[0].data:n.data="",n;switch(n.url=e[0],t){case"GET":case"DELETE":n.callback=e[1],n.headers=e[2];break;case"POST":case"PUT":e[1]?"string"!=typeof e[1]?n.data=a(e[1]):n.data=e[1]:n.data="",n.callback=e[2],n.headers=e[3]}return n}t.exports=function(t){return{cache:!0,method:"get",parse:function(t){return"string"!=typeof t?t:(t=t.replace(/^[\s]+/,""),"undefined"==typeof DOMParser||i.isIE?void 0!==o.ActiveXObject&&((e=new o.ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e);var e},xmltop:function(e,n,r){if(void 0===n.status||n.status<400){var i=n.responseXML?n.responseXML||n:this.parse(n.responseText||n);if(i&&null!==i.documentElement&&!i.getElementsByTagName("parsererror").length)return i.getElementsByTagName(e)[0]}return-1!==r&&t.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],r]),document.createElement("DIV")},xpath:function(t,e){if(e.nodeName||(e=e.responseXML||e),i.isIE)return e.selectNodes(t)||[];for(var n,r=[],o=(e.ownerDocument||e).evaluate(t,e,null,XPathResult.ANY_TYPE,null);n=o.iterateNext();)r.push(n);return r},query:function(t){return this._call(t.method||"GET",t.url,t.data||"",t.async||!0,t.callback,t.headers)},get:function(t,e,n){var r=s("GET",arguments);return this.query(r)},getSync:function(t,e){var n=s("GET",arguments);return n.async=!1,this.query(n)},put:function(t,e,n,r){var i=s("PUT",arguments);return this.query(i)},del:function(t,e,n){var r=s("DELETE",arguments);return this.query(r)},post:function(t,e,n,r){(1==arguments.length||2==arguments.length&&"function"==typeof e)&&(e="");var i=s("POST",arguments);return this.query(i)},postSync:function(t,e,n){e=null===e?"":String(e);var r=s("POST",arguments);return r.async=!1,this.query(r)},_call:function(e,n,a,s,u,l){return new t.Promise((function(c,h){var f=void 0===("undefined"==typeof XMLHttpRequest?"undefined":r(XMLHttpRequest))||i.isIE?new o.ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest,d=null!==navigator.userAgent.match(/AppleWebKit/)&&null!==navigator.userAgent.match(/Qt/)&&null!==navigator.userAgent.match(/Safari/);if(s&&(f.onreadystatechange=function(){if(4==f.readyState||d&&3==f.readyState){if((200!=f.status||""===f.responseText)&&!t.callEvent("onAjaxError",[f]))return;setTimeout((function(){"function"==typeof u&&u.apply(o,[{xmlDoc:f,filePath:n}]),c(f),"function"==typeof u&&(u=null,f=null)}),0)}}),"GET"!=e||this.cache||(n+=(n.indexOf("?")>=0?"&":"?")+"dhxr"+(new Date).getTime()+"=1"),f.open(e,n,s),l)for(var p in l)f.setRequestHeader(p,l[p]);else"POST"==e.toUpperCase()||"PUT"==e||"DELETE"==e?f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):"GET"==e&&(a=null);if(f.setRequestHeader("X-Requested-With","XMLHttpRequest"),f.send(a),!s)return{xmlDoc:f,filePath:n}}))},urlSeparator:function(t){return-1!=t.indexOf("?")?"&":"?"}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if("string"==typeof t||"number"==typeof t)return t;var e="";for(var n in t){var r="";t.hasOwnProperty(n)&&(r=n+"="+(r="string"==typeof t[n]?encodeURIComponent(t[n]):"number"==typeof t[n]?t[n]:encodeURIComponent(JSON.stringify(t[n]))),e.length&&(r="&"+r),e+=r)}return e}},function(t,e,n){var r=n(101).default,i=n(102).default;t.exports=function(t){var e=null;function n(){var n=!1;return"auto"===t.config.csp?(null===e&&function(){try{new Function("canUseCsp = false;")}catch(t){e=!0}}(),n=e):n=t.config.csp,n}return{init:function(){for(var e=t.locale,n=e.date.month_short,r=e.date.month_short_hash={},i=0;i<n.length;i++)r[n[i]]=i;for(n=e.date.month_full,r=e.date.month_full_hash={},i=0;i<n.length;i++)r[n[i]]=i},date_part:function(t){var e=new Date(t);return t.setHours(0),this.hour_start(t),t.getHours()&&(t.getDate()<e.getDate()||t.getMonth()<e.getMonth()||t.getFullYear()<e.getFullYear())&&t.setTime(t.getTime()+36e5*(24-t.getHours())),t},time_part:function(t){return(t.valueOf()/1e3-60*t.getTimezoneOffset())%86400},week_start:function(e){var n=e.getDay();return t.config.start_on_monday&&(0===n?n=6:n--),this.date_part(this.add(e,-1*n,"day"))},month_start:function(t){return t.setDate(1),this.date_part(t)},quarter_start:function(t){this.month_start(t);var e,n=t.getMonth();return e=n>=9?9:n>=6?6:n>=3?3:0,t.setMonth(e),t},year_start:function(t){return t.setMonth(0),this.month_start(t)},day_start:function(t){return this.date_part(t)},hour_start:function(t){return t.getMinutes()&&t.setMinutes(0),this.minute_start(t),t},minute_start:function(t){return t.getSeconds()&&t.setSeconds(0),t.getMilliseconds()&&t.setMilliseconds(0),t},_add_days:function(t,e,n){t.setDate(t.getDate()+e);var r=e>=0,i=!n.getHours()&&t.getHours(),o=t.getDate()<=n.getDate()||t.getMonth()<n.getMonth()||t.getFullYear()<n.getFullYear();return r&&i&&o&&t.setTime(t.getTime()+36e5*(24-t.getHours())),e>1&&i&&t.setHours(0),t},add:function(t,e,n){var r=new Date(t.valueOf());switch(n){case"day":r=this._add_days(r,e,t);break;case"week":r=this._add_days(r,7*e,t);break;case"month":r.setMonth(r.getMonth()+e);break;case"year":r.setYear(r.getFullYear()+e);break;case"hour":r.setTime(r.getTime()+60*e*60*1e3);break;case"minute":r.setTime(r.getTime()+60*e*1e3);break;default:return this["add_"+n](t,e,n)}return r},add_quarter:function(t,e){return this.add(t,3*e,"month")},to_fixed:function(t){return t<10?"0"+t:t},copy:function(t){return new Date(t.valueOf())},date_to_str:function(e,o){var a=r;return n()&&(a=i),a.date_to_str(e,o,t)},str_to_date:function(e,o){var a=r;return n()&&(a=i),a.str_to_date(e,o,t)},getISOWeek:function(e){return t.date._getWeekNumber(e,!0)},_getWeekNumber:function(t,e){if(!t)return!1;var n=t.getDay();e&&0===n&&(n=7);var r=new Date(t.valueOf());r.setDate(t.getDate()+(4-n));var i=r.getFullYear(),o=Math.round((r.getTime()-new Date(i,0,1).getTime())/864e5);return 1+Math.floor(o/7)},getWeek:function(e){return t.date._getWeekNumber(e,t.config.start_on_monday)},getUTCISOWeek:function(e){return t.date.getISOWeek(e)},convert_to_utc:function(t){return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())},parseDate:function(e,n){return e&&!e.getFullYear&&("function"!=typeof n&&(n="string"==typeof n?"parse_date"===n||"xml_date"===n?t.defined(t.templates.xml_date)?t.templates.xml_date:t.templates.parse_date:t.defined(t.templates[n])?t.templates[n]:t.date.str_to_date(n):t.defined(t.templates.xml_date)?t.templates.xml_date:t.templates.parse_date),e=e?n(e):null),e}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={date_to_str:function(t,e,n){t=t.replace(/%[a-zA-Z]/g,(function(t){switch(t){case"%d":return'"+to_fixed(date.get'+(e?"UTC":"")+'Date())+"';case"%m":return'"+to_fixed((date.get'+(e?"UTC":"")+'Month()+1))+"';case"%j":return'"+date.get'+(e?"UTC":"")+'Date()+"';case"%n":return'"+(date.get'+(e?"UTC":"")+'Month()+1)+"';case"%y":return'"+to_fixed(date.get'+(e?"UTC":"")+'FullYear()%100)+"';case"%Y":return'"+date.get'+(e?"UTC":"")+'FullYear()+"';case"%D":return'"+locale.date.day_short[date.get'+(e?"UTC":"")+'Day()]+"';case"%l":return'"+locale.date.day_full[date.get'+(e?"UTC":"")+'Day()]+"';case"%M":return'"+locale.date.month_short[date.get'+(e?"UTC":"")+'Month()]+"';case"%F":return'"+locale.date.month_full[date.get'+(e?"UTC":"")+'Month()]+"';case"%h":return'"+to_fixed((date.get'+(e?"UTC":"")+'Hours()+11)%12+1)+"';case"%g":return'"+((date.get'+(e?"UTC":"")+'Hours()+11)%12+1)+"';case"%G":return'"+date.get'+(e?"UTC":"")+'Hours()+"';case"%H":return'"+to_fixed(date.get'+(e?"UTC":"")+'Hours())+"';case"%i":return'"+to_fixed(date.get'+(e?"UTC":"")+'Minutes())+"';case"%a":return'"+(date.get'+(e?"UTC":"")+'Hours()>11?"pm":"am")+"';case"%A":return'"+(date.get'+(e?"UTC":"")+'Hours()>11?"PM":"AM")+"';case"%s":return'"+to_fixed(date.get'+(e?"UTC":"")+'Seconds())+"';case"%W":return'"+to_fixed(getISOWeek(date))+"';case"%w":return'"+to_fixed(getWeek(date))+"';default:return t}}));var r=new Function("date","to_fixed","locale","getISOWeek","getWeek",'return "'+t+'";');return function(t){return r(t,n.date.to_fixed,n.locale,n.date.getISOWeek,n.date.getWeek)}},str_to_date:function(t,e,n){for(var r="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",i=t.match(/%[a-zA-Z]/g),o=0;o<i.length;o++)switch(i[o]){case"%j":case"%d":r+="set[2]=temp["+o+"]||1;";break;case"%n":case"%m":r+="set[1]=(temp["+o+"]||1)-1;";break;case"%y":r+="set[0]=temp["+o+"]*1+(temp["+o+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":r+="set[3]=temp["+o+"]||0;";break;case"%i":r+="set[4]=temp["+o+"]||0;";break;case"%Y":r+="set[0]=temp["+o+"]||0;";break;case"%a":case"%A":r+="set[3]=set[3]%12+((temp["+o+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":r+="set[5]=temp["+o+"]||0;";break;case"%M":r+="set[1]=locale.date.month_short_hash[temp["+o+"]]||0;";break;case"%F":r+="set[1]=locale.date.month_full_hash[temp["+o+"]]||0;"}var a="set[0],set[1],set[2],set[3],set[4],set[5]";e&&(a=" Date.UTC("+a+")");var s=new Function("date","locale","var set=[0,0,1,0,0,0]; "+r+" return new Date("+a+");");return function(t){return s(t,n.locale)}}};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={date_to_str:function(t,e,n){return function(r){return t.replace(/%[a-zA-Z]/g,(function(t){switch(t){case"%d":return e?n.date.to_fixed(r.getUTCDate()):n.date.to_fixed(r.getDate());case"%m":return e?n.date.to_fixed(r.getUTCMonth()+1):n.date.to_fixed(r.getMonth()+1);case"%j":return e?r.getUTCDate():r.getDate();case"%n":return e?r.getUTCMonth()+1:r.getMonth()+1;case"%y":return e?n.date.to_fixed(r.getUTCFullYear()%100):n.date.to_fixed(r.getFullYear()%100);case"%Y":return e?r.getUTCFullYear():r.getFullYear();case"%D":return e?n.locale.date.day_short[r.getUTCDay()]:n.locale.date.day_short[r.getDay()];case"%l":return e?n.locale.date.day_full[r.getUTCDay()]:n.locale.date.day_full[r.getDay()];case"%M":return e?n.locale.date.month_short[r.getUTCMonth()]:n.locale.date.month_short[r.getMonth()];case"%F":return e?n.locale.date.month_full[r.getUTCMonth()]:n.locale.date.month_full[r.getMonth()];case"%h":return e?n.date.to_fixed((r.getUTCHours()+11)%12+1):n.date.to_fixed((r.getHours()+11)%12+1);case"%g":return e?(r.getUTCHours()+11)%12+1:(r.getHours()+11)%12+1;case"%G":return e?r.getUTCHours():r.getHours();case"%H":return e?n.date.to_fixed(r.getUTCHours()):n.date.to_fixed(r.getHours());case"%i":return e?n.date.to_fixed(r.getUTCMinutes()):n.date.to_fixed(r.getMinutes());case"%a":return e?r.getUTCHours()>11?"pm":"am":r.getHours()>11?"pm":"am";case"%A":return e?r.getUTCHours()>11?"PM":"AM":r.getHours()>11?"PM":"AM";case"%s":return e?n.date.to_fixed(r.getUTCSeconds()):n.date.to_fixed(r.getSeconds());case"%W":return e?n.date.to_fixed(n.date.getUTCISOWeek(r)):n.date.to_fixed(n.date.getISOWeek(r));default:return t}}))}},str_to_date:function(t,e,n){return function(r){for(var i=[0,0,1,0,0,0],o=r.match(/[a-zA-Z]+|[0-9]+/g),a=t.match(/%[a-zA-Z]/g),s=0;s<a.length;s++)switch(a[s]){case"%j":case"%d":i[2]=o[s]||1;break;case"%n":case"%m":i[1]=(o[s]||1)-1;break;case"%y":i[0]=1*o[s]+(o[s]>50?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":i[3]=o[s]||0;break;case"%i":i[4]=o[s]||0;break;case"%Y":i[0]=o[s]||0;break;case"%a":case"%A":i[3]=i[3]%12+("am"===(o[s]||"").toLowerCase()?0:12);break;case"%s":i[5]=o[s]||0;break;case"%M":i[1]=n.locale.date.month_short_hash[o[s]]||0;break;case"%F":i[1]=n.locale.date.month_full_hash[o[s]]||0}return e?new Date(Date.UTC(i[0],i[1],i[2],i[3],i[4],i[5])):new Date(i[0],i[1],i[2],i[3],i[4],i[5])}}};e.default=r},function(t,e,n){var r=n(4),i=n(0),o=n(30),a=n(12),s=n(1);t.exports=function(t){function e(t){return{target:t.target||t.srcElement,pageX:t.pageX,pageY:t.pageY,clientX:t.clientX,clientY:t.clientY,metaKey:t.metaKey,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,altKey:t.altKey}}function n(n,o){this._obj=n,this._settings=o||{},r(this);var a=this.getInputMethods();this._drag_start_timer=null,t.attachEvent("onGanttScroll",i.bind((function(t,e){this.clearDragTimer()}),this));for(var u={passive:!1},l=0;l<a.length;l++)i.bind((function(r){t.event(n,r.down,i.bind((function(a){r.accessor(a)&&(o.preventDefault&&o.selector&&s.closest(a.target,o.selector)&&a.preventDefault(),t.config.touch&&a.timeStamp&&a.timeStamp-0<300||(this._settings.original_target=e(a),t.config.touch?(this.clearDragTimer(),this._drag_start_timer=setTimeout(i.bind((function(){t.getState().lightbox||this.dragStart(n,a,r)}),this),t.config.touch_drag)):this.dragStart(n,a,r)))}),this),u);var a=document.body;t.event(a,r.up,i.bind((function(t){r.accessor(t)&&this.clearDragTimer()}),this),u)}),this)(a[l])}return n.prototype={traceDragEvents:function(e,n){var r=i.bind((function(t){return this.dragMove(e,t,n.accessor)}),this);i.bind((function(t){return this.dragScroll(e,t)}),this);var a=i.bind((function(t){if(!this.config.started||!i.defined(this.config.updates_per_second)||o(this,this.config.updates_per_second)){var e=r(t);if(e)try{t&&t.preventDefault&&t.cancelable&&t.preventDefault()}catch(t){}return e}}),this),u=s.getRootNode(t.$root),l=this.config.mousemoveContainer||s.getRootNode(t.$root),c={passive:!1},h=i.bind((function(r){return t.eventRemove(l,n.move,a),t.eventRemove(u,n.up,h,c),this.dragEnd(e)}),this);t.event(l,n.move,a,c),t.event(u,n.up,h,c)},checkPositionChange:function(t){var e=t.x-this.config.pos.x,n=t.y-this.config.pos.y;return Math.sqrt(Math.pow(Math.abs(e),2)+Math.pow(Math.abs(n),2))>this.config.sensitivity},initDnDMarker:function(){var t=this.config.marker=document.createElement("div");t.className="gantt_drag_marker",t.innerHTML="",document.body.appendChild(t)},backupEventTarget:function(n,r){if(t.config.touch){var i=r(n),o=i.target||i.srcElement,a=o.cloneNode(!0);this.config.original_target=e(i),this.config.original_target.target=a,this.config.backup_element=o,o.parentNode.appendChild(a),o.style.display="none",(this.config.mousemoveContainer||document.body).appendChild(o)}},getInputMethods:function(){var e=[];if(e.push({move:"mousemove",down:"mousedown",up:"mouseup",accessor:function(t){return t}}),t.config.touch){var n=!0;try{document.createEvent("TouchEvent")}catch(t){n=!1}n?e.push({move:"touchmove",down:"touchstart",up:"touchend",accessor:function(t){return t.touches&&t.touches.length>1?null:t.touches[0]?{target:document.elementFromPoint(t.touches[0].clientX,t.touches[0].clientY),pageX:t.touches[0].pageX,pageY:t.touches[0].pageY,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:t}}):a.navigator.pointerEnabled?e.push({move:"pointermove",down:"pointerdown",up:"pointerup",accessor:function(t){return"mouse"==t.pointerType?null:t}}):a.navigator.msPointerEnabled&&e.push({move:"MSPointerMove",down:"MSPointerDown",up:"MSPointerUp",accessor:function(t){return t.pointerType==t.MSPOINTER_TYPE_MOUSE?null:t}})}return e},clearDragTimer:function(){this._drag_start_timer&&(clearTimeout(this._drag_start_timer),this._drag_start_timer=null)},dragStart:function(e,n,r){this.config&&this.config.started||(this.config={obj:e,marker:null,started:!1,pos:this.getPosition(n),sensitivity:4},this._settings&&i.mixin(this.config,this._settings,!0),this.traceDragEvents(e,r),t._prevent_touch_scroll=!0,document.body.className+=" gantt_noselect",t.config.touch&&this.dragMove(e,n,r.accessor))},dragMove:function(e,n,r){var i=r(n);if(!i)return!1;if(!this.config.marker&&!this.config.started){var o=this.getPosition(i);if(t.config.touch||this.checkPositionChange(o)){if(this.config.started=!0,this.config.ignore=!1,!1===this.callEvent("onBeforeDragStart",[e,this.config.original_target]))return this.config.ignore=!0,!1;this.backupEventTarget(n,r),this.initDnDMarker(),t._touch_feedback(),this.callEvent("onAfterDragStart",[e,this.config.original_target])}else this.config.ignore=!0}if(!this.config.ignore){if(n.targetTouches&&!i.target)return;return i.pos=this.getPosition(i),this.config.marker.style.left=i.pos.x+"px",this.config.marker.style.top=i.pos.y+"px",this.callEvent("onDragMove",[e,i]),!0}return!1},dragEnd:function(e){var n=this.config.backup_element;n&&n.parentNode&&n.parentNode.removeChild(n),t._prevent_touch_scroll=!1,this.config.marker&&(this.config.marker.parentNode.removeChild(this.config.marker),this.config.marker=null,this.callEvent("onDragEnd",[])),this.config.started=!1,document.body.className=document.body.className.replace(" gantt_noselect","")},getPosition:function(t){var e=0,n=0;return t.pageX||t.pageY?(e=t.pageX,n=t.pageY):(t.clientX||t.clientY)&&(e=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:e,y:n}}},n}},function(t,e){t.exports=function(t){var e={};function n(n,r,i){i=i||n;var o=t.config,a=t.templates;t.config[n]&&e[i]!=o[n]&&(r&&a[i]||(a[i]=t.date.date_to_str(o[n]),e[i]=o[n]))}return{initTemplates:function(){var e=t.locale.labels;e.gantt_save_btn=e.icon_save,e.gantt_cancel_btn=e.icon_cancel,e.gantt_delete_btn=e.icon_delete;var r=t.date,i=r.date_to_str,o=t.config,a=i(o.xml_date||o.date_format,o.server_utc),s=r.str_to_date(o.xml_date||o.date_format,o.server_utc);n("date_scale",!0,void 0,t.config,t.templates),n("date_grid",!0,"grid_date_format",t.config,t.templates),n("task_date",!0,void 0,t.config,t.templates),t.mixin(t.templates,{xml_format:void 0,format_date:a,xml_date:void 0,parse_date:s,progress_text:function(t,e,n){return""},grid_header_class:function(t,e){return""},task_text:function(t,e,n){return n.text},task_class:function(t,e,n){return""},task_end_date:function(e){return t.templates.task_date(e)},grid_row_class:function(t,e,n){return""},task_row_class:function(t,e,n){return""},timeline_cell_class:function(t,e){return""},scale_cell_class:function(t){return""},scale_row_class:function(t){return""},grid_indent:function(t){return"<div class='gantt_tree_indent'></div>"},grid_folder:function(t){return"<div class='gantt_tree_icon gantt_folder_"+(t.$open?"open":"closed")+"'></div>"},grid_file:function(t){return"<div class='gantt_tree_icon gantt_file'></div>"},grid_open:function(t){return"<div class='gantt_tree_icon gantt_"+(t.$open?"close":"open")+"'></div>"},grid_blank:function(t){return"<div class='gantt_tree_icon gantt_blank'></div>"},date_grid:function(e,n,r){return n&&t.isUnscheduledTask(n)&&t.config.show_unscheduled?t.templates.task_unscheduled_time(n):t.templates.grid_date_format(e,r)},task_time:function(e,n,r){return t.isUnscheduledTask(r)&&t.config.show_unscheduled?t.templates.task_unscheduled_time(r):t.templates.task_date(e)+" - "+t.templates.task_end_date(n)},task_unscheduled_time:function(t){return""},time_picker:i(o.time_picker),link_class:function(t){return""},link_description:function(e){var n=t.getTask(e.source),r=t.getTask(e.target);return"<b>"+n.text+"</b> &ndash;  <b>"+r.text+"</b>"},drag_link:function(e,n,r,i){e=t.getTask(e);var o=t.locale.labels,a="<b>"+e.text+"</b> "+(n?o.link_start:o.link_end)+"<br/>";return r&&(a+="<b> "+(r=t.getTask(r)).text+"</b> "+(i?o.link_start:o.link_end)+"<br/>"),a},drag_link_class:function(e,n,r,i){var o="";return e&&r&&(o=" "+(t.isLinkAllowed(e,r,n,i)?"gantt_link_allow":"gantt_link_deny")),"gantt_link_tooltip"+o},tooltip_date_format:r.date_to_str("%Y-%m-%d"),tooltip_text:function(e,n,r){return"<b>Task:</b> "+r.text+"<br/><b>Start date:</b> "+t.templates.tooltip_date_format(e)+"<br/><b>End date:</b> "+t.templates.tooltip_date_format(n)}})},initTemplate:n}}},function(t,e,n){var r=n(0);t.exports=function(){var t={};return{getState:function(e){if(t[e])return t[e].method();var n={};for(var i in t)t[i].internal||r.mixin(n,t[i].method(),!0);return n},registerProvider:function(e,n,r){t[e]={method:n,internal:r}},unregisterProvider:function(e){delete t[e]}}}},function(t,e,n){t.exports=n(107)},function(t,e,n){(function(n,r,i){var o,a,s;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(n){"object"==u(e)&&void 0!==t?t.exports=n():(a=[],void 0===(s="function"==typeof(o=n)?o.apply(e,a):o)||(t.exports=s))}((function(){return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof _dereq_&&_dereq_;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,(function(t){return i(e[a][1][t]||t)}),c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";e.exports=function(t){var e=t._SomePromiseArray;function n(t){var n=new e(t),r=n.promise();return n.setHowMany(1),n.setUnwrap(),n.init(),r}t.any=function(t){return n(t)},t.prototype.any=function(){return n(this)}}},{}],2:[function(t,e,r){"use strict";var i;try{throw new Error}catch(t){i=t}var o=t("./schedule"),a=t("./queue"),s=t("./util");function u(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new a(16),this._normalQueue=new a(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=o}function l(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function c(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function h(t){this._normalQueue._pushOne(t),this._queueTick()}function f(t){for(;t.length()>0;)d(t)}function d(t){var e=t.shift();if("function"!=typeof e)e._settlePromises();else{var n=t.shift(),r=t.shift();e.call(n,r)}}u.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},u.prototype.hasCustomScheduler=function(){return this._customScheduler},u.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},u.prototype.disableTrampolineIfNecessary=function(){s.hasDevTools&&(this._trampolineEnabled=!1)},u.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},u.prototype.fatalError=function(t,e){e?(n.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),n.exit(2)):this.throwLater(t)},u.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout((function(){t(e)}),0);else try{this._schedule((function(){t(e)}))}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.hasDevTools?(u.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?l.call(this,t,e,n):this._schedule((function(){setTimeout((function(){t.call(e,n)}),100)}))},u.prototype.invoke=function(t,e,n){this._trampolineEnabled?c.call(this,t,e,n):this._schedule((function(){t.call(e,n)}))},u.prototype.settlePromises=function(t){this._trampolineEnabled?h.call(this,t):this._schedule((function(){t._settlePromises()}))}):(u.prototype.invokeLater=l,u.prototype.invoke=c,u.prototype.settlePromises=h),u.prototype._drainQueues=function(){f(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,f(this._lateQueue)},u.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},u.prototype._reset=function(){this._isTickUsed=!1},e.exports=u,e.exports.firstLineError=i},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},a=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},s=function(t,e){0==(50397184&this._bitField)&&this._resolveCallback(e.target)},u=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var l=n(o),c=new t(e);c._propagateFrom(this,1);var h=this._target();if(c._setBoundTo(l),l instanceof t){var f={promiseRejectionQueued:!1,promise:c,target:h,bindingPromise:l};h._then(e,a,void 0,c,f),l._then(s,u,void 0,c,f),c._setOnCancel(l)}else c._resolveCallback(h);return c},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";var r;"undefined"!=typeof Promise&&(r=Promise);var i=t("./promise")();i.noConflict=function(){try{Promise===i&&(Promise=r)}catch(t){}return i},e.exports=i},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){var n=t("./util"),r=n.canEvaluate;function i(t){return function(t,r){var i;if(null!=t&&(i=t[r]),"function"!=typeof i){var o="Object "+n.classString(t)+" has no method '"+n.toString(r)+"'";throw new e.TypeError(o)}return i}(t,this.pop()).apply(t,this)}function o(t){return t[this]}function a(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}n.isIdentifier,e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(i,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e;if("number"==typeof t)e=a;else if(r){var n=(void 0)(t);e=null!==n?n:o}else e=o;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),a=o.tryCatch,s=o.errorObj,u=e._async;e.prototype.break=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=a(t).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util"),r=t("./es5").keys,i=n.tryCatch,o=n.errorObj;return function(t,a,s){return function(u){var l=s._boundValue();t:for(var c=0;c<t.length;++c){var h=t[c];if(h===Error||null!=h&&h.prototype instanceof Error){if(u instanceof h)return i(a).call(l,u)}else if("function"==typeof h){var f=i(h).call(l,u);if(f===o)return f;if(f)return i(a).call(l,u)}else if(n.isObject(u)){for(var d=r(h),p=0;p<d.length;++p){var g=d[p];if(h[g]!=u[g])continue t}return i(a).call(l,u)}}return e}}}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){var e=!1,n=[];function r(){this._trace=new r.CapturedTrace(i())}function i(){var t=n.length-1;if(t>=0)return n[t]}return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},r.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(void 0!==this._trace){var t=n.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},r.CapturedTrace=null,r.create=function(){if(e)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,a=t._peekContext,s=t.prototype._peekContext,u=t.prototype._promiseCreated;r.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=a,t.prototype._peekContext=s,t.prototype._promiseCreated=u,e=!1},e=!0,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,t._peekContext=t.prototype._peekContext=i,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},r}},{}],9:[function(t,e,r){"use strict";e.exports=function(e,r){var i,o,a,s=e._getDomain,l=e._async,c=t("./errors").Warning,h=t("./util"),f=t("./es5"),d=h.canAttachTrace,p=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,g=/\((?:timers\.js):\d+:\d+\)/,v=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,_=null,m=null,y=!1,b=!(0==h.env("BLUEBIRD_DEBUG")),w=!(0==h.env("BLUEBIRD_WARNINGS")||!b&&!h.env("BLUEBIRD_WARNINGS")),k=!(0==h.env("BLUEBIRD_LONG_STACK_TRACES")||!b&&!h.env("BLUEBIRD_LONG_STACK_TRACES")),S=0!=h.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(w||!!h.env("BLUEBIRD_W_FORGOTTEN_RETURN"));e.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},e.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var t=this;setTimeout((function(){t._notifyUnhandledRejection()}),1)}},e.prototype._notifyUnhandledRejectionIsHandled=function(){q("rejectionHandled",i,void 0,this)},e.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},e.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),q("unhandledRejection",o,t,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},e.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},e.prototype._warn=function(t,e,n){return z(t,e,n||this)},e.onPossiblyUnhandledRejection=function(t){var e=s();o="function"==typeof t?null===e?t:h.domainBind(e,t):void 0},e.onUnhandledRejectionHandled=function(t){var e=s();i="function"==typeof t?null===e?t:h.domainBind(e,t):void 0};var T=function(){};e.longStackTraces=function(){if(l.haveItemsQueued()&&!tt.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!tt.longStackTraces&&K()){var t=e.prototype._captureStackTrace,n=e.prototype._attachExtraTrace,i=e.prototype._dereferenceTrace;tt.longStackTraces=!0,T=function(){if(l.haveItemsQueued()&&!tt.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");e.prototype._captureStackTrace=t,e.prototype._attachExtraTrace=n,e.prototype._dereferenceTrace=i,r.deactivateLongStackTraces(),l.enableTrampoline(),tt.longStackTraces=!1},e.prototype._captureStackTrace=F,e.prototype._attachExtraTrace=H,e.prototype._dereferenceTrace=V,r.activateLongStackTraces(),l.disableTrampolineIfNecessary()}},e.hasLongStackTraces=function(){return tt.longStackTraces&&K()};var E=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return h.global.dispatchEvent(t),function(t,e){var n={detail:e,cancelable:!0};f.defineProperty(n,"promise",{value:e.promise}),f.defineProperty(n,"reason",{value:e.reason});var r=new CustomEvent(t.toLowerCase(),n);return!h.global.dispatchEvent(r)}}return"function"==typeof Event?(t=new Event("CustomEvent"),h.global.dispatchEvent(t),function(t,e){var n=new Event(t.toLowerCase(),{cancelable:!0});return n.detail=e,f.defineProperty(n,"promise",{value:e.promise}),f.defineProperty(n,"reason",{value:e.reason}),!h.global.dispatchEvent(n)}):((t=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),h.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!h.global.dispatchEvent(n)})}catch(t){}return function(){return!1}}(),x=h.isNode?function(){return n.emit.apply(n,arguments)}:h.global?function(t){var e="on"+t.toLowerCase(),n=h.global[e];return!!n&&(n.apply(h.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function I(t,e){return{promise:e}}var C={promiseCreated:I,promiseFulfilled:I,promiseRejected:I,promiseResolved:I,promiseCancelled:I,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:I},N=function(t){var e=!1;try{e=x.apply(null,arguments)}catch(t){l.throwLater(t),e=!0}var n=!1;try{n=E(t,C[t].apply(null,arguments))}catch(t){l.throwLater(t),n=!0}return n||e};function A(){return!1}function D(t,e,n){var r=this;try{t(e,n,(function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+h.toString(t));r._attachCancellationCallback(t)}))}catch(t){return t}}function $(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?h.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function P(){return this._onCancelField}function O(t){this._onCancelField=t}function M(){this._cancellationParent=void 0,this._onCancelField=void 0}function L(t,e){if(0!=(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}e.config=function(t){if("longStackTraces"in(t=Object(t))&&(t.longStackTraces?e.longStackTraces():!t.longStackTraces&&e.hasLongStackTraces()&&T()),"warnings"in t){var n=t.warnings;tt.warnings=!!n,S=tt.warnings,h.isObject(n)&&"wForgottenReturn"in n&&(S=!!n.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!tt.cancellation){if(l.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");e.prototype._clearCancellationData=M,e.prototype._propagateFrom=L,e.prototype._onCancel=P,e.prototype._setOnCancel=O,e.prototype._attachCancellationCallback=$,e.prototype._execute=D,R=L,tt.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!tt.monitoring?(tt.monitoring=!0,e.prototype._fireEvent=N):!t.monitoring&&tt.monitoring&&(tt.monitoring=!1,e.prototype._fireEvent=A)),e},e.prototype._fireEvent=A,e.prototype._execute=function(t,e,n){try{t(e,n)}catch(t){return t}},e.prototype._onCancel=function(){},e.prototype._setOnCancel=function(t){},e.prototype._attachCancellationCallback=function(t){},e.prototype._captureStackTrace=function(){},e.prototype._attachExtraTrace=function(){},e.prototype._dereferenceTrace=function(){},e.prototype._clearCancellationData=function(){},e.prototype._propagateFrom=function(t,e){};var R=function(t,e){0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)};function j(){var t=this._boundTo;return void 0!==t&&t instanceof e?t.isFulfilled()?t.value():void 0:t}function F(){this._trace=new Q(this._peekContext())}function H(t,e){if(d(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=B(t);h.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),h.notEnumerableProp(t,"__stackCleaned__",!0)}}}function V(){this._trace=void 0}function z(t,n,r){if(tt.warnings){var i,o=new c(t);if(n)r._attachExtraTrace(o);else if(tt.longStackTraces&&(i=e._peekContext()))i.attachExtraTrace(o);else{var a=B(o);o.stack=a.message+"\n"+a.stack.join("\n")}N("warning",o)||W(o,"",!0)}}function U(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||_.test(r),o=i&&Y(r);i&&!o&&(y&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function B(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?function(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||_.test(r))break}return n>0&&"SyntaxError"!=t.name&&(e=e.slice(n)),e}(t):["    (No stack trace)"],{message:n,stack:"SyntaxError"==t.name?e:U(e)}}function W(t,e,n){if("undefined"!=typeof console){var r;if(h.isObject(t)){var i=t.stack;r=e+m(i,t)}else r=e+String(t);"function"==typeof a?a(r,n):"function"!=typeof console.log&&"object"!==u(console.log)||console.log(r)}}function q(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(t){l.throwLater(t)}"unhandledRejection"===t?N(t,n,r)||i||W(n,"Unhandled rejection "):N(t,r)}function G(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{if(e=t&&"function"==typeof t.toString?t.toString():h.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(e))try{e=JSON.stringify(t)}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(e)+">, no stack trace)"}function K(){return"function"==typeof Z}var Y=function(){return!1},J=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function X(t){var e=t.match(J);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function Q(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);Z(this,Q),e>32&&this.uncycle()}h.inherits(Q,Error),r.CapturedTrace=Q,Q.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;for(r=(t=this._length=r)-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(r=0;r<t;++r){var a=n[e[r].stack];if(void 0!==a&&a!==r){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var s=r>0?e[r-1]:this;a<t-1?(s._parent=e[a+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var u=s._length+1,l=r-2;l>=0;--l)e[l]._length=u,u++;return}}}},Q.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=B(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(U(i.stack.split("\n"))),i=i._parent;!function(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(s=a;s>=0;--s){var u=r[s];if(e[i]!==u)break;e.pop(),i--}e=r}}(r),function(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}(r),h.notEnumerableProp(t,"stack",function(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}(n,r)),h.notEnumerableProp(t,"__stackCleaned__",!0)}};var Z=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():G(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,_=t,m=e;var n=Error.captureStackTrace;return Y=function(t){return p.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r,i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return _=/@/,m=e,y=!0,function(t){t.stack=(new Error).stack};try{throw new Error}catch(t){r="stack"in t}return"stack"in i||!r||"number"!=typeof Error.stackTraceLimit?(m=function(t,e){return"string"==typeof t?t:"object"!==u(e)&&"function"!=typeof e||void 0===e.name||void 0===e.message?G(e):e.toString()},null):(_=t,m=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(a=function(t){console.warn(t)},h.isNode&&n.stderr.isTTY?a=function(t,e){var n=e?"\x1b[33m":"\x1b[31m";console.warn(n+t+"\x1b[0m\n")}:h.isNode||"string"!=typeof(new Error).stack||(a=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var tt={warnings:w,longStackTraces:!1,cancellation:!1,monitoring:!1};return k&&e.longStackTraces(),{longStackTraces:function(){return tt.longStackTraces},warnings:function(){return tt.warnings},cancellation:function(){return tt.cancellation},monitoring:function(){return tt.monitoring},propagateFromFunction:function(){return R},boundValueFunction:function(){return j},checkForgottenReturns:function(t,e,n,r,i){if(void 0===t&&null!==e&&S){if(void 0!==i&&i._returnedNonUndefined())return;if(0==(65535&r._bitField))return;n&&(n+=" ");var o="",a="";if(e._trace){for(var s=e._trace.stack.split("\n"),u=U(s),l=u.length-1;l>=0;--l){var c=u[l];if(!g.test(c)){var h=c.match(v);h&&(o="at "+h[1]+":"+h[2]+":"+h[3]+" ");break}}if(u.length>0){var f=u[0];for(l=0;l<s.length;++l)if(s[l]===f){l>0&&(a="\n"+s[l-1]);break}}}var d="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(d,!0,e)}},setBounds:function(t,e){if(K()){for(var n,r,i=t.stack.split("\n"),o=e.stack.split("\n"),a=-1,s=-1,u=0;u<i.length;++u)if(l=X(i[u])){n=l.fileName,a=l.line;break}for(u=0;u<o.length;++u){var l;if(l=X(o[u])){r=l.fileName,s=l.line;break}}a<0||s<0||!n||!r||n!==r||a>=s||(Y=function(t){if(p.test(t))return!0;var e=X(t);return!!(e&&e.fileName===n&&a<=e.line&&e.line<=s)})}},warn:z,deprecated:function(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),z(n)},CapturedTrace:Q,fireDomEvent:E,fireGlobalEvent:x}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1];return this.caught(t,(function(){throw e}))},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(n,(function(){return r}))}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.reduce,r=t.all;function i(){return r(this)}t.prototype.each=function(t){return n(this,t,e,0)._then(i,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return n(this,t,e,e)},t.each=function(t,r){return n(t,r,e,0)._then(i,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return n(t,r,e,e)}}},{}],12:[function(t,e,n){"use strict";var r,i,o=t("./es5"),a=o.freeze,s=t("./util"),u=s.inherits,l=s.notEnumerableProp;function c(t,e){function n(r){if(!(this instanceof n))return new n(r);l(this,"message","string"==typeof r?r:e),l(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return u(n,Error),n}var h=c("Warning","warning"),f=c("CancellationError","cancellation error"),d=c("TimeoutError","timeout error"),p=c("AggregateError","aggregate error");try{r=TypeError,i=RangeError}catch(t){r=c("TypeError","type error"),i=c("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),v=0;v<g.length;++v)"function"==typeof Array.prototype[g[v]]&&(p.prototype[g[v]]=Array.prototype[g[v]]);o.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var _=0;function m(t){if(!(this instanceof m))return new m(t);l(this,"name","OperationalError"),l(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof Error?(l(this,"message",t.message),l(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}p.prototype.toString=function(){var t=Array(4*_+1).join(" "),e="\n"+t+"AggregateError of:\n";_++,t=Array(4*_+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];e+=(r=i.join("\n"))+"\n"}return _--,e},u(m,Error);var y=Error.__BluebirdErrorTypes__;y||(y=a({CancellationError:f,TimeoutError:d,OperationalError:m,RejectionError:m,AggregateError:p}),o.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:r,RangeError:i,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:h}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e};e.exports={isArray:function(t){try{return"[object Array]"===o.call(t)}catch(t){return!1}},keys:s,names:s,defineProperty:function(t,e,n){return t[e]=n.value,t},getDescriptor:function(t,e){return{value:t[e]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return Object(t).constructor.prototype}catch(t){return a}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=t("./util"),o=e.CancellationError,a=i.errorObj,s=t("./catch_filter")(r);function u(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function l(t){this.finallyHandler=t}function c(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function h(){return d.call(this,this.promise._target()._settledValue())}function f(t){if(!c(this,t))return a.e=t,a}function d(t){var i=this.promise,s=this.handler;if(!this.called){this.called=!0;var u=this.isFinallyHandler()?s.call(i._boundValue()):s.call(i._boundValue(),t);if(u===r)return u;if(void 0!==u){i._setReturnedNonUndefined();var d=n(u,i);if(d instanceof e){if(null!=this.cancelPromise){if(d._isCancelled()){var p=new o("late cancellation observer");return i._attachExtraTrace(p),a.e=p,a}d.isPending()&&d._attachCancellationCallback(new l(this))}return d._then(h,f,void 0,this,void 0)}}}return i.isRejected()?(c(this),a.e=t,a):(c(this),t)}return u.prototype.isFinallyHandler=function(){return 0===this.type},l.prototype._resultCancelled=function(){c(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,r){return"function"!=typeof t?this.then():this._then(n,r,void 0,new u(this,e,t),void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThrough(t,0,d,d)},e.prototype.tap=function(t){return this._passThrough(t,1,d)},e.prototype.tapCatch=function(t){var n=arguments.length;if(1===n)return this._passThrough(t,1,void 0,d);var r,o=new Array(n-1),a=0;for(r=0;r<n-1;++r){var u=arguments[r];if(!i.isObject(u))return e.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+i.classString(u)));o[a++]=u}o.length=a;var l=arguments[r];return this._passThrough(s(o,l,this),1,void 0,d)},u}},{"./catch_filter":7,"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){var s=t("./errors").TypeError,u=t("./util"),l=u.errorObj,c=u.tryCatch,h=[];function f(t,n,i,o){if(a.cancellation()){var s=new e(r),u=this._finallyPromise=new e(r);this._promise=s.lastly((function(){return u})),s._captureStackTrace(),s._setOnCancel(this)}else(this._promise=new e(r))._captureStackTrace();this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}u.inherits(f,o),f.prototype._isResolved=function(){return null===this._promise},f.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},f.prototype._promiseCancelled=function(){if(!this._isResolved()){var t;if(void 0!==this._generator.return)this._promise._pushContext(),t=c(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),t=c(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},f.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=c(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},f.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=c(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},f.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},f.prototype.promise=function(){return this._promise},f.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},f.prototype._continue=function(t){var n=this._promise;if(t===l)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(o instanceof e||null!==(o=function(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=c(n[o])(t);if(r._popContext(),a===l){r._pushContext();var s=e.reject(l.e);return r._popContext(),s}var u=i(a,r);if(u instanceof e)return u}return null}(o,this._yieldHandlers,this._promise))){var a=(o=o._target())._bitField;0==(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&a)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&a)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()}else this._promiseRejected(new s("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},e.coroutine=function(t,e){if("function"!=typeof t)throw new s("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=f,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i),a=o.promise();return o._generator=e,o._promiseFulfilled(void 0),a}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new s("expecting a function but got "+u.classString(t));h.push(t)},e.spawn=function(t){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new f(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){var s=t("./util");s.canEvaluate,s.tryCatch,s.errorObj,e.join=function(){var t,e=arguments.length-1;e>0&&"function"==typeof arguments[e]&&(t=arguments[e]);var r=[].slice.call(arguments);t&&r.pop();var i=new n(r).promise();return void 0!==t?i.spread(t):i}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){var s=e._getDomain,l=t("./util"),c=l.tryCatch,h=l.errorObj,f=e._async;function d(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=s();this._callback=null===i?e:l.domainBind(i,e),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],f.invoke(this._asyncInit,this,void 0)}function p(t,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+l.classString(n));var a=0;if(void 0!==i){if("object"!==u(i)||null===i)return e.reject(new TypeError("options argument must be an object but it is "+l.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(i.concurrency)));a=i.concurrency}return new d(t,n,a="number"==typeof a&&isFinite(a)&&a>=1?a:0,o).promise()}l.inherits(d,n),d.prototype._asyncInit=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),s=this._preservedValues,u=this._limit;if(n<0){if(r[n=-1*n-1]=t,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=t,this._queue.push(n),!1;null!==s&&(s[n]=t);var l=this._promise,f=this._callback,d=l._boundValue();l._pushContext();var p=c(f).call(d,t,n,o),g=l._popContext();if(a.checkForgottenReturns(p,g,null!==s?"Promise.filter":"Promise.map",l),p===h)return this._reject(p.e),!0;var v=i(p,this._promise);if(v instanceof e){var _=(v=v._target())._bitField;if(0==(50397184&_))return u>=1&&this._inFlight++,r[n]=v,v._proxy(this,-1*(n+1)),!1;if(0==(33554432&_))return 0!=(16777216&_)?(this._reject(v._reason()),!0):(this._cancel(),!0);p=v._value()}r[n]=p}return++this._totalResolved>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},d.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},d.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;o<n;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},d.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return p(this,t,e,null)},e.map=function(t,e,n,r){return p(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var a=t("./util"),s=a.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+a.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=s(t).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e.try=function(t){if("function"!=typeof t)return i("expecting a function but got "+a.classString(t));var r,u=new e(n);if(u._captureStackTrace(),u._pushContext(),arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var l=arguments[1],c=arguments[2];r=a.isArray(l)?s(t).apply(c,l):s(t).call(c,l)}else r=s(t)();var h=u._popContext();return o.checkForgottenReturns(r,h,"Promise.try",u),u._resolveFromSyncValue(r),u},e.prototype._resolveFromSyncValue=function(t){t===a.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";var r=t("./util"),i=r.maybeWrapAsError,o=t("./errors").OperationalError,a=t("./es5"),s=/^(?:name|message|stack|cause)$/;function u(t){var e;if(function(t){return t instanceof Error&&a.getPrototypeOf(t)===Error.prototype}(t)){(e=new o(t)).name=t.name,e.message=t.message,e.stack=t.stack;for(var n=a.keys(t),i=0;i<n.length;++i){var u=n[i];s.test(u)||(e[u]=t[u])}return e}return r.markAsOriginatingFromRejection(t),t}e.exports=function(t,e){return function(n,r){if(null!==t){if(n){var o=u(i(n));t._attachExtraTrace(o),t._reject(o)}else if(e){var a=[].slice.call(arguments,1);t._fulfill(a)}else t._fulfill(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util"),r=e._async,i=n.tryCatch,o=n.errorObj;function a(t,e){if(!n.isArray(t))return s.call(this,t,e);var a=i(e).apply(this._boundValue(),[null].concat(t));a===o&&r.throwLater(a.e)}function s(t,e){var n=this._boundValue(),a=void 0===t?i(e).call(n,null):i(e).call(n,null,t);a===o&&r.throwLater(a.e)}function u(t,e){if(!t){var n=new Error(t+"");n.cause=t,t=n}var a=i(e).call(this._boundValue(),t);a===o&&r.throwLater(a.e)}e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var n=s;void 0!==e&&Object(e).spread&&(n=a),this._then(n,u,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,e,r){"use strict";e.exports=function(){var r=function(){return new p("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},i=function(){return new N.PromiseInspection(this._target())},o=function(t){return N.reject(new p(t))};function a(){}var s,u={},l=t("./util");s=l.isNode?function(){var t=n.domain;return void 0===t&&(t=null),t}:function(){return null},l.notEnumerableProp(N,"_getDomain",s);var c=t("./es5"),h=t("./async"),f=new h;c.defineProperty(N,"_async",{value:f});var d=t("./errors"),p=N.TypeError=d.TypeError;N.RangeError=d.RangeError;var g=N.CancellationError=d.CancellationError;N.TimeoutError=d.TimeoutError,N.OperationalError=d.OperationalError,N.RejectionError=d.OperationalError,N.AggregateError=d.AggregateError;var v=function(){},_={},m={},y=t("./thenables")(N,v),b=t("./promise_array")(N,v,y,o,a),w=t("./context")(N),k=w.create,S=t("./debuggability")(N,w),T=(S.CapturedTrace,t("./finally")(N,y,m)),E=t("./catch_filter")(m),x=t("./nodeback"),I=l.errorObj,C=l.tryCatch;function N(t){t!==v&&function(t,e){if(null==t||t.constructor!==N)throw new p("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof e)throw new p("expecting a function but got "+l.classString(e))}(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function A(t){this.promise._resolveCallback(t)}function D(t){this.promise._rejectCallback(t,!1)}function $(t){var e=new N(v);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}return N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype.catch=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;n<e-1;++n){var a=arguments[n];if(!l.isObject(a))return o("Catch statement predicate: expecting an object but got "+l.classString(a));r[i++]=a}return r.length=i,t=arguments[n],this.then(void 0,E(r,t,this))}return this.then(void 0,t)},N.prototype.reflect=function(){return this._then(i,i,void 0,this,void 0)},N.prototype.then=function(t,e){if(S.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+l.classString(t);arguments.length>1&&(n+=", "+l.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},N.prototype.done=function(t,e){this._then(t,e,void 0,void 0,void 0)._setIsFinal()},N.prototype.spread=function(t){return"function"!=typeof t?o("expecting a function but got "+l.classString(t)):this.all()._then(t,void 0,void 0,_,void 0)},N.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},N.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new b(this).promise()},N.prototype.error=function(t){return this.caught(l.originatesFromRejection,t)},N.getNewLibraryCopy=e.exports,N.is=function(t){return t instanceof N},N.fromNode=N.fromCallback=function(t){var e=new N(v);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=C(t)(x(e,n));return r===I&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},N.all=function(t){return new b(t).promise()},N.cast=function(t){var e=y(t);return e instanceof N||((e=new N(v))._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},N.resolve=N.fulfilled=N.cast,N.reject=N.rejected=function(t){var e=new N(v);return e._captureStackTrace(),e._rejectCallback(t,!0),e},N.setScheduler=function(t){if("function"!=typeof t)throw new p("expecting a function but got "+l.classString(t));return f.setScheduler(t)},N.prototype._then=function(t,e,n,r,i){var o=void 0!==i,a=o?i:new N(v),u=this._target(),c=u._bitField;o||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===r&&0!=(2097152&this._bitField)&&(r=0!=(50397184&c)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var h=s();if(0!=(50397184&c)){var d,p,_=u._settlePromiseCtx;0!=(33554432&c)?(p=u._rejectionHandler0,d=t):0!=(16777216&c)?(p=u._fulfillmentHandler0,d=e,u._unsetRejectionIsUnhandled()):(_=u._settlePromiseLateCancellationObserver,p=new g("late cancellation observer"),u._attachExtraTrace(p),d=e),f.invoke(_,u,{handler:null===h?d:"function"==typeof d&&l.domainBind(h,d),promise:a,receiver:r,value:p})}else u._addCallbacks(t,e,a,r,h);return a},N.prototype._length=function(){return 65535&this._bitField},N.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},N.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},N.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},N.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},N.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},N.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},N.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},N.prototype._isFinal=function(){return(4194304&this._bitField)>0},N.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},N.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},N.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},N.prototype._setAsyncGuaranteed=function(){f.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},N.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==u)return void 0===e&&this._isBound()?this._boundValue():e},N.prototype._promiseAt=function(t){return this[4*t-4+2]},N.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},N.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},N.prototype._boundValue=function(){},N.prototype._migrateCallback0=function(t){t._bitField;var e=t._fulfillmentHandler0,n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=u),this._addCallbacks(e,n,r,i,null)},N.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=u),this._addCallbacks(n,r,i,o,null)},N.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:l.domainBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:l.domainBind(i,e));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof t&&(this[a+0]=null===i?t:l.domainBind(i,t)),"function"==typeof e&&(this[a+1]=null===i?e:l.domainBind(i,e))}return this._setLength(o+1),o},N.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},N.prototype._resolveCallback=function(t,e){if(0==(117506048&this._bitField)){if(t===this)return this._rejectCallback(r(),!1);var n=y(t,this);if(!(n instanceof N))return this._fulfill(t);e&&this._propagateFrom(n,2);var i=n._target();if(i!==this){var o=i._bitField;if(0==(50397184&o)){var a=this._length();a>0&&i._migrateCallback0(this);for(var s=1;s<a;++s)i._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(i)}else if(0!=(33554432&o))this._fulfill(i._value());else if(0!=(16777216&o))this._reject(i._reason());else{var u=new g("late cancellation observer");i._attachExtraTrace(u),this._reject(u)}}else this._reject(r())}},N.prototype._rejectCallback=function(t,e,n){var r=l.ensureErrorObject(t),i=r===t;if(!i&&!n&&S.warnings()){var o="a promise was rejected with a non-error: "+l.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},N.prototype._resolveFromExecutor=function(t){if(t!==v){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,(function(t){e._resolveCallback(t)}),(function(t){e._rejectCallback(t,n)}));n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)}},N.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0==(65536&i)){var o;r._pushContext(),e===_?n&&"number"==typeof n.length?o=C(t).apply(this._boundValue(),n):(o=I).e=new p("cannot .spread() a non-array: "+l.classString(n)):o=C(t).call(e,n);var a=r._popContext();0==(65536&(i=r._bitField))&&(o===m?r._reject(n):o===I?r._rejectCallback(o.e,!1):(S.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},N.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},N.prototype._followee=function(){return this._rejectionHandler0},N.prototype._setFollowee=function(t){this._rejectionHandler0=t},N.prototype._settlePromise=function(t,e,n,r){var o=t instanceof N,s=this._bitField,u=0!=(134217728&s);0!=(65536&s)?(o&&t._invokeInternalOnCancel(),n instanceof T&&n.isFinallyHandler()?(n.cancelPromise=t,C(e).call(n,r)===I&&t._reject(I.e)):e===i?t._fulfill(i.call(n)):n instanceof a?n._promiseCancelled(t):o||t instanceof b?t._cancel():n.cancel()):"function"==typeof e?o?(u&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,r,t)):e.call(n,r,t):n instanceof a?n._isResolved()||(0!=(33554432&s)?n._promiseFulfilled(r,t):n._promiseRejected(r,t)):o&&(u&&t._setAsyncGuaranteed(),0!=(33554432&s)?t._fulfill(r):t._reject(r))},N.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"==typeof e?n instanceof N?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof N&&n._reject(i)},N.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},N.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},N.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},N.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=r();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!=(134217728&e)?this._settlePromises():f.settlePromises(this),this._dereferenceTrace())}},N.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=t,this._isFinal())return f.fatalError(t,l.isNode);(65535&e)>0?f.settlePromises(this):this._ensurePossibleRejectionHandled()}},N.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},N.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},N.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!=(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},N.prototype._settledValue=function(){var t=this._bitField;return 0!=(33554432&t)?this._rejectionHandler0:0!=(16777216&t)?this._fulfillmentHandler0:void 0},N.defer=N.pending=function(){return S.deprecated("Promise.defer","new Promise"),{promise:new N(v),resolve:A,reject:D}},l.notEnumerableProp(N,"_makeSelfResolutionError",r),t("./method")(N,v,y,o,S),t("./bind")(N,v,y,S),t("./cancel")(N,b,o,S),t("./direct_resolve")(N),t("./synchronous_inspection")(N),t("./join")(N,b,y,v,f,s),N.Promise=N,N.version="3.5.4",t("./map.js")(N,b,o,y,v,S),t("./call_get.js")(N),t("./using.js")(N,o,y,k,v,S),t("./timers.js")(N,v,S),t("./generators.js")(N,o,v,y,a,S),t("./nodeify.js")(N),t("./promisify.js")(N,v),t("./props.js")(N,b,y,o),t("./race.js")(N,v,y,o),t("./reduce.js")(N,b,o,y,v,S),t("./settle.js")(N,b,S),t("./some.js")(N,b,o),t("./filter.js")(N,v),t("./each.js")(N,v),t("./any.js")(N),l.toFastProperties(N),l.toFastProperties(N.prototype),$({a:1}),$({b:2}),$({c:3}),$(1),$((function(){})),$(void 0),$(!1),$(new N(v)),S.setBounds(h.firstLineError,l.lastLineError),N}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var a=t("./util");function s(t){var r=this._promise=new e(n);t instanceof e&&r._propagateFrom(t,3),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return a.isArray,a.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function t(n,o){var s=r(this._values,this._promise);if(s instanceof e){var u=(s=s._target())._bitField;if(this._values=s,0==(50397184&u))return this._promise._setAsyncGuaranteed(),s._then(t,this._reject,void 0,this,o);if(0==(33554432&u))return 0!=(16777216&u)?this._reject(s._reason()):this._cancel();s=s._value()}if(null!==(s=a.asArray(s)))0!==s.length?this._iterate(s):-5===o?this._resolveEmptyArray():this._resolve(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(o));else{var l=i("expecting an array or an iterable object but got "+a.classString(s)).reason();this._promise._rejectCallback(l,!1)}},s.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,s=0;s<n;++s){var u=r(t[s],i);a=u instanceof e?(u=u._target())._bitField:null,o?null!==a&&u.suppressUnhandledRejections():null!==a?0==(50397184&a)?(u._proxy(this,s),this._values[s]=u):o=0!=(33554432&a)?this._promiseFulfilled(u._value(),s):0!=(16777216&a)?this._promiseRejected(u._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(u,s)}o||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},s.prototype._promiseFulfilled=function(t,e){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){var r={},i=t("./util"),o=t("./nodeback"),a=i.withAppended,s=i.maybeWrapAsError,l=i.canEvaluate,c=t("./errors").TypeError,h={__isPromisified__:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),d=function(t){return i.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function p(t){return!f.test(t)}function g(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function v(t,e,n){var r=i.getDataPropertyOrDefault(t,e+n,h);return!!r&&g(r)}function _(t,e,n,r){for(var o=i.inheritedDataKeys(t),a=[],s=0;s<o.length;++s){var u=o[s],l=t[u],h=r===d||d(u,l,t);"function"!=typeof l||g(l)||v(t,u,e)||!r(u,l,t,h)||a.push(u,l)}return function(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<t.length;a+=2)if(t[a]===o)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}(a,e,n),a}var m=function(t){return t.replace(/([$])/,"\\$")},y=l?void 0:function(t,u,l,c,h,f){var d=function(){return this}(),p=t;function g(){var i=u;u===r&&(i=this);var l=new e(n);l._captureStackTrace();var c="string"==typeof p&&this!==d?this[p]:t,h=o(l,f);try{c.apply(i,a(arguments,h))}catch(t){l._rejectCallback(s(t),!0,!0)}return l._isFateSealed()||l._setAsyncGuaranteed(),l}return"string"==typeof p&&(t=c),i.notEnumerableProp(g,"__isPromisified__",!0),g};function b(t,e,n,o,a){for(var s=new RegExp(m(e)+"$"),u=_(t,e,s,n),l=0,c=u.length;l<c;l+=2){var h=u[l],f=u[l+1],d=h+e;if(o===y)t[d]=y(h,r,h,f,e,a);else{var p=o(f,(function(){return y(h,r,h,f,e,a)}));i.notEnumerableProp(p,"__isPromisified__",!0),t[d]=p}}return i.toFastProperties(t),t}e.promisify=function(t,e){if("function"!=typeof t)throw new c("expecting a function but got "+i.classString(t));if(g(t))return t;var n=function(t,e,n){return y(t,e,void 0,t,null,n)}(t,void 0===(e=Object(e)).context?r:e.context,!!e.multiArgs);return i.copyDescriptors(t,n,p),n},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!==u(t))throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(e=Object(e)).multiArgs,r=e.suffix;"string"!=typeof r&&(r="Async");var o=e.filter;"function"!=typeof o&&(o=d);var a=e.promisifier;if("function"!=typeof a&&(a=y),!i.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=i.inheritedDataKeys(t),l=0;l<s.length;++l){var h=t[s[l]];"constructor"!==s[l]&&i.isClass(h)&&(b(h.prototype,r,o,a,n),b(h,r,o,a,n))}return b(t,r,o,a,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o,a=t("./util"),s=a.isObject,u=t("./es5");"function"==typeof Map&&(o=Map);var l=function(){var t=0,e=0;function n(n,r){this[t]=n,this[t+e]=r,t++}return function(r){e=r.size,t=0;var i=new Array(2*r.size);return r.forEach(n,i),i}}();function c(t){var e,n=!1;if(void 0!==o&&t instanceof o)e=l(t),n=!0;else{var r=u.keys(t),i=r.length;e=new Array(2*i);for(var a=0;a<i;++a){var s=r[a];e[a]=t[s],e[a+i]=s}}this.constructor$(e),this._isMap=n,this._init$(void 0,n?-6:-3)}function h(t){var n,o=r(t);return s(o)?(n=o instanceof e?o._then(e.props,void 0,void 0,void 0,void 0):new c(o).promise(),o instanceof e&&n._propagateFrom(o,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}a.inherits(c,n),c.prototype._init=function(){},c.prototype._promiseFulfilled=function(t,e){if(this._values[e]=t,++this._totalResolved>=this._length){var n;if(this._isMap)n=function(t){for(var e=new o,n=t.length/2|0,r=0;r<n;++r){var i=t[n+r],a=t[r];e.set(i,a)}return e}(this._values);else{n={};for(var r=this.length(),i=0,a=this.length();i<a;++i)n[this._values[i+r]]=this._values[i]}return this._resolve(n),!0}return!1},c.prototype.shouldCopyValues=function(){return!1},c.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return h(this)},e.props=function(t){return h(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t){this._capacity=t,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(t){return this._capacity<t},r.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1),this[this._front+e&this._capacity-1]=t,this._length=e+1},r.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},r.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t,function(t,e,n,r,i){for(var o=0;o<i;++o)n[o+r]=t[o+e],t[o+e]=void 0}(this,0,this,e,this._front+this._length&e-1)},e.exports=r},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),a=function(t){return t.then((function(e){return s(e,t)}))};function s(t,s){var u=r(t);if(u instanceof e)return a(u);if(null===(t=o.asArray(t)))return i("expecting an array or an iterable object but got "+o.classString(t));var l=new e(n);void 0!==s&&l._propagateFrom(s,3);for(var c=l._fulfill,h=l._reject,f=0,d=t.length;f<d;++f){var p=t[f];(void 0!==p||f in t)&&e.cast(p)._then(c,h,void 0,l,null)}return l}e.race=function(t){return s(t,void 0)},e.prototype.race=function(){return s(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){var s=e._getDomain,u=t("./util"),l=u.tryCatch;function c(t,n,r,i){this.constructor$(t);var a=s();this._fn=null===a?n:u.domainBind(a,n),void 0!==r&&(r=e.resolve(r))._attachCancellationCallback(this),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function h(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function f(t,e,n,i){return"function"!=typeof e?r("expecting a function but got "+u.classString(e)):new c(t,e,n,i).promise()}function d(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(p,void 0,void 0,this,void 0)):p.call(this,n)}function p(t){var n,r=this.array,i=r._promise,o=l(r._fn);i._pushContext(),(n=void 0!==r._eachValues?o.call(i._boundValue(),t,this.index,this.length):o.call(i._boundValue(),this.accum,t,this.index,this.length))instanceof e&&(r._currentCancellable=n);var s=i._popContext();return a.checkForgottenReturns(n,s,void 0!==r._eachValues?"Promise.each":"Promise.reduce",i),n}u.inherits(c,n),c.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},c.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},c.prototype._init=function(){},c.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},c.prototype.shouldCopyValues=function(){return!1},c.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},c.prototype._resultCancelled=function(t){if(t===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},c.prototype._iterate=function(t){var n,r;this._values=t;var i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(d,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(h,h,void 0,n,this)},e.prototype.reduce=function(t,e){return f(this,t,e,null)},e.reduce=function(t,e,n,r){return f(t,e,n,r)}}},{"./util":36}],29:[function(t,e,o){"use strict";var a,s=t("./util"),u=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var l=r.setImmediate,c=n.nextTick;a=s.isRecentNode?function(t){l.call(r,t)}:function(t){c.call(n,t)}}else if("function"==typeof u&&"function"==typeof u.resolve){var h=u.resolve();a=function(t){h.then(t)}}else a="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==i?function(t){i(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div");return new MutationObserver((function(){t.classList.toggle("foo"),n=!1})).observe(r,e),function(i){var o=new MutationObserver((function(){o.disconnect(),i()}));o.observe(t,e),n||(n=!0,r.classList.toggle("foo"))}}();e.exports=a},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=e.PromiseInspection;function o(t){this.constructor$(t)}t("./util").inherits(o,n),o.prototype._promiseResolved=function(t,e){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},o.prototype._promiseFulfilled=function(t,e){var n=new i;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},o.prototype._promiseRejected=function(t,e){var n=new i;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new o(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=t("./util"),o=t("./errors").RangeError,a=t("./errors").AggregateError,s=i.isArray,u={};function l(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function c(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new l(t),i=n.promise();return n.setHowMany(e),n.init(),i}i.inherits(l,n),l.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var t=s(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(t){this._howMany=t},l.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},l.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},l.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(u),this._checkOutcome())},l.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new a,e=this.length();e<this._values.length;++e)this._values[e]!==u&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(t){this._values.push(t)},l.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new o(e)},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return c(t,e)},e.prototype.some=function(t){return c(this,t)},e._SomePromiseArray=l}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=e.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=e.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return s.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){var r=t("./util"),i=r.errorObj,o=r.isObject,a={}.hasOwnProperty;return function(t,s){if(o(t)){if(t instanceof e)return t;var u=function(t){try{return function(t){return t.then}(t)}catch(t){return i.e=t,i}}(t);if(u===i){s&&s._pushContext();var l=e.reject(u.e);return s&&s._popContext(),l}if("function"==typeof u)return function(t){try{return a.call(t,"_promise0")}catch(t){return!1}}(t)?(l=new e(n),t._then(l._fulfill,l._reject,void 0,l,null),l):function(t,o,a){var s=new e(n),u=s;a&&a._pushContext(),s._captureStackTrace(),a&&a._popContext();var l=!0,c=r.tryCatch(o).call(t,(function(t){s&&(s._resolveCallback(t),s=null)}),(function(t){s&&(s._rejectCallback(t,l,!0),s=null)}));return l=!1,s&&c===i&&(s._rejectCallback(c.e,!0,!0),s=null),u}(t,u,s)}return t}}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=t("./util"),o=e.TimeoutError;function a(t){this.handle=t}a.prototype._resultCancelled=function(){clearTimeout(this.handle)};var s=function(t){return u(+this).thenReturn(t)},u=e.delay=function(t,i){var o,u;return void 0!==i?(o=e.resolve(i)._then(s,null,null,t,void 0),r.cancellation()&&i instanceof e&&o._setOnCancel(i)):(o=new e(n),u=setTimeout((function(){o._fulfill()}),+t),r.cancellation()&&o._setOnCancel(new a(u)),o._captureStackTrace()),o._setAsyncGuaranteed(),o};function l(t){return clearTimeout(this.handle),t}function c(t){throw clearTimeout(this.handle),t}e.prototype.delay=function(t){return u(t,this)},e.prototype.timeout=function(t,e){var n,s;t=+t;var u=new a(setTimeout((function(){n.isPending()&&function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new o("operation timed out"):new o(e),i.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()}(n,e,s)}),t));return r.cancellation()?(s=this.then(),(n=s._then(l,c,void 0,u,void 0))._setOnCancel(u)):n=this._then(l,c,void 0,u,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){var s=t("./util"),u=t("./errors").TypeError,l=t("./util").inherits,c=s.errorObj,h=s.tryCatch,f={};function d(t){setTimeout((function(){throw t}),0)}function p(t,n){var i=0,a=t.length,s=new e(o);return function o(){if(i>=a)return s._fulfill();var u=function(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}(t[i++]);if(u instanceof e&&u._isDisposable()){try{u=r(u._getDisposer().tryDispose(n),t.promise)}catch(t){return d(t)}if(u instanceof e)return u._then(o,d,null,null,null)}o()}(),s}function g(t,e,n){this._data=t,this._promise=e,this._context=n}function v(t,e,n){this.constructor$(t,e,n)}function _(t){return g.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function m(t){this.length=t,this.promise=null,this[t-1]=null}g.prototype.data=function(){return this._data},g.prototype.promise=function(){return this._promise},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():f},g.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==f?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},g.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},l(v,g),v.prototype.doDispose=function(t,e){return this.data().call(t,t,e)},m.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var i,o=arguments[t-1];if("function"!=typeof o)return n("expecting a function but got "+s.classString(o));var u=!0;2===t&&Array.isArray(arguments[0])?(t=(i=arguments[0]).length,u=!1):(i=arguments,t--);for(var l=new m(t),f=0;f<t;++f){var d=i[f];if(g.isDisposer(d)){var v=d;(d=d.promise())._setDisposable(v)}else{var y=r(d);y instanceof e&&(d=y._then(_,null,null,{resources:l,index:f},void 0))}l[f]=d}var b=new Array(l.length);for(f=0;f<b.length;++f)b[f]=e.resolve(l[f]).reflect();var w=e.all(b).then((function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return c.e=n.error(),c;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}k._pushContext(),o=h(o);var r=u?o.apply(void 0,t):o(t),i=k._popContext();return a.checkForgottenReturns(r,i,"Promise.using",k),r})),k=w.lastly((function(){var t=new e.PromiseInspection(w);return p(l,t)}));return l.promise=k,k._setOnCancel(l),k},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new v(t,this,i());throw new u}}},{"./errors":12,"./util":36}],36:[function(t,e,i){"use strict";var o,a=t("./es5"),s="undefined"==typeof navigator,l={e:{}},c="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r?r:void 0!==this?this:null;function h(){try{var t=o;return o=null,t.apply(this,arguments)}catch(t){return l.e=t,l}}function f(t){return o=t,h}var d=function(t,e){var n={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=e,e.prototype)n.call(e.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=e.prototype[r])}return r.prototype=e.prototype,t.prototype=new r,t.prototype};function p(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function g(t){return"function"==typeof t||"object"===u(t)&&null!==t}function v(t){return p(t)?new Error(C(t)):t}function _(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=t[n];return i[n]=e,i}function m(t,e,n){if(!a.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function y(t,e,n){if(p(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return a.defineProperty(t,e,r),t}function b(t){throw t}var w=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(a.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(t){return r}for(var s=0;s<o.length;++s){var u=o[s];if(!i[u]){i[u]=!0;var l=Object.getOwnPropertyDescriptor(t,u);null!=l&&null==l.get&&null==l.set&&r.push(u)}}t=a.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<t.length;++a)if(r.call(t[a],o))continue t;i.push(o)}return i}}(),k=/this\s*\.\s*\S+\s*=/;function S(t){try{if("function"==typeof t){var e=a.names(t.prototype),n=a.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=k.test(t+"")&&a.names(t).length>0;if(n||r||i)return!0}return!1}catch(t){return!1}}function T(t){function e(){}e.prototype=t;var n=new e;function r(){return u(n.foo)}return r(),r(),t}var E=/^[a-z$_][a-z$_0-9]*$/i;function x(t){return E.test(t)}function I(t,e,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=e+i+n;return r}function C(t){try{return t+""}catch(t){return"[no string representation]"}}function N(t){return t instanceof Error||null!==t&&"object"===u(t)&&"string"==typeof t.message&&"string"==typeof t.name}function A(t){try{y(t,"isOperational",!0)}catch(t){}}function D(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)}function $(t){return N(t)&&a.propertyIsWritable(t,"stack")}var P="stack"in new Error?function(t){return $(t)?t:new Error(C(t))}:function(t){if($(t))return t;try{throw new Error(C(t))}catch(t){return t}};function O(t){return{}.toString.call(t)}function M(t,e,n){for(var r=a.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{a.defineProperty(e,o,a.getDescriptor(t,o))}catch(t){}}}var L=function(t){return a.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var R="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};L=function(t){return a.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?R(t):null}}var j=void 0!==n&&"[object process]"===O(n).toLowerCase(),F=void 0!==n&&void 0!==n.env;function H(t){return F?n.env[t]:void 0}function V(){if("function"==typeof Promise)try{var t=new Promise((function(){}));if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}}function z(t,e){return t.bind(e)}var U={isClass:S,isIdentifier:x,inheritedDataKeys:w,getDataPropertyOrDefault:m,thrower:b,isArray:a.isArray,asArray:L,notEnumerableProp:y,isPrimitive:p,isObject:g,isError:N,canEvaluate:s,errorObj:l,tryCatch:f,inherits:d,withAppended:_,maybeWrapAsError:v,toFastProperties:T,filledRange:I,toString:C,canAttachTrace:$,ensureErrorObject:P,originatesFromRejection:D,markAsOriginatingFromRejection:A,classString:O,copyDescriptors:M,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:j,hasEnvVariables:F,env:H,global:c,getNativePromise:V,domainBind:z};U.isRecentNode=U.isNode&&function(){var t;return n.versions&&n.versions.node?t=n.versions.node.split(".").map(Number):n.version&&(t=n.version.split(".").map(Number)),0===t[0]&&t[1]>10||t[0]>0}(),U.isNode&&U.toFastProperties(n);try{throw new Error}catch(t){U.lastLineError=t}e.exports=U},{"./es5":13}]},{},[4])(4)})),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,n(31),n(13),n(108).setImmediate)},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(109),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(13))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,o={},a=!1,s=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){c(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&c(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){c(t.data)},r=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;r=function(e){var n=s.createElement("script");n.onreadystatechange=function(){c(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(c,0,t)},u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return o[i]=a,r(i),i++},u.clearImmediate=l}function l(t){delete o[t]}function c(t){if(a)setTimeout(c,0,t);else{var e=o[t];if(e){a=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{l(t),a=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(13),n(31))},function(t,e,n){var r=n(0),i=n(111),o=n(35),a=n(9);t.exports=function(t){var e=i.create();r.mixin(t,e);var s=t.createDatastore({name:"task",type:"treeDatastore",rootId:function(){return t.config.root_id},initItem:r.bind((function(e){this.defined(e.id)||(e.id=this.uid()),e.start_date&&(e.start_date=t.date.parseDate(e.start_date,"parse_date")),e.end_date&&(e.end_date=t.date.parseDate(e.end_date,"parse_date"));var n=null;(e.duration||0===e.duration)&&(e.duration=n=1*e.duration),n&&(e.start_date&&!e.end_date?e.end_date=this.calculateEndDate(e):!e.start_date&&e.end_date&&(e.start_date=this.calculateEndDate({start_date:e.end_date,duration:-e.duration,task:e}))),e.progress=Number(e.progress)||0,this._isAllowedUnscheduledTask(e)&&this._set_default_task_timing(e),this._init_task_timing(e),e.start_date&&e.end_date&&this.correctTaskWorkTime(e),e.$source=[],e.$target=[];var i=this.$data.tasksStore.getItem(e.id);return i&&!r.defined(e.open)&&(e.$open=i.$open),void 0===e.parent&&(e.parent=this.config.root_id),e}),t),getConfig:function(){return t.config}}),u=t.createDatastore({name:"link",initItem:r.bind((function(t){return this.defined(t.id)||(t.id=this.uid()),t}),t)});function l(e){var n=t.isTaskVisible(e);if(!n&&t.isTaskExists(e)){var r=t.getParent(e);t.isTaskExists(r)&&t.isTaskVisible(r)&&(r=t.getTask(r),t.isSplitTask(r)&&(n=!0))}return n}function c(e){if(t.isTaskExists(e.source)){var n=t.getTask(e.source);n.$source=n.$source||[],n.$source.push(e.id)}if(t.isTaskExists(e.target)){var r=t.getTask(e.target);r.$target=r.$target||[],r.$target.push(e.id)}}function h(e){if(t.isTaskExists(e.source))for(var n=t.getTask(e.source),r=0;r<n.$source.length;r++)if(n.$source[r]==e.id){n.$source.splice(r,1);break}if(t.isTaskExists(e.target)){var i=t.getTask(e.target);for(r=0;r<i.$target.length;r++)if(i.$target[r]==e.id){i.$target.splice(r,1);break}}}function f(){for(var e=null,n=t.$data.tasksStore.getItems(),r=0,i=n.length;r<i;r++)(e=n[r]).$source=[],e.$target=[];var o=t.$data.linksStore.getItems();for(r=0,i=o.length;r<i;r++)c(o[r])}function d(t){var e=t.source,n=t.target;for(var r in t.events)!function(t,r){e.attachEvent(t,(function(){return n.callEvent(r,Array.prototype.slice.call(arguments))}),r)}(r,t.events[r])}t.attachEvent("onDestroy",(function(){s.destructor(),u.destructor()})),t.attachEvent("onLinkValidation",(function(e){if(t.isLinkExists(e.id)||"predecessor_generated"===e.id)return!0;for(var n=t.getTask(e.source).$source,r=0;r<n.length;r++){var i=t.getLink(n[r]),o=e.source==i.source,a=e.target==i.target,s=e.type==i.type;if(o&&a&&s)return!1}return!0})),s.attachEvent("onBeforeRefreshAll",(function(){for(var e=s.getVisibleItems(),n=0;n<e.length;n++){var r=e[n];r.$index=n,r.$local_index=t.getTaskIndex(r.id),t.resetProjectDates(r)}})),s.attachEvent("onFilterItem",(function(e,n){if(t.config.show_tasks_outside_timescale)return!0;var r=null,i=null;if(t.config.start_date&&t.config.end_date){if(t._isAllowedUnscheduledTask(n))return!0;if(r=t.config.start_date.valueOf(),i=t.config.end_date.valueOf(),+n.start_date>i||+n.end_date<+r)return!1}return!0})),s.attachEvent("onIdChange",(function(e,n){t._update_flags(e,n);var r=t.getTask(n);s.isSilent()||(r.$split_subtask||r.rollup)&&t.eachParent((function(e){t.refreshTask(e.id)}),n)})),s.attachEvent("onAfterUpdate",(function(e){if(t._update_parents(e),t.getState("batchUpdate").batch_update)return!0;var n=s.getItem(e);n.$source||(n.$source=[]);for(var r=0;r<n.$source.length;r++)u.refresh(n.$source[r]);for(n.$target||(n.$target=[]),r=0;r<n.$target.length;r++)u.refresh(n.$target[r])})),s.attachEvent("onBeforeItemMove",(function(e,n,r){return!a(e,t,s)||(console.log("The placeholder task cannot be moved to another position."),!1)})),s.attachEvent("onAfterItemMove",(function(e,n,r){var i=t.getTask(e);null!==this.getNextSibling(e)?i.$drop_target=this.getNextSibling(e):null!==this.getPrevSibling(e)?i.$drop_target="next:"+this.getPrevSibling(e):i.$drop_target="next:null"})),s.attachEvent("onStoreUpdated",(function(e,n,r){if("delete"==r&&t._update_flags(e,null),!t.$services.getService("state").getState("batchUpdate").batch_update){if(t.config.fit_tasks&&"paint"!==r){var i=t.getState();o(t);var a=t.getState();if(+i.min_date!=+a.min_date||+i.max_date!=+a.max_date)return t.render(),t.callEvent("onScaleAdjusted",[]),!0}"add"==r||"move"==r||"delete"==r?t.$layout&&t.$layout.resize():e||u.refresh()}})),u.attachEvent("onAfterAdd",(function(t,e){c(e)})),u.attachEvent("onAfterUpdate",(function(t,e){f()})),u.attachEvent("onAfterDelete",(function(t,e){h(e)})),u.attachEvent("onBeforeIdChange",(function(e,n){h(t.mixin({id:e},t.$data.linksStore.getItem(n))),c(t.$data.linksStore.getItem(n))})),u.attachEvent("onFilterItem",(function(e,n){if(!t.config.show_links)return!1;var r=l(n.source),i=l(n.target);return!(!r||!i||t._isAllowedUnscheduledTask(t.getTask(n.source))||t._isAllowedUnscheduledTask(t.getTask(n.target)))&&t.callEvent("onBeforeLinkDisplay",[e,n])})),function(){var e=n(36),r={};t.attachEvent("onBeforeTaskDelete",(function(n,i){return r[n]=e.getSubtreeLinks(t,n),!0})),t.attachEvent("onAfterTaskDelete",(function(e,n){r[e]&&t.$data.linksStore.silent((function(){for(var n in r[e])t.$data.linksStore.removeItem(n),h(r[e][n]);r[e]=null}))}))}(),t.attachEvent("onAfterLinkDelete",(function(e,n){t.refreshTask(n.source),t.refreshTask(n.target)})),t.attachEvent("onParse",f),d({source:u,target:t,events:{onItemLoading:"onLinkLoading",onBeforeAdd:"onBeforeLinkAdd",onAfterAdd:"onAfterLinkAdd",onBeforeUpdate:"onBeforeLinkUpdate",onAfterUpdate:"onAfterLinkUpdate",onBeforeDelete:"onBeforeLinkDelete",onAfterDelete:"onAfterLinkDelete",onIdChange:"onLinkIdChange"}}),d({source:s,target:t,events:{onItemLoading:"onTaskLoading",onBeforeAdd:"onBeforeTaskAdd",onAfterAdd:"onAfterTaskAdd",onBeforeUpdate:"onBeforeTaskUpdate",onAfterUpdate:"onAfterTaskUpdate",onBeforeDelete:"onBeforeTaskDelete",onAfterDelete:"onAfterTaskDelete",onIdChange:"onTaskIdChange",onBeforeItemMove:"onBeforeTaskMove",onAfterItemMove:"onAfterTaskMove",onFilterItem:"onBeforeTaskDisplay",onItemOpen:"onTaskOpened",onItemClose:"onTaskClosed",onBeforeSelect:"onBeforeTaskSelected",onAfterSelect:"onTaskSelected",onAfterUnselect:"onTaskUnselected"}}),t.$data={tasksStore:s,linksStore:u}}},function(t,e,n){var r=n(0),i=n(112),o=n(113),a=n(32),s=n(34),u=n(114),l=n(115),c=n(10),h=n(2).replaceValidZeroId;function f(){for(var t=this.$services.getService("datastores"),e=[],n=0;n<t.length;n++){var r=this.getDatastore(t[n]);r.$destroyed||e.push(r)}return e}a.default&&(a=a.default);var d=function(){return{createDatastore:function(t){var e="treedatastore"==(t.type||"").toLowerCase()?s:a;if(t){var n=this;t.openInitially=function(){return n.config.open_tree_initially},t.copyOnParse=function(){return n.config.deepcopy_on_parse}}var r=new e(t);if(this.mixin(r,u(r)),t.name){var i="datastore:"+t.name;r.attachEvent("onDestroy",function(){this.$services.dropService(i);for(var e=this.$services.getService("datastores"),n=0;n<e.length;n++)if(e[n]===t.name){e.splice(n,1);break}}.bind(this)),this.$services.dropService(i),this.$services.setService(i,(function(){return r}));var o=this.$services.getService("datastores");o?o.indexOf(t.name)<0&&o.push(t.name):(o=[],this.$services.setService("datastores",(function(){return o})),o.push(t.name)),l.bindDataStore(t.name,this)}return r},getDatastore:function(t){return this.$services.getService("datastore:"+t)},_getDatastores:f,refreshData:function(){var t;c(this)||(t=this.getScrollState()),this.callEvent("onBeforeDataRender",[]);for(var e=f.call(this),n=0;n<e.length;n++)e[n].refresh();this.config.preserve_scroll&&!c(this)&&(t.x||t.y)&&this.scrollTo(t.x,t.y),this.callEvent("onDataRender",[])},isChildOf:function(t,e){return this.$data.tasksStore.isChildOf(t,e)},refreshTask:function(t,e){var n=this.getTask(t),r=this;function i(){if(void 0===e||e){for(var t=0;t<n.$source.length;t++)r.refreshLink(n.$source[t]);for(t=0;t<n.$target.length;t++)r.refreshLink(n.$target[t])}}if(n&&this.isTaskVisible(t))this.$data.tasksStore.refresh(t,!!this.getState("tasksDnd").drag_id||!1===e),i();else if(this.isTaskExists(t)&&this.isTaskExists(this.getParent(t))&&!this._bulk_dnd){this.refreshTask(this.getParent(t));var o=!1;this.eachParent((function(t){(o||this.isSplitTask(t))&&(o=!0)}),t),o&&i()}},refreshLink:function(t){this.$data.linksStore.refresh(t,!!this.getState("tasksDnd").drag_id)},silent:function(t){var e=this;e.$data.tasksStore.silent((function(){e.$data.linksStore.silent((function(){t()}))}))},clearAll:function(){for(var t=f.call(this),e=0;e<t.length;e++)t[e].silent((function(){t[e].clearAll()}));for(e=0;e<t.length;e++)t[e].clearAll();this._update_flags(),this.userdata={},this.callEvent("onClear",[]),this.render()},_clear_data:function(){this.$data.tasksStore.clearAll(),this.$data.linksStore.clearAll(),this._update_flags(),this.userdata={}},selectTask:function(t){var e=this.$data.tasksStore;if(!this.config.select_task)return!1;if(t=h(t,this.config.root_id)){var n=this.getSelectedId();e.select(t),n&&e.pull[n].$split_subtask&&n!=t&&this.refreshTask(n),e.pull[t].$split_subtask&&n!=t&&this.refreshTask(t)}return e.getSelectedId()},unselectTask:function(t){var e=this.$data.tasksStore;e.unselect(t),t&&e.pull[t].$split_subtask&&this.refreshTask(t)},isSelectedTask:function(t){return this.$data.tasksStore.isSelected(t)},getSelectedId:function(){return this.$data.tasksStore.getSelectedId()}}};t.exports={create:function(){var t=r.mixin({},d());return r.mixin(t,i()),r.mixin(t,o()),t}}},function(t,e,n){var r=n(0),i=n(2).replaceValidZeroId;t.exports=function(){return{getTask:function(t){t=i(t,this.config.root_id),this.assert(t,"Invalid argument for gantt.getTask");var e=this.$data.tasksStore.getItem(t);return this.assert(e,"Task not found id="+t),e},getTaskByTime:function(t,e){var n=this.$data.tasksStore.getItems(),r=[];if(t||e){t=+t||-1/0,e=+e||1/0;for(var i=0;i<n.length;i++){var o=n[i];+o.start_date<e&&+o.end_date>t&&r.push(o)}}else r=n;return r},isTaskExists:function(t){return!(!this.$data||!this.$data.tasksStore)&&this.$data.tasksStore.exists(t)},updateTask:function(t,e){r.defined(e)||(e=this.getTask(t)),this.$data.tasksStore.updateItem(t,e),this.isTaskExists(t)&&this.refreshTask(t)},addTask:function(t,e,n){return r.defined(t.id)||(t.id=r.uid()),this.isTaskExists(t.id)&&this.getTask(t.id).$index!=t.$index?(t.start_date&&"string"==typeof t.start_date&&(t.start_date=this.date.parseDate(t.start_date,"parse_date")),t.end_date&&"string"==typeof t.end_date&&(t.end_date=this.date.parseDate(t.end_date,"parse_date")),this.$data.tasksStore.updateItem(t.id,t)):(r.defined(e)||(e=this.getParent(t)||0),this.isTaskExists(e)||(e=this.config.root_id),this.setParent(t,e),this.$data.tasksStore.addItem(t,n,e))},deleteTask:function(t){return t=i(t,this.config.root_id),this.$data.tasksStore.removeItem(t)},getTaskCount:function(){return this.$data.tasksStore.count()},getVisibleTaskCount:function(){return this.$data.tasksStore.countVisible()},getTaskIndex:function(t){return this.$data.tasksStore.getBranchIndex(t)},getGlobalTaskIndex:function(t){return t=i(t,this.config.root_id),this.assert(t,"Invalid argument"),this.$data.tasksStore.getIndexById(t)},eachTask:function(t,e,n){return this.$data.tasksStore.eachItem(r.bind(t,n||this),e)},eachParent:function(t,e,n){return this.$data.tasksStore.eachParent(r.bind(t,n||this),e)},changeTaskId:function(t,e){this.$data.tasksStore.changeId(t,e);var n=this.$data.tasksStore.getItem(e),r=[];n.$source&&(r=r.concat(n.$source)),n.$target&&(r=r.concat(n.$target));for(var i=0;i<r.length;i++){var o=this.getLink(r[i]);o.source==t&&(o.source=e),o.target==t&&(o.target=e)}},calculateTaskLevel:function(t){return this.$data.tasksStore.calculateItemLevel(t)},getNext:function(t){return this.$data.tasksStore.getNext(t)},getPrev:function(t){return this.$data.tasksStore.getPrev(t)},getParent:function(t){return this.$data.tasksStore.getParent(t)},setParent:function(t,e,n){return this.$data.tasksStore.setParent(t,e,n)},getSiblings:function(t){return this.$data.tasksStore.getSiblings(t).slice()},getNextSibling:function(t){return this.$data.tasksStore.getNextSibling(t)},getPrevSibling:function(t){return this.$data.tasksStore.getPrevSibling(t)},getTaskByIndex:function(t){var e=this.$data.tasksStore.getIdByIndex(t);return this.isTaskExists(e)?this.getTask(e):null},getChildren:function(t){return this.hasChild(t)?this.$data.tasksStore.getChildren(t).slice():[]},hasChild:function(t){return this.$data.tasksStore.hasChild(t)},open:function(t){this.$data.tasksStore.open(t)},close:function(t){this.$data.tasksStore.close(t)},moveTask:function(t,e,n){return n=i(n,this.config.root_id),this.$data.tasksStore.move.apply(this.$data.tasksStore,arguments)},sort:function(t,e,n,r){var i=!r;this.$data.tasksStore.sort(t,e,n),this.callEvent("onAfterSort",[t,e,n]),i&&this.render()}}}},function(t,e,n){var r=n(0);t.exports=function(){return{getLinkCount:function(){return this.$data.linksStore.count()},getLink:function(t){return this.$data.linksStore.getItem(t)},getLinks:function(){return this.$data.linksStore.getItems()},isLinkExists:function(t){return this.$data.linksStore.exists(t)},addLink:function(t){var e=this.$data.linksStore.addItem(t);return this.$data.linksStore.isSilent()&&this.$data.linksStore.fullOrder.push(e),e},updateLink:function(t,e){r.defined(e)||(e=this.getLink(t)),this.$data.linksStore.updateItem(t,e)},deleteLink:function(t){return this.$data.linksStore.removeItem(t)},changeLinkId:function(t,e){return this.$data.linksStore.changeId(t,e)}}}},function(t,e){t.exports=function(t){var e=null,n=t._removeItemInner;function r(t){e=null,this.callEvent("onAfterUnselect",[t])}return t._removeItemInner=function(t){return e==t&&r.call(this,t),e&&this.eachItem&&this.eachItem((function(t){t.id==e&&r.call(this,t.id)}),t),n.apply(this,arguments)},t.attachEvent("onIdChange",(function(e,n){t.getSelectedId()==e&&t.silent((function(){t.unselect(e),t.select(n)}))})),{select:function(t){if(t){if(e==t)return e;if(!this._skip_refresh&&!this.callEvent("onBeforeSelect",[t]))return!1;this.unselect(),e=t,this._skip_refresh||(this.refresh(t),this.callEvent("onAfterSelect",[t]))}return e},getSelectedId:function(){return e},isSelected:function(t){return t==e},unselect:function(t){(t=t||e)&&(e=null,this._skip_refresh||(this.refresh(t),r.call(this,t)))}}}},function(t,e,n){var r=n(10);t.exports={bindDataStore:function(t,e){var n=e.getDatastore(t),i=function(t,e){var r=e.getLayers(),i=n.getItem(t);if(i&&n.isVisible(t))for(var o=0;o<r.length;o++)r[o].render_item(i)},o=function(t){for(var e=t.getLayers(),r=0;r<e.length;r++)e[r].clear();for(var i=null,o={},a=0;a<e.length;a++){var s=e[a],u=void 0;if(s.get_visible_range){var l=s.get_visible_range(n),c=l.start+" - "+l.end;o[c]?u=o[c]:(u=n.getIndexRange(l.start,l.end),o[c]=u)}else i||(i=n.getVisibleItems()),u=i;e[a].render_items(u)}},a=function(t){if(t.update_items){var e;if(t.get_visible_range){var r=t.get_visible_range(n);e=n.getIndexRange(r.start,r.end)}else e=n.getVisibleItems();t.update_items(e)}};function s(t){return!!t.$services.getService("state").getState("batchUpdate").batch_update}n.attachEvent("onStoreUpdated",(function(n,i,o){if(r(e))return!0;var s=e.$services.getService("layers").getDataRender(t);s&&(s.onUpdateRequest=function(t){a(t)})})),n.attachEvent("onStoreUpdated",(function(t,r,i){s(e)||(t&&"move"!=i&&"delete"!=i?(n.callEvent("onBeforeRefreshItem",[r.id]),n.callEvent("onAfterRefreshItem",[r.id])):(n.callEvent("onBeforeRefreshAll",[]),n.callEvent("onAfterRefreshAll",[])))})),n.attachEvent("onAfterRefreshAll",(function(){if(r(e))return!0;var n=e.$services.getService("layers").getDataRender(t);n&&!s(e)&&o(n)})),n.attachEvent("onAfterRefreshItem",(function(n){if(r(e))return!0;var o=e.$services.getService("layers").getDataRender(t);o&&i(n,o)})),n.attachEvent("onItemOpen",(function(){if(r(e))return!0;e.render()})),n.attachEvent("onItemClose",(function(){if(r(e))return!0;e.render()})),n.attachEvent("onIdChange",(function(o,a){if(r(e))return!0;if(n.callEvent("onBeforeIdChange",[o,a]),!s(e)&&!n.isSilent()){var u=e.$services.getService("layers").getDataRender(t);u?(function(t,e,n,r){for(var i=0;i<t.length;i++)t[i].change_id(e,n)}(u.getLayers(),o,a,n.getItem(a)),i(a,u)):e.render()}}))}}},function(t,e,n){var r=n(117);t.exports={DEPRECATED_api:function(t){return new r.DataProcessor(t)},createDataProcessor:r.createDataProcessor,getDataProcessorModes:r.getAvailableModes}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataProcessor=e.createDataProcessor=void 0;var r=n(4),i=n(2),o=n(0),a=n(118),s=n(119),u=n(120);e.createDataProcessor=function(t){var e,n;t instanceof Function?e=t:t.hasOwnProperty("router")?e=t.router:t.hasOwnProperty("link")&&t.hasOwnProperty("task")&&(e=t),n=e?"CUSTOM":t.mode||"REST-JSON";var r=new l(t.url);return r.init(this),r.setTransactionMode({mode:n,router:e},t.batchUpdate),r};var l=function(){function t(t){this.serverProcessor=t,this.action_param="!nativeeditor_status",this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._headers=null,this._payload=null,this._postDelim="_",this._routerParametersFormat="parameters",this._waitMode=0,this._in_progress={},this._storage=u.default.create(),this._invalid={},this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),r(this)}return t.prototype.setTransactionMode=function(t,e){"object"==typeof t?(this._tMode=t.mode||this._tMode,o.defined(t.headers)&&(this._headers=t.headers),o.defined(t.payload)&&(this._payload=t.payload),this._tSend=!!e):(this._tMode=t,this._tSend=e),"REST"===this._tMode&&(this._tSend=!1),"JSON"===this._tMode||"REST-JSON"===this._tMode?(this._tSend=!1,this._serializeAsJson=!0,this._headers=this._headers||{},this._headers["Content-Type"]="application/json"):this._headers&&!this._headers["Content-Type"]&&(this._headers["Content-Type"]="application/x-www-form-urlencoded"),"CUSTOM"===this._tMode&&(this._tSend=!1,this._router=t.router)},t.prototype.escape=function(t){return this._utf?encodeURIComponent(t):escape(t)},t.prototype.enableUTFencoding=function(t){this._utf=!!t},t.prototype.getSyncState=function(){return!this.updatedRows.length},t.prototype.setUpdateMode=function(t,e){this.autoUpdate="cell"===t,this.updateMode=t,this.dnd=e},t.prototype.ignore=function(t,e){this._silent_mode=!0,t.call(e||window),this._silent_mode=!1},t.prototype.setUpdated=function(t,e,n){if(!this._silent_mode){var r=this.findRow(t);n=n||"updated";var i=this.$gantt.getUserData(t,this.action_param);i&&"updated"===n&&(n=i),e?(this.set_invalid(t,!1),this.updatedRows[r]=t,this.$gantt.setUserData(t,this.action_param,n),this._in_progress[t]&&(this._in_progress[t]="wait")):this.is_invalid(t)||(this.updatedRows.splice(r,1),this.$gantt.setUserData(t,this.action_param,"")),this.markRow(t,e,n),e&&this.autoUpdate&&this.sendData(t)}},t.prototype.markRow=function(t,e,n){var r="",i=this.is_invalid(t);if(i&&(r=this.styles[i],e=!0),this.callEvent("onRowMark",[t,e,n,i])&&(r=this.styles[e?n:"clear"]+" "+r,this.$gantt[this._methods[0]](t,r),i&&i.details)){r+=this.styles[i+"_cell"];for(var o=0;o<i.details.length;o++)i.details[o]&&this.$gantt[this._methods[1]](t,o,r)}},t.prototype.getActionByState=function(t){return"inserted"===t?"create":"updated"===t?"update":"deleted"===t?"delete":"update"},t.prototype.getState=function(t){return this.$gantt.getUserData(t,this.action_param)},t.prototype.is_invalid=function(t){return this._invalid[t]},t.prototype.set_invalid=function(t,e,n){n&&(e={value:e,details:n,toString:function(){return this.value.toString()}}),this._invalid[t]=e},t.prototype.checkBeforeUpdate=function(t){return!0},t.prototype.sendData=function(t){return this.$gantt.editStop&&this.$gantt.editStop(),void 0===t||this._tSend?this.modes&&this.modes.task&&this.modes.link&&this.modes.task.updatedRows.length&&this.modes.link.updatedRows.length?(this.setGanttMode("task"),this.sendAllData(),this.setGanttMode("link"),void this.sendAllData()):this.sendAllData():!this._in_progress[t]&&(this.messages=[],!(!this.checkBeforeUpdate(t)&&this.callEvent("onValidationError",[t,this.messages]))&&void this._beforeSendData(this._getRowData(t),t))},t.prototype.serialize=function(t,e){if(this._serializeAsJson)return this._serializeAsJSON(t);if("string"==typeof t)return t;if(void 0!==e)return this.serialize_one(t,"");var n=[],r=[];for(var i in t)t.hasOwnProperty(i)&&(n.push(this.serialize_one(t[i],i+this._postDelim)),r.push(i));return n.push("ids="+this.escape(r.join(","))),this.$gantt.security_key&&n.push("dhx_security="+this.$gantt.security_key),n.join("&")},t.prototype.serialize_one=function(t,e){if("string"==typeof t)return t;var n=[],r="";for(var i in t)if(t.hasOwnProperty(i)){if(("id"===i||i==this.action_param)&&"REST"===this._tMode)continue;r="string"==typeof t[i]||"number"==typeof t[i]?t[i]:JSON.stringify(t[i]),n.push(this.escape((e||"")+i)+"="+this.escape(r))}return n.join("&")},t.prototype.sendAllData=function(){if(this.updatedRows.length){this.messages=[];var t=!0;if(this._forEachUpdatedRow((function(e){t=t&&this.checkBeforeUpdate(e)})),!t&&!this.callEvent("onValidationError",["",this.messages]))return!1;this._tSend?this._sendData(this._getAllData()):this._forEachUpdatedRow((function(t){if(!this._in_progress[t]){if(this.is_invalid(t))return;this._beforeSendData(this._getRowData(t),t)}}))}},t.prototype.findRow=function(t){var e=0;for(e=0;e<this.updatedRows.length&&t!=this.updatedRows[e];e++);return e},t.prototype.defineAction=function(t,e){this._uActions||(this._uActions={}),this._uActions[t]=e},t.prototype.afterUpdateCallback=function(t,e,n,r,i){if(this.$gantt){this.setGanttMode(i);var o=t,a="error"!==n&&"invalid"!==n;if(a||this.set_invalid(t,n),this._uActions&&this._uActions[n]&&!this._uActions[n](r))return delete this._in_progress[o];"wait"!==this._in_progress[o]&&this.setUpdated(t,!1);var s=t;switch(n){case"inserted":case"insert":e!=t&&(this.setUpdated(t,!1),this.$gantt[this._methods[2]](t,e),t=e);break;case"delete":case"deleted":return this.$gantt.setUserData(t,this.action_param,"true_deleted"),this.$gantt[this._methods[3]](t),delete this._in_progress[o],this.callEvent("onAfterUpdate",[t,n,e,r])}"wait"!==this._in_progress[o]?(a&&this.$gantt.setUserData(t,this.action_param,""),delete this._in_progress[o]):(delete this._in_progress[o],this.setUpdated(e,!0,this.$gantt.getUserData(t,this.action_param))),this.callEvent("onAfterUpdate",[s,n,e,r])}},t.prototype.afterUpdate=function(t,e,n){var r;r=3===arguments.length?arguments[1]:arguments[4];var i=this.getGanttMode(),o=r.filePath||r.url;i="REST"!==this._tMode&&"REST-JSON"!==this._tMode?-1!==o.indexOf("gantt_mode=links")?"link":"task":o.indexOf("/link")>o.indexOf("/task")?"link":"task",this.setGanttMode(i);var a,s=this.$gantt.ajax;try{a=JSON.parse(e.xmlDoc.responseText)}catch(t){e.xmlDoc.responseText.length||(a={})}if(a){var u=a.action||this.getState(n)||"updated",l=a.sid||n[0],c=a.tid||n[0];return t.afterUpdateCallback(l,c,u,a,i),t.finalizeUpdate(),void this.setGanttMode(i)}var h=s.xmltop("data",e.xmlDoc);if(!h)return this.cleanUpdate(n);var f=s.xpath("//data/action",h);if(!f.length)return this.cleanUpdate(n);for(var d=0;d<f.length;d++){var p=f[d];u=p.getAttribute("type"),l=p.getAttribute("sid"),c=p.getAttribute("tid"),t.afterUpdateCallback(l,c,u,p,i)}t.finalizeUpdate()},t.prototype.cleanUpdate=function(t){if(t)for(var e=0;e<t.length;e++)delete this._in_progress[t[e]]},t.prototype.finalizeUpdate=function(){this._waitMode&&this._waitMode--,this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},t.prototype.init=function(t){if(!this._initialized){this.$gantt=t,this.$gantt._dp_init&&this.$gantt._dp_init(this),this._setDefaultTransactionMode(),this.styles={updated:"gantt_updated",order:"gantt_updated",inserted:"gantt_inserted",deleted:"gantt_deleted",invalid:"gantt_invalid",error:"gantt_error",clear:""},this._methods=["_row_style","setCellTextStyle","_change_id","_delete_task"],s.default(this.$gantt,this);var e=new a.default(this.$gantt,this);e.attach(),this.attachEvent("onDestroy",(function(){delete this.setGanttMode,delete this._getRowData,delete this.$gantt._dp,delete this.$gantt._change_id,delete this.$gantt._row_style,delete this.$gantt._delete_task,delete this.$gantt._sendTaskOrder,delete this.$gantt,e.detach()})),this.$gantt.callEvent("onDataProcessorReady",[this]),this._initialized=!0}},t.prototype.setOnAfterUpdate=function(t){this.attachEvent("onAfterUpdate",t)},t.prototype.setOnBeforeUpdateHandler=function(t){this.attachEvent("onBeforeDataSending",t)},t.prototype.setAutoUpdate=function(t,e){var n=this;t=t||2e3,this._user=e||(new Date).valueOf(),this._needUpdate=!1,this._updateBusy=!1,this.attachEvent("onAfterUpdate",this.afterAutoUpdate),this.attachEvent("onFullSync",this.fullSync),setInterval((function(){n.loadUpdate()}),t)},t.prototype.afterAutoUpdate=function(t,e,n,r){return"collision"!==e||(this._needUpdate=!0,!1)},t.prototype.fullSync=function(){return this._needUpdate&&(this._needUpdate=!1,this.loadUpdate()),!0},t.prototype.getUpdates=function(t,e){var n=this.$gantt.ajax;if(this._updateBusy)return!1;this._updateBusy=!0,n.get(t,e)},t.prototype.loadUpdate=function(){var t=this,e=this.$gantt.ajax,n=this.$gantt.getUserData(0,"version"),r=this.serverProcessor+e.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+n].join("&");r=r.replace("editing=true&",""),this.getUpdates(r,(function(n){var r=e.xpath("//userdata",n);t.$gantt.setUserData(0,"version",t._getXmlNodeValue(r[0]));var i=e.xpath("//update",n);if(i.length){t._silent_mode=!0;for(var o=0;o<i.length;o++){var a=i[o].getAttribute("status"),s=i[o].getAttribute("id"),u=i[o].getAttribute("parent");switch(a){case"inserted":t.callEvent("insertCallback",[i[o],s,u]);break;case"updated":t.callEvent("updateCallback",[i[o],s,u]);break;case"deleted":t.callEvent("deleteCallback",[i[o],s,u])}}t._silent_mode=!1}t._updateBusy=!1}))},t.prototype.destructor=function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.updatedRows=[],this._in_progress={},this._invalid={},this._storage.clear(),this._storage=null,this._headers=null,this._payload=null,delete this._initialized},t.prototype.setGanttMode=function(t){"tasks"===t?t="task":"links"===t&&(t="link");var e=this.modes||{},n=this.getGanttMode();n&&(e[n]={_in_progress:this._in_progress,_invalid:this._invalid,_storage:this._storage,updatedRows:this.updatedRows});var r=e[t];r||(r=e[t]={_in_progress:{},_invalid:{},_storage:u.default.create(),updatedRows:[]}),this._in_progress=r._in_progress,this._invalid=r._invalid,this._storage=r._storage,this.updatedRows=r.updatedRows,this.modes=e,this._ganttMode=t},t.prototype.getGanttMode=function(){return this._ganttMode},t.prototype.storeItem=function(t){this._storage.storeItem(t)},t.prototype.url=function(t){this.serverProcessor=this._serverProcessor=t},t.prototype._beforeSendData=function(t,e){if(!this.callEvent("onBeforeUpdate",[e,this.getState(e),t]))return!1;this._sendData(t,e)},t.prototype._serializeAsJSON=function(t){if("string"==typeof t)return t;var e=o.copy(t);return"REST-JSON"===this._tMode&&(delete e.id,delete e[this.action_param]),JSON.stringify(e)},t.prototype._applyPayload=function(t){var e=this.$gantt.ajax;if(this._payload)for(var n in this._payload)t=t+e.urlSeparator(t)+this.escape(n)+"="+this.escape(this._payload[n]);return t},t.prototype._cleanupArgumentsBeforeSend=function(t){var e;if(void 0===t[this.action_param])for(var n in e={},t)e[n]=this._cleanupArgumentsBeforeSend(t[n]);else e=this._cleanupItemBeforeSend(t);return e},t.prototype._cleanupItemBeforeSend=function(t){var e=null;return t&&("deleted"===t[this.action_param]?((e={}).id=t.id,e[this.action_param]=t[this.action_param]):e=t),e},t.prototype._sendData=function(t,e){var n=this;if(t){if(!this.callEvent("onBeforeDataSending",e?[e,this.getState(e),t]:[null,null,t]))return!1;e&&(this._in_progress[e]=(new Date).valueOf());var r=this.$gantt.ajax;if("CUSTOM"!==this._tMode){var i;i={callback:function(r){var i=[];if(e)i.push(e);else if(t)for(var o in t)i.push(o);return n.afterUpdate(n,r,i)},headers:this._headers};var o,a=this.serverProcessor+(this._user?r.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+this.$gantt.getUserData(0,"version")].join("&"):""),s=this._applyPayload(a);switch(this._tMode){case"GET":o=this._cleanupArgumentsBeforeSend(t),i.url=s+r.urlSeparator(s)+this.serialize(o,e),i.method="GET";break;case"POST":o=this._cleanupArgumentsBeforeSend(t),i.url=s,i.method="POST",i.data=this.serialize(o,e);break;case"JSON":o={};var u=this._cleanupItemBeforeSend(t);for(var l in u)l!==this.action_param&&"id"!==l&&"gr_id"!==l&&(o[l]=u[l]);i.url=s,i.method="POST",i.data=JSON.stringify({id:e,action:t[this.action_param],data:o});break;case"REST":case"REST-JSON":switch(s=a.replace(/(&|\?)editing=true/,""),o="",this.getState(e)){case"inserted":i.method="POST",i.data=this.serialize(t,e);break;case"deleted":i.method="DELETE",s=s+("/"===s.slice(-1)?"":"/")+e;break;default:i.method="PUT",i.data=this.serialize(t,e),s=s+("/"===s.slice(-1)?"":"/")+e}i.url=this._applyPayload(s)}return this._waitMode++,r.query(i)}var c=this.getState(e),h=this.getActionByState(c),f=this.getGanttMode(),d=function(t){var r=c||"updated",i=e,o=e;t&&(r=t.action||c,i=t.sid||i,o=t.id||t.tid||o),n.afterUpdateCallback(i,o,r,t,f)},p=void 0;if(this._router instanceof Function)if("object"===this._routerParametersFormat){var g={entity:f,action:h,data:t,id:e};p=this._router(g)}else p=this._router(f,h,t,e);else if(this._router[f]instanceof Function)p=this._router[f](h,t,e);else switch(c){case"inserted":p=this._router[f].create(t);break;case"deleted":p=this._router[f].delete(e);break;default:p=this._router[f].update(t,e)}if(p){if(!p.then&&void 0===p.id&&void 0===p.tid&&void 0===p.action)throw new Error("Incorrect router return value. A Promise or a response object is expected");p.then?p.then(d).catch((function(t){t&&t.action?d(t):d({action:"error",value:t})})):d(p)}else d(null)}},t.prototype._forEachUpdatedRow=function(t){for(var e=this.updatedRows.slice(),n=0;n<e.length;n++){var r=e[n];this.$gantt.getUserData(r,this.action_param)&&t.call(this,r)}},t.prototype._setDefaultTransactionMode=function(){this.serverProcessor&&(this.setTransactionMode("POST",!0),this.serverProcessor+=(-1!==this.serverProcessor.indexOf("?")?"&":"?")+"editing=true",this._serverProcessor=this.serverProcessor)},t.prototype._getXmlNodeValue=function(t){return t.firstChild?t.firstChild.nodeValue:""},t.prototype._getAllData=function(){var t={},e=!1;return this._forEachUpdatedRow((function(n){if(!this._in_progress[n]&&!this.is_invalid(n)){var r=this._getRowData(n);this.callEvent("onBeforeUpdate",[n,this.getState(n),r])&&(t[n]=r,e=!0,this._in_progress[n]=(new Date).valueOf())}})),e?t:null},t.prototype._prepareDate=function(t){return this.$gantt.defined(this.$gantt.templates.xml_format)?this.$gantt.templates.xml_format(t):this.$gantt.templates.format_date(t)},t.prototype._prepareArray=function(t,e){var n=this;return e.push(t),t.map((function(t){return i.isDate(t)?n._prepareDate(t):Array.isArray(t)&&!i.arrayIncludes(e,t)?n._prepareArray(t,e):t&&"object"==typeof t&&!i.arrayIncludes(e,t)?n._prepareObject(t,e):t}))},t.prototype._prepareObject=function(t,e){var n={};for(var r in e.push(t),t)if("$"!==r.substr(0,1)){var o=t[r];i.isDate(o)?n[r]=this._prepareDate(o):null===o?n[r]="":Array.isArray(o)&&!i.arrayIncludes(e,o)?n[r]=this._prepareArray(o,e):o&&"object"==typeof o&&!i.arrayIncludes(e,o)?n[r]=this._prepareObject(o,e):n[r]=o}return n},t.prototype._prepareDataItem=function(t){var e=this._prepareObject(t,[]);return e[this.action_param]=this.$gantt.getUserData(t.id,this.action_param),e},t.prototype.getStoredItem=function(t){return this._storage.getStoredItem(t)},t.prototype._getRowData=function(t){var e,n=this.$gantt;return"task"===this.getGanttMode()?n.isTaskExists(t)&&(e=this.$gantt.getTask(t)):n.isLinkExists(t)&&(e=this.$gantt.getLink(t)),e||(e=this.getStoredItem(t)),e||(e={id:t}),this._prepareDataItem(e)},t}();e.DataProcessor=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=function(){function t(t,e){this.$gantt=t,this.$dp=e,this._dataProcessorHandlers=[]}return t.prototype.attach=function(){var t=this.$dp,e=this.$gantt,r=n(36),i={};function o(n){for(var r=t.updatedRows.slice(),i=!1,o=0;o<r.length&&!t._in_progress[n];o++)r[o]===n&&("inserted"===e.getUserData(n,"!nativeeditor_status")&&(i=!0),t.setUpdated(n,!1));return i}this._dataProcessorHandlers.push(e.attachEvent("onAfterTaskAdd",(function(n,r){e.isTaskExists(n)&&(t.setGanttMode("tasks"),t.setUpdated(n,!0,"inserted"))}))),this._dataProcessorHandlers.push(e.attachEvent("onAfterTaskUpdate",(function(n,r){e.isTaskExists(n)&&(t.setGanttMode("tasks"),t.setUpdated(n,!0),e._sendTaskOrder&&e._sendTaskOrder(n,r))}))),this._dataProcessorHandlers.push(e.attachEvent("onBeforeTaskDelete",(function(t,n){return!e.config.cascade_delete||(i[t]={tasks:r.getSubtreeTasks(e,t),links:r.getSubtreeLinks(e,t)},!0)}))),this._dataProcessorHandlers.push(e.attachEvent("onAfterTaskDelete",(function(n,r){if(t.setGanttMode("tasks"),!o(n)){if(e.config.cascade_delete&&i[n]){var a=t.updateMode;t.setUpdateMode("off");var s=i[n];for(var u in s.tasks)o(u)||(t.storeItem(s.tasks[u]),t.setUpdated(u,!0,"deleted"));for(var u in t.setGanttMode("links"),s.links)o(u)||(t.storeItem(s.links[u]),t.setUpdated(u,!0,"deleted"));i[n]=null,"off"!==a&&t.sendAllData(),t.setGanttMode("tasks"),t.setUpdateMode(a)}t.storeItem(r),t.setUpdated(n,!0,"deleted"),"off"===t.updateMode||t._tSend||t.sendAllData()}}))),this._dataProcessorHandlers.push(e.attachEvent("onAfterLinkUpdate",(function(n,r){e.isLinkExists(n)&&(t.setGanttMode("links"),t.setUpdated(n,!0))}))),this._dataProcessorHandlers.push(e.attachEvent("onAfterLinkAdd",(function(n,r){e.isLinkExists(n)&&(t.setGanttMode("links"),t.setUpdated(n,!0,"inserted"))}))),this._dataProcessorHandlers.push(e.attachEvent("onAfterLinkDelete",(function(e,n){t.setGanttMode("links"),!o(e)&&(t.storeItem(n),t.setUpdated(e,!0,"deleted"))}))),this._dataProcessorHandlers.push(e.attachEvent("onRowDragEnd",(function(t,n){e._sendTaskOrder(t,e.getTask(t))})));var a=null,s=null;this._dataProcessorHandlers.push(e.attachEvent("onTaskIdChange",(function(n,r){if(t._waitMode){var i=e.getChildren(r);if(i.length){a=a||{};for(var o=0;o<i.length;o++){var u=this.getTask(i[o]);a[u.id]=u}}var l=function(t){var e=[];return t.$source&&(e=e.concat(t.$source)),t.$target&&(e=e.concat(t.$target)),e}(this.getTask(r));if(l.length)for(s=s||{},o=0;o<l.length;o++){var c=this.getLink(l[o]);s[c.id]=c}}}))),t.attachEvent("onAfterUpdateFinish",(function(){(a||s)&&(e.batchUpdate((function(){for(var t in a)e.updateTask(a[t].id);for(var t in s)e.updateLink(s[t].id);a=null,s=null})),a?e._dp.setGanttMode("tasks"):e._dp.setGanttMode("links"))})),t.attachEvent("onBeforeDataSending",(function(){if("CUSTOM"===this._tMode)return!0;var t=this._serverProcessor;if("REST-JSON"===this._tMode||"REST"===this._tMode){var n=this._ganttMode;t=t.substring(0,t.indexOf("?")>-1?t.indexOf("?"):t.length),this.serverProcessor=t+("/"===t.slice(-1)?"":"/")+n}else{var r=this._ganttMode+"s";this.serverProcessor=t+e.ajax.urlSeparator(t)+"gantt_mode="+r}return!0})),t.attachEvent("insertCallback",(function(t,n,r,i){var o=t.data||e.xml._xmlNodeToJSON(t.firstChild),a={add:e.addTask,isExist:e.isTaskExists};"links"===i&&(a.add=e.addLink,a.isExist=e.isLinkExists),a.isExist.call(e,n)||(o.id=n,a.add.call(e,o))})),t.attachEvent("updateCallback",(function(t,n){var r=t.data||e.xml._xmlNodeToJSON(t.firstChild);if(e.isTaskExists(n)){var i=e.getTask(n);for(var o in r){var a=r[o];switch(o){case"id":continue;case"start_date":case"end_date":a=e.defined(e.templates.xml_date)?e.templates.xml_date(a):e.templates.parse_date(a);break;case"duration":i.end_date=e.calculateEndDate({start_date:i.start_date,duration:a,task:i})}i[o]=a}e.updateTask(n),e.refreshData()}})),t.attachEvent("deleteCallback",(function(t,n,r,i){var o={delete:e.deleteTask,isExist:e.isTaskExists};"links"===i&&(o.delete=e.deleteLink,o.isExist=e.isLinkExists),o.isExist.call(e,n)&&o.delete.call(e,n)}))},t.prototype.detach=function(){var t=this;r.forEach(this._dataProcessorHandlers,(function(e){t.$gantt.detachEvent(e)})),this._dataProcessorHandlers=[]},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){t.getUserData=function(t,e){return this.userdata||(this.userdata={}),this.userdata[t]&&this.userdata[t][e]?this.userdata[t][e]:""},t.setUserData=function(t,e,n){this.userdata||(this.userdata={}),this.userdata[t]||(this.userdata[t]={}),this.userdata[t][e]=n},t._change_id=function(t,e){"task"!==this._dp._ganttMode?this.changeLinkId(t,e):this.changeTaskId(t,e)},t._row_style=function(e,n){"task"===this._dp._ganttMode&&t.isTaskExists(e)&&(t.getTask(e).$dataprocessor_class=n,t.refreshTask(e))},t._delete_task=function(t,e){},t._sendTaskOrder=function(t,e){e.$drop_target&&(this._dp.setGanttMode("task"),this.getTask(t).target=e.$drop_target,this._dp.setUpdated(t,!0,"order"),delete this.getTask(t).$drop_target)},t.setDp=function(){this._dp=e},t.setDp()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=function(){function t(){var t=this;this.clear=function(){t._storage={}},this.storeItem=function(e){t._storage[e.id]=r.copy(e)},this.getStoredItem=function(e){return t._storage[e]||null},this._storage={}}return t.create=function(){return new t},t}();e.default=i},function(t,e,n){t.exports=function(t){t.ext||(t.ext={});for(var e=[n(122),n(123),n(124),n(125),n(126),n(127),n(128)],r=0;r<e.length;r++)e[r]&&e[r](t)}},function(t,e,n){var r=n(12);function i(t){var e={},n=!1;function i(t,n){n="function"==typeof n?n:function(){},e[t]||(e[t]=this[t],this[t]=n)}function o(t){e[t]&&(this[t]=e[t],e[t]=null)}function a(){for(var t in e)o.call(this,t)}function s(t){try{t()}catch(t){r.console.error(t)}}return t.$services.getService("state").registerProvider("batchUpdate",(function(){return{batch_update:n}}),!1),function(t,e){if(n)s(t);else{var r,o=this._dp&&"off"!=this._dp.updateMode;o&&(r=this._dp.updateMode,this._dp.setUpdateMode("off"));var u={},l={render:!0,refreshData:!0,refreshTask:!0,refreshLink:!0,resetProjectDates:function(t){u[t.id]=t}};for(var c in function(t){for(var e in t)i.call(this,e,t[e])}.call(this,l),n=!0,this.callEvent("onBeforeBatchUpdate",[]),s(t),this.callEvent("onAfterBatchUpdate",[]),a.call(this),u)this.resetProjectDates(u[c]);n=!1,e||this.render(),o&&(this._dp.setUpdateMode(r),this._dp.setGanttMode("task"),this._dp.sendData(),this._dp.setGanttMode("link"),this._dp.sendData())}}}t.exports=function(t){t.batchUpdate=i(t)}},function(t,e){t.exports=function(t){var e=function(t){return{_needRecalc:!0,reset:function(){this._needRecalc=!0},_isRecalcNeeded:function(){return!this._isGroupSort()&&this._needRecalc},_isGroupSort:function(){return!!t.getState().group_mode},_getWBSCode:function(t){return t?(this._isRecalcNeeded()&&this._calcWBS(),t.$virtual?"":this._isGroupSort()?t.$wbs||"":(t.$wbs||(this.reset(),this._calcWBS()),t.$wbs)):""},_setWBSCode:function(t,e){t.$wbs=e},getWBSCode:function(t){return this._getWBSCode(t)},getByWBSCode:function(e){for(var n=e.split("."),r=t.config.root_id,i=0;i<n.length;i++){var o=t.getChildren(r),a=1*n[i]-1;if(!t.isTaskExists(o[a]))return null;r=o[a]}return t.isTaskExists(r)?t.getTask(r):null},_calcWBS:function(){if(this._isRecalcNeeded()){var e=!0;t.eachTask((function(n){if(e)return e=!1,void this._setWBSCode(n,"1");var r=t.getPrevSibling(n.id);if(null!==r){var i=t.getTask(r).$wbs;i&&((i=i.split("."))[i.length-1]++,this._setWBSCode(n,i.join(".")))}else{var o=t.getParent(n.id);this._setWBSCode(n,t.getTask(o).$wbs+".1")}}),t.config.root_id,this),this._needRecalc=!1}}}}(t);function n(){return e.reset(),!0}t.getWBSCode=function(t){return e.getWBSCode(t)},t.getTaskByWBSCode=function(t){return e.getByWBSCode(t)},t.attachEvent("onAfterTaskMove",n),t.attachEvent("onBeforeParse",n),t.attachEvent("onAfterTaskDelete",n),t.attachEvent("onAfterTaskAdd",n),t.attachEvent("onAfterSort",n)}},function(t,e,n){var r=n(2);function i(t){var e={},n=!1;t.$data.tasksStore.attachEvent("onStoreUpdated",(function(){e={},n=!1})),t.attachEvent("onBeforeGanttRender",(function(){e={}}));var i=String(Math.random());function o(t){return null===t?i+String(t):String(t)}function a(t,e){return Array.isArray(t)?t.map((function(t){return o(t)})).join("_")+"_"+e:o(t)+"_"+e}function s(i,s){var u,l=a(s,i),c={};return r.forEach(s,(function(t){c[o(t)]=!0})),e[l]?u=e[l]:(u=e[l]=[],t.eachTask((function(s){var l;s.type!=t.config.types.project&&i in s&&(l=r.isArray(s[i])?s[i]:[s[i]],r.forEach(l,(function(t){var r=t&&t.resource_id?t.resource_id:t;if(c[o(r)])u.push(s);else if(!n){var l=a(t,i);e[l]||(e[l]=[]),e[l].push(s)}})))})),n=!0),u}function u(e,n,r){var i=t.config.resource_property,o=[];if(t.getDatastore("task").exists(n)){var a=t.getTask(n);o=a[i]||[]}Array.isArray(o)||(o=[o]);for(var s=0;s<o.length;s++)o[s].resource_id==e&&r.push({task_id:a.id,resource_id:o[s].resource_id,value:o[s].value})}return{getTaskBy:function(e,n){return"function"==typeof e?function(e){var n=[];return t.eachTask((function(t){e(t)&&n.push(t)})),n}(e):r.isArray(n)?s(e,n):s(e,[n])},getResourceAssignments:function(e,n){var r=[],i=t.config.resource_property;return void 0!==n?u(e,n,r):t.getTaskBy(i,e).forEach((function(t){u(e,t.id,r)})),r}}}t.exports=function(t){var e=i(t);t.getTaskBy=e.getTaskBy,t.getResourceAssignments=e.getResourceAssignments,t.config.resource_property="owner_id",t.config.resource_store="resource",t.config.resource_render_empty_cells=!1,t.templates.histogram_cell_class=function(t,e,n,r,i){},t.templates.histogram_cell_label=function(t,e,n,r,i){return r.length+"/3"},t.templates.histogram_cell_allocated=function(t,e,n,r,i){return r.length/3},t.templates.histogram_cell_capacity=function(t,e,n,r,i){return 0},t.templates.resource_cell_class=function(t,e,n,r,i){return r.length<=1?"gantt_resource_marker_ok":"gantt_resource_marker_overtime"},t.templates.resource_cell_value=function(t,e,n,r,i){return 8*r.length}}},function(t,e){t.exports=function(t){var e="$resourceAssignments";t.config.resource_assignment_store="resourceAssignments",t.config.process_resource_assignments=!0;var n={auto:"auto",singleValue:"singleValue",valueArray:"valueArray",resourceValueArray:"resourceValueArray",assignmentsArray:"assignmentsArray"},r=n.auto,i={fixedDates:"fixedDates",fixedDuration:"fixedDuration",default:"default"};function o(e,n){e.start_date?e.start_date=t.date.parseDate(e.start_date,"parse_date"):e.start_date=null,e.end_date?e.end_date=t.date.parseDate(e.end_date,"parse_date"):e.end_date=null;var r=Number(e.delay),o=!1;if(isNaN(r)?(e.delay=0,o=!0):e.delay=r,t.defined(e.value)||(e.value=null),!e.task_id||!e.resource_id)return!1;if(e.mode=e.mode||i.default,e.mode===i.fixedDuration&&(isNaN(Number(e.duration))&&(n=n||t.getTask(e.task_id),e.duration=t.calculateDuration({start_date:e.start_date,end_date:e.end_date,id:n})),o&&(n=n||t.getTask(e.task_id),e.delay=t.calculateDuration({start_date:n.start_date,end_date:e.start_date,id:n}))),e.mode!==i.fixedDates&&(n||t.isTaskExists(e.task_id))){var a=s(e,n=n||t.getTask(e.task_id));e.start_date=a.start_date,e.end_date=a.end_date,e.duration=a.duration}}var a=t.createDatastore({name:t.config.resource_assignment_store,initItem:function(e){return e.id||(e.id=t.uid()),o(e),e}});function s(e,n){if(e.mode===i.fixedDates)return{start_date:e.start_date,end_date:e.end_date,duration:e.duration};var r,o,a=e.delay?t.calculateEndDate({start_date:n.start_date,duration:e.delay,task:n}):new Date(n.start_date);return e.mode===i.fixedDuration?(r=t.calculateEndDate({start_date:a,duration:e.duration,task:n}),o=e.duration):(r=new Date(n.end_date),o=n.duration-e.delay),{start_date:a,end_date:r,duration:o}}function u(e){var a=t.config.resource_property,s=e[a],u=[],l=r===n.auto;if(t.defined(s)&&s){Array.isArray(s)||(s=[s],l&&(r=n.singleValue,l=!1));var c={};s.forEach((function(a){a.resource_id||(a={resource_id:a},l&&(r=n.valueArray,l=!1)),l&&(a.id&&a.resource_id?(r=n.assignmentsArray,l=!1):(r=n.resourceValueArray,l=!1));var s,h=i.default;a.mode||(a.start_date&&a.end_date||a.start_date&&a.duration)&&(h=i.fixedDuration),s=a.id||!a.$id||c[a.$id]?a.id&&!c[a.id]?a.id:t.uid():a.$id,c[s]=!0;var f={id:s,start_date:a.start_date,duration:a.duration,end_date:a.end_date,delay:a.delay,task_id:e.id,resource_id:a.resource_id,value:a.value,mode:a.mode||h};f.start_date&&f.start_date.getMonth&&f.end_date&&f.end_date.getMonth&&"number"==typeof f.duration||o(f,e),u.push(f)}))}return u}function l(e){if(t.isTaskExists(e)){var n=t.getTask(e);c(n,t.getTaskAssignments(n.id))}}function c(i,o){o.sort((function(t,e){return t.start_date&&e.start_date&&t.start_date.valueOf()!=e.start_date.valueOf()?t.start_date-e.start_date:0})),r==n.assignmentsArray?i[t.config.resource_property]=o:r==n.resourceValueArray&&(i[t.config.resource_property]=o.map((function(t){return{$id:t.id,start_date:t.start_date,duration:t.duration,end_date:t.end_date,delay:t.delay,resource_id:t.resource_id,value:t.value,mode:t.mode}}))),i[e]=o}function h(e){var n=u(e),r=[];return n.forEach((function(e){e.id=e.id||t.uid(),r.push(e)})),n}function f(t,e){var o=function(t,e){var i={inBoth:[],inTaskNotInStore:[],inStoreNotInTask:[]};if(r==n.singleValue){var o=t[0],a=o?o.resource_id:null,s=!1;e.forEach((function(t){t.resource_id!=a?i.inStoreNotInTask.push(t):t.resource_id==a&&(i.inBoth.push({store:t,task:o}),s=!0)})),!s&&o&&i.inTaskNotInStore.push(o)}else if(r==n.valueArray){var u={},l={},c={};t.forEach((function(t){u[t.resource_id]=t})),e.forEach((function(t){l[t.resource_id]=t})),t.concat(e).forEach((function(t){if(!c[t.resource_id]){c[t.resource_id]=!0;var e=u[t.resource_id],n=l[t.resource_id];e&&n?i.inBoth.push({store:n,task:e}):e&&!n?i.inTaskNotInStore.push(e):!e&&n&&i.inStoreNotInTask.push(n)}}))}else r!=n.assignmentsArray&&r!=n.resourceValueArray||(u={},l={},c={},t.forEach((function(t){u[t.id||t.$id]=t})),e.forEach((function(t){l[t.id]=t})),t.concat(e).forEach((function(t){var e=t.id||t.$id;if(!c[e]){c[e]=!0;var n=u[e],r=l[e];n&&r?i.inBoth.push({store:r,task:n}):n&&!r?i.inTaskNotInStore.push(n):!n&&r&&i.inStoreNotInTask.push(r)}})));return i}(u(t),e);o.inStoreNotInTask.forEach((function(t){a.removeItem(t.id)})),o.inTaskNotInStore.forEach((function(t){a.addItem(t)})),o.inBoth.forEach((function(e){if(function(t,e){var n={id:!0};for(var r in t)if(!n[r]&&String(t[r])!==String(e[r]))return!0;return!1}(e.task,e.store))!function(t,e){var n={id:!0};for(var r in t)n[r]||(e[r]=t[r])}(e.task,e.store),a.updateItem(e.store.id);else if(e.task.start_date&&e.task.end_date&&e.task.mode!==i.fixedDates){var n=s(e.store,t);e.store.start_date.valueOf()==n.start_date.valueOf()&&e.store.end_date.valueOf()==n.end_date.valueOf()||(e.store.start_date=n.start_date,e.store.end_date=n.end_date,e.store.duration=n.duration,a.updateItem(e.store.id))}})),l(t.id)}function d(t){var n=t[e]||a.find((function(e){return e.task_id==t.id}));f(t,n)}t.attachEvent("onGanttReady",(function(){if(t.config.process_resource_assignments){t.attachEvent("onParse",(function(){t.silent((function(){a.clearAll();var e=[];t.eachTask((function(n){if(n.type!==t.config.types.project){var r=h(n);c(n,r),r.forEach((function(t){e.push(t)}))}})),a.parse(e)}))}));var e=!1,n=!1,r={};t.attachEvent("onBeforeBatchUpdate",(function(){e=!0})),t.attachEvent("onAfterBatchUpdate",(function(){if(n){var i={};for(var o in r)i[o]=t.getTaskAssignments(r[o].id);for(var o in r)f(r[o],i[o])}n=!1,e=!1,r={}})),t.attachEvent("onTaskCreated",(function(t){var e=h(t);return a.parse(e),c(t,e),!0})),t.attachEvent("onAfterTaskUpdate",(function(t,i){e?(n=!0,r[t]=i):d(i)})),t.attachEvent("onAfterTaskAdd",(function(t,i){e?(n=!0,r[t]=i):d(i)})),t.attachEvent("onRowDragEnd",(function(e){d(t.getTask(e))})),t.$data.tasksStore.attachEvent("onAfterDeleteConfirmed",(function(e,n){var r=[e];t.eachTask((function(t){r.push(t.id)}),e),function(t){var e={};t.forEach((function(t){e[t]=!0})),a.find((function(t){return e[t.task_id]})).forEach((function(t){a.removeItem(t.id)}))}(r)})),t.$data.tasksStore.attachEvent("onClearAll",(function(){return i=null,o=null,s=null,a.clearAll(),!0})),t.attachEvent("onTaskIdChange",(function(t,e){a.find((function(e){return e.task_id==t})).forEach((function(t){t.task_id=e,a.updateItem(t.id)})),l(e)}));var i=null,o=null,s=null;a.attachEvent("onStoreUpdated",(function(){return!!e||(i=null,o=null,s=null,!0)})),t.getResourceAssignments=function(e,n){var r=t.defined(n)&&null!==n;return null===i&&(i={},o={},a.eachItem((function(t){i[t.resource_id]||(i[t.resource_id]=[]),i[t.resource_id].push(t);var e=t.resource_id+"-"+t.task_id;o[e]||(o[e]=[]),o[e].push(t)}))),r?(o[e+"-"+n]||[]).slice():(i[e]||[]).slice()},t.getTaskAssignments=function(t){if(null===s){var e=[];s={},a.eachItem((function(n){s[n.task_id]||(s[n.task_id]=[]),s[n.task_id].push(n),n.task_id==t&&e.push(n)}))}return(s[t]||[]).slice()},t.updateTaskAssignments=l}}),{once:!0})}},function(t,e){t.exports=function(t){function e(e){return function(){return!t.config.placeholder_task||e.apply(this,arguments)}}function n(){var e=t.getTaskBy("type",t.config.types.placeholder);if(!e.length||!t.isTaskExists(e[0].id)){var n={unscheduled:!0,type:t.config.types.placeholder,duration:0,text:t.locale.labels.new_task};if(!1===t.callEvent("onTaskCreated",[n]))return;t.addTask(n)}}function r(e){var n=t.getTask(e);n.type==t.config.types.placeholder&&(n.start_date&&n.end_date&&n.unscheduled&&(n.unscheduled=!1),t.batchUpdate((function(){var e=t.copy(n);t.silent((function(){t.deleteTask(n.id)})),delete e["!nativeeditor_status"],e.type=t.config.types.task,e.id=t.uid(),t.addTask(e)})))}t.config.types.placeholder="placeholder",t.attachEvent("onDataProcessorReady",e((function(n){n&&!n._silencedPlaceholder&&(n._silencedPlaceholder=!0,n.attachEvent("onBeforeUpdate",e((function(e,r,i){return i.type!=t.config.types.placeholder||(n.setUpdated(e,!1),!1)}))))})));var i=!1;function o(e){return!(!t.config.types.placeholder||!t.isTaskExists(e)||t.getTask(e).type!=t.config.types.placeholder)}function a(t){return!(!o(t.source)&&!o(t.target))}t.attachEvent("onGanttReady",(function(){i||(i=!0,t.attachEvent("onAfterTaskUpdate",e(r)),t.attachEvent("onAfterTaskAdd",e((function(e,r){r.type!=t.config.types.placeholder&&(t.getTaskBy("type",t.config.types.placeholder).forEach((function(e){t.silent((function(){t.isTaskExists(e.id)&&t.deleteTask(e.id)}))})),n())}))),t.attachEvent("onParse",e(n)))})),t.attachEvent("onLinkValidation",(function(t){return!a(t)})),t.attachEvent("onBeforeLinkAdd",(function(t,e){return!a(e)})),t.attachEvent("onBeforeUndoStack",(function(e){for(var n=0;n<e.commands.length;n++){var r=e.commands[n];"task"===r.entity&&r.value.type===t.config.types.placeholder&&(e.commands.splice(n,1),n--)}return!0}))}},function(t,e){t.exports=function(t){function e(e){return function(){return!t.config.auto_types||t.getTaskType(t.config.types.project)!=t.config.types.project||e.apply(this,arguments)}}function n(e,n){var r=t.getTask(e),i=o(r);!1!==i&&t.getTaskType(r)!==i&&(n.$needsUpdate=!0,n[r.id]={task:r,type:i})}function r(e){if(!t.getState().group_mode){var r=function(e,r){return n(e,r=r||{}),t.eachParent((function(t){n(t.id,r)}),e),r}(e);r.$needsUpdate&&t.batchUpdate((function(){!function(e){for(var n in e)if(e[n]&&e[n].task){var r=e[n].task;r.type=e[n].type,t.updateTask(r.id)}}(r)}))}}var i;function o(e){var n=t.config.types,r=t.hasChild(e.id),i=t.getTaskType(e.type);return r&&i===n.task?n.project:!r&&i===n.project&&n.task}var a,s,u=!0;function l(e){e!=t.config.root_id&&t.isTaskExists(e)&&r(e)}t.attachEvent("onParse",e((function(){u=!1,t.getState().group_mode||(t.batchUpdate((function(){t.eachTask((function(e){var n=o(e);!1!==n&&function(e,n){t.getState().group_mode||(e.type=n,t.updateTask(e.id))}(e,n)}))})),u=!0)}))),t.attachEvent("onAfterTaskAdd",e((function(t){u&&r(t)}))),t.attachEvent("onAfterTaskUpdate",e((function(t){u&&r(t)}))),t.attachEvent("onBeforeTaskDelete",e((function(e,n){return i=t.getParent(e),!0}))),t.attachEvent("onAfterTaskDelete",e((function(t,e){l(i)}))),t.attachEvent("onRowDragStart",e((function(e,n,r){return a=t.getParent(e),!0}))),t.attachEvent("onRowDragEnd",e((function(t,e){l(a),r(t)}))),t.attachEvent("onBeforeTaskMove",e((function(e,n,r){return s=t.getParent(e),!0}))),t.attachEvent("onAfterTaskMove",e((function(t,e,n){document.querySelector(".gantt_drag_marker")||(l(s),r(t))})))}},function(t,e,n){var r=n(37).default,i=n(129).default;t.exports=function(t){t.ext.formatters={durationFormatter:function(e){return e||(e={}),e.store||(e.store=t.config.duration_unit),e.enter||(e.enter=t.config.duration_unit),r.create(e,t)},linkFormatter:function(e){return i.create(e,t)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){var e=this;this.format=function(t){return e._getWBSCode(t.source)},this.canParse=function(t){return e._linkReg.test(t)},this.parse=function(t){if(!e.canParse(t))return null;var n=e._linkReg.exec(t)[0].trim();return{id:void 0,source:e._findSource(n)||null,target:null,type:e._gantt.config.links.finish_to_start,lag:0}},this._getWBSCode=function(t){var n=e._gantt.getTask(t);return e._gantt.getWBSCode(n)},this._findSource=function(t){var n=new RegExp("^[0-9.]+","i");if(n.exec(t)){var r=n.exec(t)[0],i=e._gantt.getTaskByWBSCode(r);if(i)return i.id}return null},this._linkReg=/^[0-9\.]+/,this._gantt=t}return t.create=function(e,n){return void 0===e&&(e=null),new t(n)},t}();e.default=r},function(t,e,n){t.exports=function(t){var e=n(34),r={};t.attachEvent("onClearAll",(function(){r={}}));var i=e.prototype.hasChild;t.$data.tasksStore.hasChild=function(e){return t.config.branch_loading?!!i.call(this,e)||!!this.exists(e)&&this.getItem(e)[t.config.branch_loading_property]:i.call(this,e)},t.attachEvent("onTaskOpened",(function(e){if(t.config.branch_loading&&t._load_url&&function(e){return!(!t.config.branch_loading||!t._load_url||r[e]||t.getChildren(e).length||!t.hasChild(e))}(e)){var n=t._load_url,i=(n=n.replace(/(\?|&)?parent_id=.+&?/,"")).indexOf("?")>=0?"&":"?",o=t.getScrollState().y||0,a={taskId:e,url:n+i+"parent_id="+encodeURIComponent(e)};if(!1===t.callEvent("onBeforeBranchLoading",[a]))return;t.load(a.url,this._load_type,(function(){o&&t.scrollTo(null,o),t.callEvent("onAfterBranchLoading",[a])})),r[e]=!0}}))}},function(t,e,n){var r=n(19);t.exports=function(t){n(138)(t),r.prototype.getGridColumns=function(){for(var t=this.$getConfig().columns,e=[],n=0;n<t.length;n++)t[n].hide||e.push(t[n]);return e}}},function(t,e){t.exports=function(t,e){return{init:function(){},doOnRender:function(){}}}},function(t,e){t.exports=function(t){var e=-1,n=-1;return{resetCache:function(){e=-1,n=-1},_getRowHeight:function(){return-1===e&&(e=t.$getConfig().row_height),e},_refreshState:function(){this.resetCache(),n=!0;var e=t.$config.rowStore;if(e)for(var r=this._getRowHeight(),i=0;i<e.fullOrder.length;i++){var o=e.getItem(e.fullOrder[i]);if(o&&o.row_height&&o.row_height!==r){n=!1;break}}},canUseSimpleCalculation:function(){return-1===n&&this._refreshState(),n},getRowTop:function(e){return t.$config.rowStore?e*this._getRowHeight():0},getItemHeight:function(t){return this._getRowHeight()},getTotalHeight:function(){return t.$config.rowStore?t.$config.rowStore.countVisible()*this._getRowHeight():0},getItemIndexByTopPosition:function(e){return t.$config.rowStore?Math.floor(e/this._getRowHeight()):0}}}},function(t,e,n){var r=n(1);t.exports=function(t,e){var n={row_before_start:t.bind((function(t,n,i){var o=e.$getConfig(),a=e.$config.rowStore;if(!r.locateAttribute(i,o.task_grid_row_resizer_attribute))return!1;var s=this.locate(i,o.task_grid_row_resizer_attribute),u=a.getItem(s);return!1!==e.callEvent("onBeforeRowResize",[u])&&void 0}),t),row_after_start:t.bind((function(t,n,r){var i=e.$getConfig(),o=this.locate(r,i.task_grid_row_resizer_attribute);t.config.marker.innerHTML="",t.config.marker.className+=" gantt_row_grid_resize_area",t.config.marker.style.width=e.$grid.offsetWidth+"px",t.config.drag_id=o}),t),row_drag_move:t.bind((function(t,n,i){var o=e.$config.rowStore,a=e.$getConfig(),s=t.config,u=s.drag_id,l=e.getItemHeight(u),c=e.getItemTop(u),h=r.getNodePosition(e.$grid_data),f=parseInt(s.marker.style.top,10),d=c+h.y,p=0,g=a.min_task_grid_row_height;return(p=f-d)<g&&(p=g),s.marker.style.left=h.x+"px",s.marker.style.top=d-1+"px",s.marker.style.height=Math.abs(p)+1+"px",s.marker_height=p,e.callEvent("onRowResize",[u,o.getItem(u),p+l]),!0}),t),row_drag_end:t.bind((function(n,r,i){var o=e.$config.rowStore,a=n.config,s=a.drag_id,u=o.getItem(s),l=e.getItemHeight(s),c=a.marker_height;!1!==e.callEvent("onBeforeRowResizeEnd",[s,u,c])&&u.row_height!=c&&(u.row_height=c,t.updateTask(s),e.callEvent("onAfterRowResize",[s,u,l,c]),this.render())}),t)};return{init:function(){var r=t.$services.getService("dnd"),i=e.$getConfig(),o=new r(e.$grid_data,{updates_per_second:60});t.defined(i.dnd_sensitivity)&&(o.config.sensitivity=i.dnd_sensitivity),o.attachEvent("onBeforeDragStart",(function(t,e){return n.row_before_start(o,t,e)})),o.attachEvent("onAfterDragStart",(function(t,e){return n.row_after_start(o,t,e)})),o.attachEvent("onDragMove",(function(t,e){return n.row_drag_move(o,t,e)})),o.attachEvent("onDragEnd",(function(t,e){return n.row_drag_end(o,t,e)}))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(136);e.default=r.ColumnsGridDnd},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnsGridDnd=void 0;var r=n(1),i=n(137),o=function(){function t(t,e){var n=this;this._targetMarker=null,this.calculateCurrentPosition=function(t){var e=n.$grid.$grid.getBoundingClientRect(),r=e.right,i=e.left,o=t;return o>r&&(o=r),o<i&&(o=i),o},this.$gantt=t,this.$grid=e}return t.prototype.init=function(){var t=this.$gantt.$services.getService("dnd");this._dnd=new t(this.$grid.$grid_scale,{updates_per_second:60}),this._scrollableGrid=new i.default({gantt:this.$gantt,grid:this.$grid,dnd:this._dnd,getCurrentX:this.calculateCurrentPosition}),this.attachEvents()},t.prototype.attachEvents=function(){var t=this;this._dnd.attachEvent("onBeforeDragStart",(function(e,n){if(t._draggedCell=t.$gantt.utils.dom.closest(n.target,".gantt_grid_head_cell"),t._draggedCell){var r,i,o=t.$grid.$getConfig().columns,a=t._draggedCell.getAttribute("data-column-id");return o.map((function(t,e){t.name===a&&(r=t,i=e)})),!1!==t.$grid.callEvent("onBeforeColumnDragStart",[{draggedColumn:r,draggedIndex:i}])&&!(!t._draggedCell||!r)&&(t._gridConfig=t.$grid.$getConfig(),t._originAutoscroll=t.$gantt.config.autoscroll,t.$gantt.config.autoscroll=!1,!0)}})),this._dnd.attachEvent("onAfterDragStart",(function(e,n){t._draggedCell&&(t._dnd.config.column=t._draggedCell.getAttribute("data-column-id"),t._dnd.config.marker.innerHTML=t._draggedCell.outerHTML,t._dnd.config.marker.classList.add("gantt_column_drag_marker"),t._dnd.config.marker.style.height=t._gridConfig.scale_height+"px",t._dnd.config.marker.style.lineHeight=t._gridConfig.scale_height+"px",t._draggedCell.classList.add("gantt_grid_head_cell_dragged"))})),this._dnd.attachEvent("onDragMove",(function(e,n){if(t._draggedCell){t._dragX=n.clientX;var r=t.calculateCurrentPosition(n.clientX),i=t.findColumnsIndexes(),o=i.targetIndex,a=i.draggedIndex,s=t.$grid.$getConfig().columns,u=s[a],l=s[o];return!1===t.$grid.callEvent("onColumnDragMove",[{draggedColumn:u,targetColumn:l,draggedIndex:a,targetIndex:o}])?(t.cleanTargetMarker(),!1):(t.setMarkerPosition(r),t.drawTargetMarker(i),!0)}})),this._dnd.attachEvent("onDragEnd",(function(){t._draggedCell&&(t.$gantt.config.autoscroll=t._originAutoscroll,t._draggedCell.classList.remove("gantt_grid_head_cell_dragged"),t.cleanTargetMarker(),t.reorderColumns())}))},t.prototype.reorderColumns=function(){var t=this.findColumnsIndexes(),e=t.targetIndex,n=t.draggedIndex,r=this.$grid.$getConfig().columns,i=r[n],o=r[e];!1!==this.$grid.callEvent("onBeforeColumnReorder",[{draggedColumn:i,targetColumn:o,draggedIndex:n,targetIndex:e}])&&e!==n&&(r.splice(n,1),r.splice(e,0,i),this.$gantt.render(),this.$grid.callEvent("onAfterColumnReorder",[{draggedColumn:i,targetColumn:o,draggedIndex:n,targetIndex:e}]))},t.prototype.findColumnsIndexes=function(){var t,e,n,r,i,o=this._dnd.config.column,a=this.$grid.$getConfig().columns,s={startX:0,endX:0},u=0,l=a.length-1,c=function(t,e){return t<=e},h=function(t){return++t};this.$gantt.config.rtl&&(u=a.length-1,l=0,c=function(t,e){return t>=e},h=function(t){return--t});for(var f=this._dragX-this.$grid.$grid.getBoundingClientRect().left+this._scrollableGrid.getCorrection(),d=u;c(d,l)&&(void 0===t||void 0===e);d=h(d))a[d].hide||(s.startX=s.endX,s.endX+=a[d].width,f>=s.startX&&(f<=s.endX||!c(h(d),l))&&(t=d,n=s.startX,r=s.endX,i=(f-s.startX)/(s.endX-s.startX)),o===a[d].name&&(e=d));return{targetIndex:t,draggedIndex:e,xBefore:n,xAfter:r,columnRelativePos:i}},t.prototype.setMarkerPosition=function(t,e){void 0===e&&(e=10);var n=this._dnd.config.marker,r=this._dnd._obj.getBoundingClientRect();n.style.top=r.y+e+"px",n.style.left=t+"px"},t.prototype.drawTargetMarker=function(t){var e,n=t.targetIndex,i=t.draggedIndex,o=t.xBefore,a=t.xAfter,s=t.columnRelativePos;this._targetMarker||(this._targetMarker=document.createElement("div"),r.addClassName(this._targetMarker,"gantt_grid_target_marker"),this._targetMarker.style.display="none",this._targetMarker.style.height=this._gridConfig.scale_height+"px"),this._targetMarker.parentNode||this.$grid.$grid_scale.appendChild(this._targetMarker),e=n>i?a:n<i?o:s>.5?a:o,this._targetMarker.style.left=e+"px",this._targetMarker.style.display="block"},t.prototype.cleanTargetMarker=function(){this._targetMarker&&this._targetMarker.parentNode&&this.$grid.$grid_scale.removeChild(this._targetMarker),this._targetMarker=null},t}();e.ColumnsGridDnd=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this._scrollOrder=0;var e=t.gantt,n=t.grid,r=t.dnd,i=t.getCurrentX;this.$gantt=e,this.$grid=n,this._dnd=r,this.getCurrentX=i,this._scrollView=this.$gantt.$ui.getView(this.$grid.$config.scrollX),this.attachEvents()}return t.prototype.attachEvents=function(){var t=this;this.isScrollable()&&(this._dnd.attachEvent("onDragMove",(function(e,n){var r=t.$grid.$grid.getBoundingClientRect(),i=r.right,o=r.left,a=t.getCurrentX(n.clientX);return a>=i-20&&(t.autoscrollRight(),t.autoscrollStart()),a<=o+20&&(t.autoscrollLeft(),t.autoscrollStart()),a<i-20&&a>o+20&&t.autoscrollStop(),!0})),this._dnd.attachEvent("onDragEnd",(function(){t.autoscrollStop()})))},t.prototype.autoscrollStart=function(){var t=this;if(0!==this._scrollOrder){var e=10*this._scrollOrder,n=this._scrollView.getScrollState();this._scrollView.scrollTo(n.position+e),setTimeout((function(){t.autoscrollStart()}),50)}},t.prototype.autoscrollRight=function(){this._scrollOrder=1},t.prototype.autoscrollLeft=function(){this._scrollOrder=-1},t.prototype.autoscrollStop=function(){this._scrollOrder=0},t.prototype.getCorrection=function(){return this.isScrollable()?this._scrollView.getScrollState().position:0},t.prototype.isScrollable=function(){return!!this.$grid.$config.scrollable},t}();e.default=r},function(t,e){t.exports=function(t){t.getGridColumn=function(e){for(var n=t.config.columns,r=0;r<n.length;r++)if(n[r].name==e)return n[r];return null},t.getGridColumns=function(){return t.config.columns.slice()}}},function(t,e){t.exports=function(t){t.isReadonly=function(e){return"number"!=typeof e&&"string"!=typeof e||!t.isTaskExists(e)||(e=t.getTask(e)),(!e||!e[this.config.editable_property])&&(e&&e[this.config.readonly_property]||this.config.readonly)}}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(2);t.exports=function(t){function e(e){throw t.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(e)),new Error("Invalid argument for gantt.parse or gantt.load. An object or a JSON string of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#json is expected. Actual argument value: "+JSON.stringify(e))}t.load=function(e,n,r){this._load_url=e,this.assert(arguments.length,"Invalid load arguments");var i="json",o=null;return arguments.length>=3?(i=n,o=r):"string"==typeof arguments[1]?i=arguments[1]:"function"==typeof arguments[1]&&(o=arguments[1]),this._load_type=i,this.callEvent("onLoadStart",[e,i]),this.ajax.get(e,t.bind((function(t){this.on_load(t,i),this.callEvent("onLoadEnd",[e,i]),"function"==typeof o&&o.call(this)}),this))},t.parse=function(t,e){this.on_load({xmlDoc:{responseText:t}},e)},t.serialize=function(t){return this[t=t||"json"].serialize()},t.on_load=function(e,n){if(e.xmlDoc&&404===e.xmlDoc.status)this.assert(!1,"Failed to load the data from <a href='"+e.xmlDoc.responseURL+"' target='_blank'>"+e.xmlDoc.responseURL+"</a>, server returns 404");else if(!t.$destroyed){this.callEvent("onBeforeParse",[]),n||(n="json"),this.assert(this[n],"Invalid data type:'"+n+"'");var r=e.xmlDoc.responseText,i=this[n].parse(r,e);this._process_loading(i)}},t._process_loading=function(t){t.collections&&this._load_collections(t.collections),this.$data.tasksStore.parse(t.data||t.tasks);var e=t.links||(t.collections?t.collections.links:[]);this.$data.linksStore.parse(e),this.callEvent("onParse",[]),this.render()},t._load_collections=function(t){var e=!1;for(var n in t)if(t.hasOwnProperty(n)){e=!0;var r=t[n],i=this.serverList[n];if(!i)continue;i.splice(0,i.length);for(var o=0;o<r.length;o++){var a=r[o],s=this.copy(a);for(var u in s.key=s.value,a)if(a.hasOwnProperty(u)){if("value"==u||"label"==u)continue;s[u]=a[u]}i.push(s)}}e&&this.callEvent("onOptionsLoad",[])},t.attachEvent("onBeforeTaskDisplay",(function(t,e){return!e.$ignore})),t.json={parse:function(n){if(n||e(n),"string"==typeof n)if(void 0!=("undefined"==typeof JSON?"undefined":r(JSON)))try{n=JSON.parse(n)}catch(t){e(n)}else t.assert(!1,"JSON is not supported");return n.data||n.tasks||e(n),n.dhx_security&&(t.security_key=n.dhx_security),n},serializeTask:function(t){return this._copyObject(t)},serializeLink:function(t){return this._copyLink(t)},_copyLink:function(t){var e={};for(var n in t)e[n]=t[n];return e},_copyObject:function(e){var n={};for(var r in e)"$"!=r.charAt(0)&&(n[r]=e[r],i.isDate(n[r])&&(n[r]=t.defined(t.templates.xml_format)?t.templates.xml_format(n[r]):t.templates.format_date(n[r])));return n},serialize:function(){var e=[],n=[];t.eachTask((function(n){t.resetProjectDates(n),e.push(this.serializeTask(n))}),t.config.root_id,this);for(var r=t.getLinks(),i=0;i<r.length;i++)n.push(this.serializeLink(r[i]));return{data:e,links:n}}},t.xml={_xmlNodeToJSON:function(t,e){for(var n={},r=0;r<t.attributes.length;r++)n[t.attributes[r].name]=t.attributes[r].value;if(!e){for(r=0;r<t.childNodes.length;r++){var i=t.childNodes[r];1==i.nodeType&&(n[i.tagName]=i.firstChild?i.firstChild.nodeValue:"")}n.text||(n.text=t.firstChild?t.firstChild.nodeValue:"")}return n},_getCollections:function(e){for(var n={},r=t.ajax.xpath("//coll_options",e),i=0;i<r.length;i++)for(var o=n[r[i].getAttribute("for")]=[],a=t.ajax.xpath(".//item",r[i]),s=0;s<a.length;s++){for(var u=a[s].attributes,l={key:a[s].getAttribute("value"),label:a[s].getAttribute("label")},c=0;c<u.length;c++){var h=u[c];"value"!=h.nodeName&&"label"!=h.nodeName&&(l[h.nodeName]=h.nodeValue)}o.push(l)}return n},_getXML:function(e,n,r){r=r||"data",n.getXMLTopNode||(n=t.ajax.parse(n));var i=t.ajax.xmltop(r,n.xmlDoc);i&&i.tagName==r||function(e){throw t.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(e)),new Error("Invalid argument for gantt.parse or gantt.load. An XML of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#xmldhtmlxgantt20 is expected. Actual argument value: "+JSON.stringify(e))}(e);var o=i.getAttribute("dhx_security");return o&&(t.security_key=o),i},parse:function(e,n){n=this._getXML(e,n);for(var r={},i=r.data=[],o=t.ajax.xpath("//task",n),a=0;a<o.length;a++)i[a]=this._xmlNodeToJSON(o[a]);return r.collections=this._getCollections(n),r},_copyLink:function(t){return"<item id='"+t.id+"' source='"+t.source+"' target='"+t.target+"' type='"+t.type+"' />"},_copyObject:function(t){return"<task id='"+t.id+"' parent='"+(t.parent||"")+"' start_date='"+t.start_date+"' duration='"+t.duration+"' open='"+!!t.open+"' progress='"+t.progress+"' end_date='"+t.end_date+"'><![CDATA["+t.text+"]]></task>"},serialize:function(){for(var e=[],n=[],r=t.json.serialize(),i=0,o=r.data.length;i<o;i++)e.push(this._copyObject(r.data[i]));for(i=0,o=r.links.length;i<o;i++)n.push(this._copyLink(r.links[i]));return"<data>"+e.join("")+"<coll_options for='links'>"+n.join("")+"</coll_options></data>"}},t.oldxml={parse:function(e,n){n=t.xml._getXML(e,n,"projects");for(var r={collections:{links:[]}},i=r.data=[],o=t.ajax.xpath("//task",n),a=0;a<o.length;a++){i[a]=t.xml._xmlNodeToJSON(o[a]);var s=o[a].parentNode;"project"==s.tagName?i[a].parent="project-"+s.getAttribute("id"):i[a].parent=s.parentNode.getAttribute("id")}for(o=t.ajax.xpath("//project",n),a=0;a<o.length;a++)(u=t.xml._xmlNodeToJSON(o[a],!0)).id="project-"+u.id,i.push(u);for(a=0;a<i.length;a++){var u;(u=i[a]).start_date=u.startdate||u.est,u.end_date=u.enddate,u.text=u.name,u.duration=u.duration/8,u.open=1,u.duration||u.end_date||(u.duration=1),u.predecessortasks&&r.collections.links.push({target:u.id,source:u.predecessortasks,type:t.config.links.finish_to_start})}return r},serialize:function(){t.message("Serialization to 'old XML' is not implemented")}},t.serverList=function(t,e){return e?this.serverList[t]=e.slice(0):this.serverList[t]||(this.serverList[t]=[]),this.serverList[t]}}},function(t,e,n){var r=n(142),i=n(151),o=n(153),a=n(0);t.exports=function(t){var e=new r(t),n=new i(e),s=o.create(e,n);a.mixin(t,s)}},function(t,e,n){var r=n(0),i=n(39),o=n(143),a=n(144),s=n(149),u=n(150)();function l(t){this.$gantt=t,this._calendars={},this._legacyConfig=void 0,this.$gantt.attachEvent("onGanttReady",function(){this.$gantt.config.resource_calendars&&(this._isLegacyConfig=s.isLegacyResourceCalendarFormat(this.$gantt.config.resource_calendars))}.bind(this)),this.$gantt.attachEvent("onBeforeGanttReady",function(){this.createDefaultCalendars()}.bind(this)),this.$gantt.attachEvent("onBeforeGanttRender",function(){this.createDefaultCalendars()}.bind(this))}l.prototype={_calendars:{},_convertWorkTimeSettings:function(t){var e=t.days;if(e&&!t.dates){t.dates=t.dates||{};for(var n=0;n<e.length;n++)t.dates[n]=e[n],e[n]instanceof Array||(t.dates[n]=!!e[n])}return delete t.days,t},mergeCalendars:function(){var t=[],e=arguments;if(Array.isArray(e[0]))t=e[0].slice();else for(var n=0;n<arguments.length;n++)t.push(arguments[n]);var r,i=new o;return t.forEach(function(t){r=r?this._createCalendarFromConfig(i.merge(r,t)):t}.bind(this)),this.createCalendar(r)},_createCalendarFromConfig:function(t){var e=new a(this.$gantt,i(this.$gantt));e.id=String(r.uid());var n=this._convertWorkTimeSettings(t);if(n.customWeeks)for(var o in n.customWeeks)n.customWeeks[o]=this._convertWorkTimeSettings(n.customWeeks[o]);return e._setConfig(n),e},createCalendar:function(t){var e;t||(t={}),e=t.getConfig?r.copy(t.getConfig()):t.worktime?r.copy(t.worktime):r.copy(t);var n=r.copy(this.defaults.fulltime.worktime);return r.mixin(e,n),this._createCalendarFromConfig(e)},getCalendar:function(t){t=t||"global";var e=this._calendars[t];return e||(this.createDefaultCalendars(),e=this._calendars[t]),e},getCalendars:function(){var t=[];for(var e in this._calendars)t.push(this.getCalendar(e));return t},_getOwnCalendar:function(t){var e=this.$gantt.config;if(t[e.calendar_property])return this.getCalendar(t[e.calendar_property]);if(e.resource_calendars){var n;if(n=!1===this._legacyConfig?e.resource_property:s.getResourceProperty(e),Array.isArray(t[n]))e.dynamic_resource_calendars&&(r=u.getCalendarIdFromMultipleResources(t[n],this));else if(void 0===this._legacyConfig&&(this._legacyConfig=s.isLegacyResourceCalendarFormat(e.resource_calendars)),this._legacyConfig)var r=s.getCalendarIdFromLegacyConfig(t,e.resource_calendars);else if(n&&t[n]&&e.resource_calendars[t[n]])var i=this.getResourceCalendar(t[n]);if(r&&(i=this.getCalendar(r)),i)return i}return null},getResourceCalendar:function(t){if(null===t||void 0===t)return this.getCalendar();var e=null;e="number"==typeof t||"string"==typeof t?t:t.id||t.key;var n=this.$gantt.config,r=n.resource_calendars,i=null;if(r){if(void 0===this._legacyConfig&&(this._legacyConfig=s.isLegacyResourceCalendarFormat(n.resource_calendars)),this._legacyConfig){for(var o in r)if(r[o][e]){i=r[o][e];break}}else i=r[e];if(i)return this.getCalendar(i)}return this.getCalendar()},getTaskCalendar:function(t){var e,n=this.$gantt;if(null===t||void 0===t)return this.getCalendar();if(!(e="number"!=typeof t&&"string"!=typeof t||!n.isTaskExists(t)?t:n.getTask(t)))return this.getCalendar();var r=this._getOwnCalendar(e),i=!!n.getState().group_mode;if(!r&&n.config.inherit_calendar&&n.isTaskExists(e.parent)){for(var o=e;n.isTaskExists(o.parent)&&(o=n.getTask(o.parent),!n.isSummaryTask(o)||!(r=this._getOwnCalendar(o))););i&&!r&&t.$effective_calendar&&(r=this.getCalendar(t.$effective_calendar))}return r||this.getCalendar()},addCalendar:function(t){if(!this.isCalendar(t)){var e=t.id;(t=this.createCalendar(t)).id=e}if(t._tryChangeCalendarSettings((function(){}))){var n=this.$gantt.config;return t.id=t.id||r.uid(),this._calendars[t.id]=t,n.worktimes||(n.worktimes={}),n.worktimes[t.id]=t.getConfig(),t.id}return this.$gantt.callEvent("onCalendarError",[{message:"Invalid calendar settings, no worktime available"},t]),null},deleteCalendar:function(t){var e=this.$gantt.config;return!!t&&!!this._calendars[t]&&(delete this._calendars[t],e.worktimes&&e.worktimes[t]&&delete e.worktimes[t],!0)},restoreConfigCalendars:function(t){for(var e in t)if(!this._calendars[e]){var n=t[e],r=this.createCalendar(n);r.id=e,this.addCalendar(r)}},defaults:{global:{id:"global",worktime:{hours:[8,12,13,17],days:[0,1,1,1,1,1,0]}},fulltime:{id:"fulltime",worktime:{hours:[0,24],days:[1,1,1,1,1,1,1]}}},createDefaultCalendars:function(){var t=this.$gantt.config;this.restoreConfigCalendars(this.defaults),this.restoreConfigCalendars(t.worktimes)},isCalendar:function(t){return[t.isWorkTime,t.setWorkTime,t.getWorkHours,t.unsetWorkTime,t.getClosestWorkTime,t.calculateDuration,t.hasDuration,t.calculateEndDate].every((function(t){return t instanceof Function}))}},t.exports=l},function(t,e,n){var r=n(0);function i(){}i.prototype={_getIntervals:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push({start:t[n],end:t[n+1]});return e},_toHoursArray:function(t){var e=[];function n(t){var e=Math.floor(t/3600),n=t-60*e*60;return e+":"+function(t){var e=String(t);return e.length<2&&(e="0"+e),e}(Math.floor(n/60))}for(var r=0;r<t.length;r++)e.push(n(t[r].start)+"-"+n(t[r].end));return e},_intersectHourRanges:function(t,e){var n=[],r=t.length>e.length?t:e,i=t===r?e:t;r=r.slice(),i=i.slice(),n=[];for(var o=0;o<r.length;o++)for(var a=r[o],s=0;s<i.length;s++){var u=i[s];u.start<a.end&&u.end>a.start&&(n.push({start:Math.max(a.start,u.start),end:Math.min(a.end,u.end)}),a.end>u.end&&(i.splice(s,1),s--,o--))}return n},_mergeAdjacentIntervals:function(t){var e=t.slice();e.sort((function(t,e){return t.start-e.start}));for(var n=e[0],r=1;r<e.length;r++){var i=e[r];i.start<=n.end?(i.end>n.end&&(n.end=i.end),e.splice(r,1),r--):n=i}return e},_mergeHoursConfig:function(t,e){return this._mergeAdjacentIntervals(this._intersectHourRanges(t,e))},merge:function(t,e){var n=r.copy(t.getConfig().parsed),i=r.copy(e.getConfig().parsed),o={hours:this._toHoursArray(this._mergeHoursConfig(n.hours,i.hours)),dates:{},customWeeks:{}};for(var a in n.dates){var s=n.dates[a],u=i.dates[a];if(s&&u)if(Array.isArray(s)||Array.isArray(u)){var l=Array.isArray(s)?s:n.hours,c=Array.isArray(u)?u:i.hours;o.dates[a]=this._toHoursArray(this._mergeHoursConfig(l,c))}else o.dates[a]=!0;else o.dates[a]=!1}if(n.customWeeks)for(var a in n.customWeeks)o.customWeeks[a]=n.customWeeks[a];if(i.customWeeks)for(var a in i.customWeeks)o.customWeeks[a]=i.customWeeks[a];return o}},t.exports=i},function(t,e,n){var r=n(40).createCacheObject,i=n(40).LargerUnitsCache,o=n(0),a=n(148).DateDurationCache;function s(t,e){this.argumentsHelper=e,this.$gantt=t,this._workingUnitsCache=r(),this._largeUnitsCache=new i(this),this._dateDurationCache=new a,this._worktime=null,this._cached_timestamps={},this._cached_timestamps_count=0}s.prototype={units:["year","month","week","day","hour","minute"],_clearCaches:function(){this._workingUnitsCache.clear(),this._largeUnitsCache.clear(),this._dateDurationCache.clear()},_getUnitOrder:function(t){for(var e=0,n=this.units.length;e<n;e++)if(this.units[e]==t)return e},_resetTimestampCache:function(){this._cached_timestamps={},this._cached_timestamps_count=0},_timestamp:function(t){this._cached_timestamps_count>1e6&&this._resetTimestampCache();var e=null;if(t.day||0===t.day)e=t.day;else if(t.date){var n=String(t.date.valueOf());this._cached_timestamps[n]?e=this._cached_timestamps[n]:(e=Date.UTC(t.date.getFullYear(),t.date.getMonth(),t.date.getDate()),this._cached_timestamps[n]=e,this._cached_timestamps_count++)}return e},_checkIfWorkingUnit:function(t,e){if(!this["_is_work_"+e]){var n=this.$gantt.date["".concat(e,"_start")](new Date(t)),r=this.$gantt.date.add(n,1,e);return this.hasDuration(n,r)}return this["_is_work_"+e](t)},_is_work_day:function(t){var e=this._getWorkHours(t);return!!Array.isArray(e)&&e.length>0},_is_work_hour:function(t){for(var e=this._getWorkHours(t),n=t.getHours(),r=0;r<e.length;r++)if(n>=e[r].startHour&&n<e[r].endHour)return!0;return!1},_getTimeOfDayStamp:function(t,e){var n=t.getHours();return t.getHours()||t.getMinutes()||!e||(n=24),60*n*60+60*t.getMinutes()},_is_work_minute:function(t){for(var e=this._getWorkHours(t),n=this._getTimeOfDayStamp(t),r=0;r<e.length;r++)if(n>=e[r].start&&n<e[r].end)return!0;return!1},_nextDate:function(t,e,n){return this.$gantt.date.add(t,n,e)},_getWorkUnitsBetweenGeneric:function(t,e,n,r){var i=this.$gantt.date,o=new Date(t),a=new Date(e);r=r||1;var s,u,l=0,c=null,h=!1;(s=i[n+"_start"](new Date(o))).valueOf()!=o.valueOf()&&(h=!0);var f=!1;(u=i[n+"_start"](new Date(e))).valueOf()!=e.valueOf()&&(f=!0);for(var d=!1;o.valueOf()<a.valueOf();){if(d=(c=this._nextDate(o,n,r)).valueOf()>a.valueOf(),this._isWorkTime(o,n))(h||f&&d)&&(s=i[n+"_start"](new Date(o)),u=i.add(s,r,n)),h?(h=!1,c=this._nextDate(s,n,r),l+=(u.valueOf()-o.valueOf())/(u.valueOf()-s.valueOf())):f&&d?(f=!1,l+=(a.valueOf()-o.valueOf())/(u.valueOf()-s.valueOf())):l++;else{var p=this._getUnitOrder(n),g=this.units[p-1];g&&!this._isWorkTime(o,g)&&(c=this._getClosestWorkTimeFuture(o,g))}o=c}return l},_getMinutesPerHour:function(t){var e=this._getTimeOfDayStamp(t),n=this._getTimeOfDayStamp(this._nextDate(t,"hour",1));0===n&&(n=86400);for(var r=this._getWorkHours(t),i=0;i<r.length;i++){var o=r[i];if(e>=o.start&&n<=o.end)return 60;if(e<o.end&&n>o.start)return(Math.min(n,o.end)-Math.max(e,o.start))/60}return 0},_getMinutesPerDay:function(t){var e=0;return this._getWorkHours(t).forEach((function(t){e+=t.durationMinutes})),e},getHoursPerDay:function(t){var e=0;return this._getWorkHours(t).forEach((function(t){e+=t.durationHours})),e},_getWorkUnitsForRange:function(t,e,n,r){var i,a=0,s=new Date(t),u=new Date(e);for(i="minute"==n?o.bind(this._getMinutesPerDay,this):o.bind(this.getHoursPerDay,this);s.valueOf()<u.valueOf();)if(u-s>27648e5&&0===s.getDate()){var l=this._largeUnitsCache.getMinutesPerMonth(s);"hour"==n&&(l/=60),a+=l,s=this.$gantt.date.add(s,1,"month")}else{if(u-s>13824e5){var c=this.$gantt.date.week_start(new Date(s));if(s.valueOf()===c.valueOf()){l=this._largeUnitsCache.getMinutesPerWeek(s),"hour"==n&&(l/=60),a+=l,s=this.$gantt.date.add(s,7,"day");continue}}a+=i(s),s=this._nextDate(s,"day",1)}return a/r},_getMinutesBetweenSingleDay:function(t,e){for(var n=this._getIntervalTimestamp(t,e),r=this._getWorkHours(t),i=0,o=0;o<r.length;o++){var a=r[o];if(n.end>=a.start&&n.start<=a.end){var s=Math.max(a.start,n.start),u=Math.min(a.end,n.end);i+=(u-s)/60,n.start=u}}return Math.floor(i)},_getMinutesBetween:function(t,e,n,r){var i=new Date(t),o=new Date(e);r=r||1;var a=new Date(i),s=this.$gantt.date.add(this.$gantt.date.day_start(new Date(i)),1,"day");if(o.valueOf()<=s.valueOf())return this._getMinutesBetweenSingleDay(t,e);var u=this.$gantt.date.day_start(new Date(o)),l=o,c=this._getMinutesBetweenSingleDay(a,s),h=this._getMinutesBetweenSingleDay(u,l);return c+this._getWorkUnitsForRange(s,u,n,r)+h},_getHoursBetween:function(t,e,n,r){var i=new Date(t),o=new Date(e);r=r||1;var a=new Date(i),s=this.$gantt.date.add(this.$gantt.date.day_start(new Date(i)),1,"day");if(o.valueOf()<=s.valueOf())return Math.round(this._getMinutesBetweenSingleDay(t,e)/60);var u=this.$gantt.date.day_start(new Date(o)),l=o,c=this._getMinutesBetweenSingleDay(a,s,n,r)/60,h=this._getMinutesBetweenSingleDay(u,l,n,r)/60,f=c+this._getWorkUnitsForRange(s,u,n,r)+h;return Math.round(f)},getConfig:function(){return this._worktime},_setConfig:function(t){this._worktime=t,this._parseSettings(),this._clearCaches()},_parseSettings:function(){var t=this.getConfig();for(var e in t.parsed={dates:{},hours:null,haveCustomWeeks:!1,customWeeks:{},customWeeksRangeStart:null,customWeeksRangeEnd:null,customWeeksBoundaries:[]},t.parsed.hours=this._parseHours(t.hours),t.dates)t.parsed.dates[e]=this._parseHours(t.dates[e]);if(t.customWeeks){var n=null,r=null;for(var e in t.customWeeks){var i=t.customWeeks[e];if(i.from&&i.to){var o=i.from,a=i.to;(!n||n>o.valueOf())&&(n=o.valueOf()),(!r||r<a.valueOf())&&(r=a.valueOf()),t.parsed.customWeeksBoundaries.push({from:o.valueOf(),fromReadable:new Date(o),to:a.valueOf(),toReadable:new Date(a),name:e}),t.parsed.haveCustomWeeks=!0;var s=t.parsed.customWeeks[e]={from:i.from,to:i.to,hours:this._parseHours(i.hours),dates:{}};for(var u in i.dates)s.dates[u]=this._parseHours(i.dates[u])}}t.parsed.customWeeksRangeStart=n,t.parsed.customWeeksRangeEnd=r}},_tryChangeCalendarSettings:function(t){var e=JSON.stringify(this.getConfig());return t(),!!this.hasWorkTime()||(this._setConfig(JSON.parse(e)),this._clearCaches(),!1)},_arraysEqual:function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0},_compareSettings:function(t,e){if(!this._arraysEqual(t.hours,e.hours))return!1;var n=Object.keys(t.dates),r=Object.keys(e.dates);if(n.sort(),r.sort(),!this._arraysEqual(n,r))return!1;for(var i=0;i<n.length;i++){var o=n[i],a=t.dates[o],s=t.dates[o];if(a!==s&&!(Array.isArray(a)&&Array.isArray(s)&&this._arraysEqual(a,s)))return!1}return!0},equals:function(t){if(!(t instanceof s))return!1;var e=this.getConfig(),n=t.getConfig();if(!this._compareSettings(e,n))return!1;if(e.parsed.haveCustomWeeks&&n.parsed.haveCustomWeeks){if(e.parsed.customWeeksBoundaries.length!=n.parsed.customWeeksBoundaries.length)return!1;for(var r in e.parsed.customWeeks){var i=e.parsed.customWeeks[r],o=n.parsed.customWeeks[r];if(!o)return!1;if(!this._compareSettings(i,o))return!1}}else if(e.parse.haveCustomWeeks!==n.parsed.haveCustomWeeks)return!1;return!0},getWorkHours:function(){var t=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments);return this._getWorkHours(t.date,!1)},_getWorkHours:function(t,e){var n=this.getConfig();if(!1!==e&&(n=n.parsed),!t)return n.hours;var r=this._timestamp({date:t});if(n.haveCustomWeeks&&n.customWeeksRangeStart<=r&&n.customWeeksRangeEnd>r)for(var i=0;i<n.customWeeksBoundaries.length;i++)if(n.customWeeksBoundaries[i].from<=r&&n.customWeeksBoundaries[i].to>r){n=n.customWeeks[n.customWeeksBoundaries[i].name];break}var o=!0;return void 0!==n.dates[r]?o=n.dates[r]:void 0!==n.dates[t.getDay()]&&(o=n.dates[t.getDay()]),!0===o?n.hours:o||[]},_getIntervalTimestamp:function(t,e){var n={start:0,end:0};n.start=60*t.getHours()*60+60*t.getMinutes()+t.getSeconds();var r=e.getHours();return!r&&!e.getMinutes()&&!e.getSeconds()&&t.valueOf()<e.valueOf()&&(r=24),n.end=60*r*60+60*e.getMinutes()+e.getSeconds(),n},_parseHours:function(t){if(Array.isArray(t)){var e=[];t.forEach((function(t){"number"==typeof t?e.push(60*t*60):"string"==typeof t&&t.split("-").map((function(t){return t.trim()})).forEach((function(t){var n=t.split(":").map((function(t){return t.trim()})),r=parseInt(60*n[0]*60);n[1]&&(r+=parseInt(60*n[1])),n[2]&&(r+=parseInt(n[2])),e.push(r)}))}));for(var n=[],r=0;r<e.length;r+=2){var i=e[r],o=e[r+1],a=o-i;n.push({start:i,end:o,startHour:Math.floor(i/3600),startMinute:Math.floor(i/60),endHour:Math.ceil(o/3600),endMinute:Math.ceil(o/60),durationSeconds:a,durationMinutes:a/60,durationHours:a/3600})}return n}return t},setWorkTime:function(t){return this._tryChangeCalendarSettings(o.bind((function(){var e=void 0===t.hours||t.hours,n=this._timestamp(t),r=this.getConfig();if(null!==n?r.dates[n]=e:t.customWeeks||(r.hours=e),t.customWeeks)for(var i in r.customWeeks||(r.customWeeks={}),t.customWeeks)r.customWeeks[i]=t.customWeeks[i];this._parseSettings(),this._clearCaches()}),this))},unsetWorkTime:function(t){return this._tryChangeCalendarSettings(o.bind((function(){if(t){var e=this._timestamp(t);null!==e&&delete this.getConfig().dates[e]}else this.reset_calendar();this._parseSettings(),this._clearCaches()}),this))},_isWorkTime:function(t,e){var n=-1,r=null;return r=String(t.valueOf()),-1==(n=this._workingUnitsCache.getItem(e,r,t))&&(n=this._checkIfWorkingUnit(t,e),this._workingUnitsCache.setItem(e,r,n,t)),n},isWorkTime:function(){var t=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._isWorkTime(t.date,t.unit)},calculateDuration:function(){var t=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);if(!t.unit)return!1;var e=this;return this._dateDurationCache.getDuration(t.start_date,t.end_date,t.unit,t.step,(function(){return e._calculateDuration(t.start_date,t.end_date,t.unit,t.step)}))},_calculateDuration:function(t,e,n,r){var i=0,o=1;if(t.valueOf()>e.valueOf()){var a=e;e=t,t=a,o=-1}return i="hour"==n&&1==r?this._getHoursBetween(t,e,n,r):"minute"==n&&1==r?this._getMinutesBetween(t,e,n,r):this._getWorkUnitsBetweenGeneric(t,e,n,r),o*Math.round(i)},hasDuration:function(){var t=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),e=t.start_date,n=t.end_date,r=t.unit,i=t.step;if(!r)return!1;var o=new Date(e),a=new Date(n);for(i=i||1;o.valueOf()<a.valueOf();){if(this._isWorkTime(o,r))return!0;o=this._nextDate(o,r,i)}return!1},calculateEndDate:function(){var t=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),e=t.start_date,n=t.duration,r=t.unit,i=t.step;if(!r)return!1;var o=t.duration>=0?1:-1;n=Math.abs(1*n);var a=this;return this._dateDurationCache.getEndDate(e,n,r,i*o,(function(){return a._calculateEndDate(e,n,r,i*o)}))},_calculateEndDate:function(t,e,n,r){return!!n&&(1==r&&"minute"==n?this._calculateMinuteEndDate(t,e,r):-1==r&&"minute"==n?this._subtractMinuteDate(t,e,r):1==r&&"hour"==n?this._calculateHourEndDate(t,e,r):this._addInterval(t,e,n,r,null).end)},_addInterval:function(t,e,n,r,i){for(var o=0,a=t,s=!1;o<e&&(!i||!i(a));){var u=this._nextDate(a,n,r);"day"==n&&(s=s||!a.getHours()&&u.getHours())&&(u.setHours(0),u.getHours()||(s=!1));var l=new Date(u.valueOf()+1);r>0&&(l=new Date(u.valueOf()-1)),this._isWorkTime(l,n)&&!s&&o++,a=u}return{end:a,start:t,added:o}},_addHoursUntilDayEnd:function(t,e){for(var n=this.$gantt.date.add(this.$gantt.date.day_start(new Date(t)),1,"day"),r=0,i=e,o=this._getIntervalTimestamp(t,n),a=this._getWorkHours(t),s=0;s<a.length&&r<e;s++){var u=a[s];if(o.end>=u.start&&o.start<=u.end){var l=Math.max(u.start,o.start),c=Math.min(u.end,o.end),h=(c-l)/3600;h>i&&(h=i,c=l+60*i*60);var f=Math.round((c-l)/3600);r+=f,i-=f,o.start=c}}var d=n;return r===e&&(d=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,o.start)),{added:r,end:d}},_calculateHourEndDate:function(t,e,n){var r=new Date(t),i=0;n=n||1,e=Math.abs(1*e);var o=this._addHoursUntilDayEnd(r,e);if(i=o.added,r=o.end,l=e-i){for(var a=r;i<e;){var s=this._nextDate(a,"day",n);s.setHours(0),s.setMinutes(0),s.setSeconds(0);var u=0;if(i+(u=n>0?this.getHoursPerDay(new Date(s.valueOf()-1)):this.getHoursPerDay(new Date(s.valueOf()+1)))>=e)break;i+=u,a=s}r=a}if(i<e){var l=e-i;r=(o=this._addHoursUntilDayEnd(r,l)).end}return r},_addMinutesUntilHourEnd:function(t,e){if(0===t.getMinutes())return{added:0,end:new Date(t)};for(var n=this.$gantt.date.add(this.$gantt.date.hour_start(new Date(t)),1,"hour"),r=0,i=e,o=this._getIntervalTimestamp(t,n),a=this._getWorkHours(t),s=0;s<a.length&&r<e;s++){var u=a[s];if(o.end>=u.start&&o.start<=u.end){var l=Math.max(u.start,o.start),c=Math.min(u.end,o.end),h=(c-l)/60;h>i&&(h=i,c=l+60*i);var f=Math.round((c-l)/60);i-=f,r+=f,o.start=c}}var d=n;return r===e&&(d=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,o.start)),{added:r,end:d}},_subtractMinutesUntilHourStart:function(t,e){for(var n=this.$gantt.date.hour_start(new Date(t)),r=0,i=e,o=60*n.getHours()*60+60*n.getMinutes()+n.getSeconds(),a=60*t.getHours()*60+60*t.getMinutes()+t.getSeconds(),s=this._getWorkHours(t),u=s.length-1;u>=0&&r<e;u--){var l=s[u];if(a>l.start&&o<=l.end){var c=Math.min(a,l.end),h=Math.max(o,l.start),f=(c-h)/60;f>i&&(f=i,h=c-60*i);var d=Math.abs(Math.round((c-h)/60));i-=d,r+=d,a=h}}var p=n;return r===e&&(p=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,a)),{added:r,end:p}},_subtractMinuteDate:function(t,e,n){var r=new Date(t),i=0;n=n||-1,e=Math.abs(1*e),e=Math.round(e);var o=this._subtractMinutesUntilHourStart(r,e);i+=o.added,r=o.end;for(var a=0,s=[],u=0;i<e;){var l=this.$gantt.date.day_start(new Date(r)),c=!1;r.valueOf()===l.valueOf()&&(l=this.$gantt.date.add(l,-1,"day"),c=!0);var h=new Date(l.getFullYear(),l.getMonth(),l.getDate(),23,59,59,999).valueOf();h!==a&&(s=this._getWorkHours(l),u=this._getMinutesPerDay(l),a=h);var f=e-i,d=this._getTimeOfDayStamp(r,c);if(s.length&&u)if(s[s.length-1].end<=d&&f>u)i+=u,r=this.$gantt.date.add(r,-1,"day");else{for(var p=!1,g=null,v=s.length-1;v>=0;v--)if(s[v].start<d-1&&s[v].end>=d-1){p=!0,g=s[v];break}if(p)if(d===g.end&&f>=g.durationMinutes)i+=g.durationMinutes,r=this.$gantt.date.add(r,-g.durationMinutes,"minute");else if(f<=d/60-g.startMinute)i+=f,r=this.$gantt.date.add(r,-f,"minute");else{var _=this._getMinutesPerHour(r);_<=f?(i+=_,r=this._nextDate(r,"hour",n)):(i+=(o=this._subtractMinutesUntilHourStart(r,f)).added,r=o.end)}else if(0===r.getHours()&&0===r.getMinutes()&&0===r.getSeconds()){if((m=this._getClosestWorkTimePast(r,"hour")).valueOf()===r.valueOf()){var m=this.$gantt.date.add(r,-1,"day"),y=this._getWorkHours(m);if(y.length){var b=y[y.length-1];m.setSeconds(b.durationSeconds)}}r=m}else r=this._getClosestWorkTimePast(new Date(r-1),"hour")}else r=this.$gantt.date.add(r,-1,"day")}if(i<e){var w=e-i;i+=(o=this._subtractMinutesUntilHourStart(r,w)).added,r=o.end}return r},_calculateMinuteEndDate:function(t,e,n){var r=new Date(t),i=0;n=n||1,e=Math.abs(1*e),e=Math.round(e);var o=this._addMinutesUntilHourEnd(r,e);i+=o.added,r=o.end;for(var a=0,s=[],u=0;i<e;){var l=this.$gantt.date.day_start(new Date(r)).valueOf();l!==a&&(s=this._getWorkHours(r),u=this._getMinutesPerDay(r),a=l);var c=e-i,h=this._getTimeOfDayStamp(r);if(s.length&&u)if(s[0].start>=h&&c>=u){if(i+=u,c==u){r=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,s[s.length-1].end);break}r=this.$gantt.date.add(r,1,"day"),r=this.$gantt.date.day_start(r)}else{for(var f=!1,d=null,p=0;p<s.length;p++)if(s[p].start<=h&&s[p].end>h){f=!0,d=s[p];break}if(f)if(h===d.start&&c>=d.durationMinutes)i+=d.durationMinutes,r=this.$gantt.date.add(r,d.durationMinutes,"minute");else if(c<=d.endMinute-h/60)i+=c,r=this.$gantt.date.add(r,c,"minute");else{var g=this._getMinutesPerHour(r);g<=c?(i+=g,r=this._nextDate(r,"hour",n)):(i+=(o=this._addMinutesUntilHourEnd(r,c)).added,r=o.end)}else r=this._getClosestWorkTimeFuture(r,"hour")}else r=this.$gantt.date.add(this.$gantt.date.day_start(r),1,"day")}if(i<e){var v=e-i;i+=(o=this._addMinutesUntilHourEnd(r,v)).added,r=o.end}return r},getClosestWorkTime:function(){var t=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getClosestWorkTime(t.date,t.unit,t.dir)},_getClosestWorkTime:function(t,e,n){var r=new Date(t);if(this._isWorkTime(r,e))return r;if(r=this.$gantt.date[e+"_start"](r),"any"!=n&&n)r="past"==n?this._getClosestWorkTimePast(r,e):this._getClosestWorkTimeFuture(r,e);else{var i=this._getClosestWorkTimeFuture(r,e),o=this._getClosestWorkTimePast(r,e);r=Math.abs(i-t)<=Math.abs(t-o)?i:o}return r},_getClosestWorkTimeFuture:function(t,e){return this._getClosestWorkTimeGeneric(t,e,1)},_getClosestWorkTimePast:function(t,e){var n=this._getClosestWorkTimeGeneric(t,e,-1);return this.$gantt.date.add(n,1,e)},_findClosestTimeInDay:function(t,e,n){var r=new Date(t),i=null,o=!1;this._getWorkHours(r).length||(r=this._getClosestWorkTime(r,"day",e<0?"past":"future"),e<0&&(r=new Date(r.valueOf()-1),o=!0),n=this._getWorkHours(r));var a=this._getTimeOfDayStamp(r);if(o&&(a=this._getTimeOfDayStamp(new Date(r.valueOf()+1),o)),e>0){for(var s=0;s<n.length;s++)if(n[s].start>=a){i=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,n[s].start);break}}else for(s=n.length-1;s>=0;s--){if(n[s].end<=a){i=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,n[s].end);break}if(n[s].end>a&&n[s].start<=a){i=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,a);break}}return i},_getClosestWorkMinute:function(t,e,n){var r=new Date(t),i=this._getWorkHours(r),o=this._findClosestTimeInDay(r,n,i);return o||(r=this.calculateEndDate(r,n,"day"),n>0?r=this.$gantt.date.day_start(r):(r=this.$gantt.date.day_start(r),r=this.$gantt.date.add(r,1,"day"),r=new Date(r.valueOf()-1)),i=this._getWorkHours(r),o=this._findClosestTimeInDay(r,n,i)),n<0&&(o=this.$gantt.date.add(o,-1,e)),o},_getClosestWorkTimeGeneric:function(t,e,n){if("hour"===e||"minute"===e)return this._getClosestWorkMinute(t,e,n);for(var r=this._getUnitOrder(e),i=this.units[r-1],o=t,a=0;!this._isWorkTime(o,e)&&(!i||this._isWorkTime(o,i)||(o=n>0?this._getClosestWorkTimeFuture(o,i):this._getClosestWorkTimePast(o,i),!this._isWorkTime(o,e)));){if(++a>3e3)return this.$gantt.assert(!1,"Invalid working time check"),!1;var s=o.getTimezoneOffset();o=this.$gantt.date.add(o,n,e),o=this.$gantt._correct_dst_change(o,s,n,e),this.$gantt.date[e+"_start"]&&(o=this.$gantt.date[e+"_start"](o))}return o},hasWorkTime:function(){var t=this.getConfig(),e=t.dates,n=[];for(var r in t.dates)Number(r)>6&&n.push(Number(r));var i=this._checkWorkHours(t.hours),o=!1;return[0,1,2,3,4,5,6].forEach(function(t){if(!o){var n=e[t];!0===n?o=i:Array.isArray(n)&&(o=this._checkWorkHours(n))}}.bind(this)),o},_checkWorkHours:function(t){if(0===t.length)return!1;for(var e=!1,n=0;n<t.length;n+=2)t[n]!==t[n+1]&&(e=!0);return e}},t.exports=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkUnitsMapCache=void 0;var r=function(){function t(){this.clear()}return t.prototype.getItem=function(t,e,n){if(this._cache.has(t)){var r=this._cache.get(t)[n.getFullYear()];if(r&&r.has(e))return r.get(e)}return-1},t.prototype.setItem=function(t,e,n,r){if(t&&e){var i,o=this._cache,a=r.getFullYear();o.has(t)?i=o.get(t):(i=[],o.set(t,i));var s=i[a];s||(s=i[a]=new Map),s.set(e,n)}},t.prototype.clear=function(){this._cache=new Map},t}();e.WorkUnitsMapCache=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkUnitsObjectCache=void 0;var r=function(){function t(){this.clear()}return t.prototype.getItem=function(t,e,n){var r=this._cache;if(r&&r[t]){var i=r[t];if(void 0===i)return-1;var o=i[n.getFullYear()];if(o&&void 0!==o[e])return o[e]}return-1},t.prototype.setItem=function(t,e,n,r){if(t&&e){var i=this._cache;if(i){i[t]||(i[t]=[]);var o=i[t],a=r.getFullYear(),s=o[a];s||(s=o[a]={}),s[e]=n}}},t.prototype.clear=function(){this._cache={}},t}();e.WorkUnitsObjectCache=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LargerUnitsCache=void 0;var r=function(t){var e=this;this.getMinutesPerWeek=function(t){var n=t.valueOf();if(e._weekCache.has(n))return e._weekCache.get(n);for(var r=e._calendar,i=e._calendar.$gantt,o=0,a=i.date.week_start(new Date(t)),s=0;s<7;s++)o+=60*r.getHoursPerDay(a),a=i.date.add(a,1,"day");return e._weekCache.set(n,o),o},this.getMinutesPerMonth=function(t){var n=t.valueOf();if(e._monthCache.has(n))return e._monthCache.get(n);for(var r=e._calendar,i=e._calendar.$gantt,o=0,a=i.date.week_start(new Date(t)),s=i.date.add(a,1,"month").valueOf();a.valueOf()<s;)o+=60*r.getHoursPerDay(a),a=i.date.add(a,1,"day");return e._monthCache.set(n,o),o},this.clear=function(){e._weekCache=new Map,e._monthCache=new Map},this.clear(),this._calendar=t};e.LargerUnitsCache=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DateDurationCache=void 0;var r=function(){function t(){this.clear()}return t.prototype._getCacheObject=function(t,e,n){var r=this._cache;r[e]||(r[e]=[]);var i=r[e];i||(i=r[e]={});var o=i[n];o||(o=i[n]={});var a=t.getFullYear(),s=o[a];return s||(s=o[a]={durations:{},endDates:{}}),s},t.prototype._endDateCacheKey=function(t,e){return String(t)+"-"+String(e)},t.prototype._durationCacheKey=function(t,e){return String(t)+"-"+String(e)},t.prototype.getEndDate=function(t,e,n,r,i){var o,a=this._getCacheObject(t,n,r),s=t.valueOf(),u=this._endDateCacheKey(s,e);if(void 0===a.endDates[u]){var l=i(),c=l.valueOf();a.endDates[u]=c,a.durations[this._durationCacheKey(s,c)]=e,o=l}else o=new Date(a.endDates[u]);return o},t.prototype.getDuration=function(t,e,n,r,i){var o,a=this._getCacheObject(t,n,r),s=t.valueOf(),u=e.valueOf(),l=this._durationCacheKey(s,u);if(void 0===a.durations[l]){var c=i();a.durations[l]=c.valueOf(),o=c}else o=a.durations[l];return o},t.prototype.clear=function(){this._cache={}},t}();e.DateDurationCache=r},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports={isLegacyResourceCalendarFormat:function(t){if(!t)return!1;for(var e in t)if(t[e]&&"object"===n(t[e]))return!0;return!1},getResourceProperty:function(t){var e=t.resource_calendars,n=t.resource_property;if(this.isLegacyResourceCalendarFormat(e))for(var r in t){n=r;break}return n},getCalendarIdFromLegacyConfig:function(t,e){if(e)for(var n in e){var r=e[n];if(t[n]){var i=r[t[n]];if(i)return i}}return null}}},function(t,e){t.exports=function(){var t={};return{getCalendarIdFromMultipleResources:function(e,n){var r=function(t){return t.map((function(t){return t&&t.resource_id?t.resource_id:t})).sort().join("-")}(e);if(e.length){if(1===e.length)return n.getResourceCalendar(r).id;if(t[r])return t[r].id;var i=function(t,e){return e.mergeCalendars(t.map((function(t){var n=t&&t.resource_id?t.resource_id:t;return e.getResourceCalendar(n)})))}(e,n);return t[r]=i,n.addCalendar(i)}return null}}}},function(t,e,n){var r=n(39),i=n(152);function o(t){this.$gantt=t.$gantt,this.argumentsHelper=r(this.$gantt),this.calendarManager=t,this.$disabledCalendar=new i(this.$gantt,this.argumentsHelper)}o.prototype={_getCalendar:function(t){var e;if(this.$gantt.config.work_time){var n=this.calendarManager;t.task?e=n.getTaskCalendar(t.task):t.id?e=n.getTaskCalendar(t):t.calendar&&(e=t.calendar),e||(e=n.getTaskCalendar())}else e=this.$disabledCalendar;return e},getWorkHours:function(t){return t=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments),this._getCalendar(t).getWorkHours(t.date)},setWorkTime:function(t,e){return t=this.argumentsHelper.setWorkTimeArguments.apply(this.argumentsHelper,arguments),e||(e=this.calendarManager.getCalendar()),e.setWorkTime(t)},unsetWorkTime:function(t,e){return t=this.argumentsHelper.unsetWorkTimeArguments.apply(this.argumentsHelper,arguments),e||(e=this.calendarManager.getCalendar()),e.unsetWorkTime(t)},isWorkTime:function(t,e,n,r){var i=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(i).isWorkTime(i)},getClosestWorkTime:function(t){return t=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments),this._getCalendar(t).getClosestWorkTime(t)},calculateDuration:function(){var t=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(t).calculateDuration(t)},hasDuration:function(){var t=this.argumentsHelper.hasDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(t).hasDuration(t)},calculateEndDate:function(t){return t=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),this._getCalendar(t).calculateEndDate(t)}},t.exports=o},function(t,e){function n(t,e){this.argumentsHelper=e,this.$gantt=t}n.prototype={getWorkHours:function(){return[0,24]},setWorkTime:function(){return!0},unsetWorkTime:function(){return!0},isWorkTime:function(){return!0},getClosestWorkTime:function(t){return this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments).date},calculateDuration:function(){var t=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),e=t.start_date,n=t.end_date,r=t.unit,i=t.step;return this._calculateDuration(e,n,r,i)},_calculateDuration:function(t,e,n,r){var i=this.$gantt.date,o={week:6048e5,day:864e5,hour:36e5,minute:6e4},a=0;if(o[n])a=Math.round((e-t)/(r*o[n]));else{for(var s=new Date(t),u=new Date(e);s.valueOf()<u.valueOf();)a+=1,s=i.add(s,r,n);s.valueOf()!=e.valueOf()&&(a+=(u-s)/(i.add(s,r,n)-s))}return Math.round(a)},hasDuration:function(){var t=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),e=t.start_date,n=t.end_date;return!!t.unit&&(e=new Date(e),n=new Date(n),e.valueOf()<n.valueOf())},hasWorkTime:function(){return!0},equals:function(t){return t instanceof n},calculateEndDate:function(){var t=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),e=t.start_date,n=t.duration,r=t.unit,i=t.step;return this.$gantt.date.add(e,i*n,r)}},t.exports=n},function(t,e,n){var r=n(0);t.exports={create:function(t,e){return{getWorkHours:function(t){return e.getWorkHours(t)},setWorkTime:function(t){return e.setWorkTime(t)},unsetWorkTime:function(t){e.unsetWorkTime(t)},isWorkTime:function(t,n,r){return e.isWorkTime(t,n,r)},getClosestWorkTime:function(t){return e.getClosestWorkTime(t)},calculateDuration:function(t,n,r){return e.calculateDuration(t,n,r)},_hasDuration:function(t,n,r){return e.hasDuration(t,n,r)},calculateEndDate:function(t,n,r,i){return e.calculateEndDate(t,n,r,i)},mergeCalendars:r.bind(t.mergeCalendars,t),createCalendar:r.bind(t.createCalendar,t),addCalendar:r.bind(t.addCalendar,t),getCalendar:r.bind(t.getCalendar,t),getCalendars:r.bind(t.getCalendars,t),getResourceCalendar:r.bind(t.getResourceCalendar,t),getTaskCalendar:r.bind(t.getTaskCalendar,t),deleteCalendar:r.bind(t.deleteCalendar,t)}}}},function(t,e,n){var r=n(2);t.exports=function(t){t.isUnscheduledTask=function(e){return t.assert(e&&e instanceof Object,"Invalid argument <b>task</b>="+e+" of gantt.isUnscheduledTask. Task object was expected"),!!e.unscheduled||!e.start_date},t._isAllowedUnscheduledTask=function(e){return!(!e.unscheduled||!t.config.show_unscheduled)},t._isTaskInTimelineLimits=function(t){var e=t.start_date?t.start_date.valueOf():null,n=t.end_date?t.end_date.valueOf():null;return!!(e&&n&&e<=this._max_date.valueOf()&&n>=this._min_date.valueOf())},t.isTaskVisible=function(t){if(!this.isTaskExists(t))return!1;var e=this.getTask(t);return!(!this._isAllowedUnscheduledTask(e)&&!this._isTaskInTimelineLimits(e))&&!!(this.getGlobalTaskIndex(t)>=0)},t._getProjectEnd=function(){if(t.config.project_end)return t.config.project_end;var e=t.getTaskByTime();return(e=e.sort((function(t,e){return+t.end_date>+e.end_date?1:-1}))).length?e[e.length-1].end_date:null},t._getProjectStart=function(){if(t.config.project_start)return t.config.project_start;if(t.config.start_date)return t.config.start_date;if(t.getState().min_date)return t.getState().min_date;var e=t.getTaskByTime();return(e=e.sort((function(t,e){return+t.start_date>+e.start_date?1:-1}))).length?e[0].start_date:null};var e=function(e,n){var r=!(!n||n==t.config.root_id||!t.isTaskExists(n))&&t.getTask(n),i=null;if(r)i=t.config.schedule_from_end?t.calculateEndDate({start_date:r.end_date,duration:-t.config.duration_step,task:e}):r.start_date;else if(t.config.schedule_from_end)i=t.calculateEndDate({start_date:t._getProjectEnd(),duration:-t.config.duration_step,task:e});else{var o=t.getTaskByIndex(0);i=o?o.start_date?o.start_date:o.end_date?t.calculateEndDate({start_date:o.end_date,duration:-t.config.duration_step,task:e}):null:t.config.start_date||t.getState().min_date}return t.assert(i,"Invalid dates"),new Date(i)};t._set_default_task_timing=function(n){n.start_date=n.start_date||e(n,t.getParent(n)),n.duration=n.duration||t.config.duration_step,n.end_date=n.end_date||t.calculateEndDate(n)},t.createTask=function(n,r,i){return n=n||{},t.defined(n.id)||(n.id=t.uid()),n.start_date||(n.start_date=e(n,r)),void 0===n.text&&(n.text=t.locale.labels.new_task),void 0===n.duration&&(n.duration=1),this.isTaskExists(r)&&(this.setParent(n,r,!0),this.getTask(r).$open=!0),this.callEvent("onTaskCreated",[n])?(this.config.details_on_create?(t.isTaskExists(n.id)?t.getTask(n.id).$index!=n.$index&&(n.start_date&&"string"==typeof n.start_date&&(n.start_date=this.date.parseDate(n.start_date,"parse_date")),n.end_date&&"string"==typeof n.end_date&&(n.end_date=this.date.parseDate(n.end_date,"parse_date")),this.$data.tasksStore.updateItem(n.id,n)):(n.$new=!0,this.silent((function(){t.$data.tasksStore.addItem(n,i)}))),this.selectTask(n.id),this.refreshData(),this.showLightbox(n.id)):this.addTask(n,r,i)&&(this.showTask(n.id),this.selectTask(n.id)),n.id):null},t._update_flags=function(e,n){var r=t.$data.tasksStore;void 0===e?(this._lightbox_id=null,r.silent((function(){r.unselect()})),this.getSelectedTasks&&this._multiselect.reset(),this._tasks_dnd&&this._tasks_dnd.drag&&(this._tasks_dnd.drag.id=null)):(this._lightbox_id==e&&(this._lightbox_id=n),r.getSelectedId()==e&&r.silent((function(){r.unselect(e),r.select(n)})),this._tasks_dnd&&this._tasks_dnd.drag&&this._tasks_dnd.drag.id==e&&(this._tasks_dnd.drag.id=n))};var n=function(e,n){var r=t.getTaskType(e.type),i={type:r,$no_start:!1,$no_end:!1};return n||r!=e.$rendered_type?(r==t.config.types.project?i.$no_end=i.$no_start=!0:r!=t.config.types.milestone&&(i.$no_end=!(e.end_date||e.duration),i.$no_start=!e.start_date,t._isAllowedUnscheduledTask(e)&&(i.$no_end=i.$no_start=!1)),i):(i.$no_start=e.$no_start,i.$no_end=e.$no_end,i)};function i(e){e.$effective_calendar=t.getTaskCalendar(e).id,e.start_date=t.getClosestWorkTime({dir:"future",date:e.start_date,unit:t.config.duration_unit,task:e}),e.end_date=t.calculateEndDate(e)}function o(e){var n=null,r=null,i=void 0!==e?e:t.config.root_id,o=[];return t.eachTask((function(e){t.getTaskType(e.type)==t.config.types.project||t.isUnscheduledTask(e)||(e.rollup&&o.push(e.id),e.start_date&&!e.$no_start&&(!n||n>e.start_date.valueOf())&&(n=e.start_date.valueOf()),e.end_date&&!e.$no_end&&(!r||r<e.end_date.valueOf())&&(r=e.end_date.valueOf()))}),i),{start_date:n?new Date(n):null,end_date:r?new Date(r):null,rollup:o}}t._init_task_timing=function(t){var e=n(t,!0),r=t.$rendered_type!=e.type,o=e.type;r&&(t.$no_start=e.$no_start,t.$no_end=e.$no_end,t.$rendered_type=e.type),r&&o!=this.config.types.milestone&&o==this.config.types.project&&(this._set_default_task_timing(t),t.$calculate_duration=!1),o==this.config.types.milestone&&(t.end_date=t.start_date),t.start_date&&t.end_date&&!1!==t.$calculate_duration&&(t.duration=this.calculateDuration(t)),t.$calculate_duration||(t.$calculate_duration=!0),t.end_date||(t.end_date=t.start_date),t.duration=t.duration||0,0===this.config.min_duration&&0===t.duration&&(t.$no_end=!1);var a=this.getTaskCalendar(t);t.$effective_calendar&&t.$effective_calendar!==a.id&&(i(t),this.config.inherit_calendar&&this.isSummaryTask(t)&&this.eachTask((function(t){i(t)}),t.id)),t.$effective_calendar=a.id},t.isSummaryTask=function(e){t.assert(e&&e instanceof Object,"Invalid argument <b>task</b>="+e+" of gantt.isSummaryTask. Task object was expected");var r=n(e);return!(!r.$no_end&&!r.$no_start)},t.resetProjectDates=function(t){var r=n(t);if(r.$no_end||r.$no_start){var i=o(t.id);(function(t,n,r,i){n.$no_start&&(t.start_date=r?new Date(r):e(t,this.getParent(t))),n.$no_end&&(t.end_date=i?new Date(i):this.calculateEndDate({start_date:t.start_date,duration:this.config.duration_step,task:t})),(n.$no_start||n.$no_end)&&this._init_task_timing(t)}).call(this,t,r,i.start_date,i.end_date),t.$rollup=i.rollup}},t.getSubtaskDuration=function(e){var n=0,r=void 0!==e?e:t.config.root_id;return this.eachTask((function(e){this.getTaskType(e.type)==t.config.types.project||this.isUnscheduledTask(e)||(n+=e.duration)}),r),n},t.getSubtaskDates=function(t){var e=o(t);return{start_date:e.start_date,end_date:e.end_date}},t._update_parents=function(e,r,i){if(e){var o=this.getTask(e);o.rollup&&(i=!0);var a=this.getParent(o),s=n(o),u=!0;if(i||o.start_date&&o.end_date&&(s.$no_start||s.$no_end)){var l=o.start_date.valueOf(),c=o.end_date.valueOf();t.resetProjectDates(o),i||l!=o.start_date.valueOf()||c!=o.end_date.valueOf()||(u=!1),u&&!r&&this.refreshTask(o.id,!0)}u&&a&&this.isTaskExists(a)&&this._update_parents(a,r,i)}},t.roundDate=function(e){var n=t.getScale();r.isDate(e)&&(e={date:e,unit:n?n.unit:t.config.duration_unit,step:n?n.step:t.config.duration_step});var i,o,a,s=e.date,u=e.step,l=e.unit;if(!n)return s;if(l==n.unit&&u==n.step&&+s>=+n.min_date&&+s<=+n.max_date)a=Math.floor(t.columnIndexByDate(s)),n.trace_x[a]||(a-=1,n.rtl&&(a=0)),o=new Date(n.trace_x[a]),i=t.date.add(o,u,l);else{for(a=Math.floor(t.columnIndexByDate(s)),i=t.date[l+"_start"](new Date(n.min_date)),n.trace_x[a]&&(i=t.date[l+"_start"](n.trace_x[a]));+i<+s;){var c=(i=t.date[l+"_start"](t.date.add(i,u,l))).getTimezoneOffset();i=t._correct_dst_change(i,c,i,l),t.date[l+"_start"]&&(i=t.date[l+"_start"](i))}o=t.date.add(i,-1*u,l)}return e.dir&&"future"==e.dir?i:e.dir&&"past"==e.dir||Math.abs(s-o)<Math.abs(i-s)?o:i},t.correctTaskWorkTime=function(e){t.config.work_time&&t.config.correct_work_time&&(this.isWorkTime(e.start_date,void 0,e)?this.isWorkTime(new Date(+e.end_date-1),void 0,e)||(e.end_date=this.calculateEndDate(e)):(e.start_date=this.getClosestWorkTime({date:e.start_date,dir:"future",task:e}),e.end_date=this.calculateEndDate(e)))},t.attachEvent("onBeforeTaskUpdate",(function(e,n){return t._init_task_timing(n),!0})),t.attachEvent("onBeforeTaskAdd",(function(e,n){return t._init_task_timing(n),!0})),t.attachEvent("onAfterTaskMove",(function(e,n,r){return t._init_task_timing(t.getTask(e)),!0}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){t.getTaskType=function(e){var r=e;for(var i in e&&"object"==n(e)&&(r=e.type),this.config.types)if(this.config.types[i]==r)return r;return t.config.types.task}}},function(t,e){t.exports=function(t){function e(){return t._cached_functions.update_if_changed(t),t._cached_functions.active||t._cached_functions.activate(),!0}t._cached_functions={cache:{},mode:!1,critical_path_mode:!1,wrap_methods:function(t,e){if(e._prefetch_originals)for(var n in e._prefetch_originals)e[n]=e._prefetch_originals[n];for(e._prefetch_originals={},n=0;n<t.length;n++)this.prefetch(t[n],e)},prefetch:function(t,e){var n=e[t];if(n){var r=this;e._prefetch_originals[t]=n,e[t]=function(){for(var e=new Array(arguments.length),i=0,o=arguments.length;i<o;i++)e[i]=arguments[i];if(r.active){var a=r.get_arguments_hash(Array.prototype.slice.call(e));r.cache[t]||(r.cache[t]={});var s=r.cache[t];if(r.has_cached_value(s,a))return r.get_cached_value(s,a);var u=n.apply(this,e);return r.cache_value(s,a,u),u}return n.apply(this,e)}}return n},cache_value:function(t,e,n){this.is_date(n)&&(n=new Date(n)),t[e]=n},has_cached_value:function(t,e){return t.hasOwnProperty(e)},get_cached_value:function(t,e){var n=t[e];return this.is_date(n)&&(n=new Date(n)),n},is_date:function(t){return t&&t.getUTCDate},get_arguments_hash:function(t){for(var e=[],n=0;n<t.length;n++)e.push(this.stringify_argument(t[n]));return"("+e.join(";")+")"},stringify_argument:function(t){return(t.id?t.id:this.is_date(t)?t.valueOf():t)+""},activate:function(){this.clear(),this.active=!0},deactivate:function(){this.clear(),this.active=!1},clear:function(){this.cache={}},setup:function(t){var e=[],n=["_isProjectEnd","_getProjectEnd","_getSlack"];"auto"==this.mode?t.config.highlight_critical_path&&(e=n):!0===this.mode&&(e=n),this.wrap_methods(e,t)},update_if_changed:function(t){(this.critical_path_mode!=t.config.highlight_critical_path||this.mode!==t.config.optimize_render)&&(this.critical_path_mode=t.config.highlight_critical_path,this.mode=t.config.optimize_render,this.setup(t))}},t.attachEvent("onBeforeGanttRender",e),t.attachEvent("onBeforeDataRender",e),t.attachEvent("onBeforeSmartRender",(function(){e()})),t.attachEvent("onBeforeParse",e),t.attachEvent("onDataRender",(function(){t._cached_functions.deactivate()}));var n=null;t.attachEvent("onSmartRender",(function(){n&&clearTimeout(n),n=setTimeout((function(){t._cached_functions.deactivate()}),1e3)})),t.attachEvent("onBeforeGanttReady",(function(){return t._cached_functions.update_if_changed(t),!0}))}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(1),o=n(2),a=n(10),s=n(159);t.exports=function(t){var e=n(35);t.assert=n(160)(t);var u="Invalid value of the first argument of `gantt.init`. Supported values: HTMLElement, String (element id).This error means that either invalid object is passed into `gantt.init` or that the element with the specified ID doesn't exist on the page when `gantt.init` is called.";function l(e){if(!e||"string"==typeof e&&document.getElementById(e))return!0;if(function(t){try{t.cloneNode(!1)}catch(t){return!1}return!0}(e))return!0;throw t.assert(!1,u),new Error(u)}t.init=function(e,n,r){t.env.isNode?e=null:l(e),n&&r&&(this.config.start_date=this._min_date=new Date(n),this.config.end_date=this._max_date=new Date(r)),this.date.init(),this.init=function(e){t.env.isNode?e=null:l(e),this.$container&&this.$container.parentNode&&(this.$container.parentNode.removeChild(this.$container),this.$container=null),this.$layout&&this.$layout.clear(),this._reinit(e)},this._reinit(e)},t._quickRefresh=function(t){for(var e=this._getDatastores.call(this),n=0;n<e.length;n++)e[n]._quick_refresh=!0;for(t(),n=0;n<e.length;n++)e[n]._quick_refresh=!1};var c=function(){this._clearTaskLayers&&this._clearTaskLayers(),this._clearLinkLayers&&this._clearLinkLayers(),this.$layout&&(this.$layout.destructor(),this.$layout=null,this.$ui.reset())}.bind(t),h=function(){a(t)||(this.$root.innerHTML="",this.$root.gantt=this,e(this),this.config.layout.id="main",this.$layout=this.$ui.createView("layout",this.$root,this.config.layout),this.$layout.attachEvent("onBeforeResize",(function(){for(var e=t.$services.getService("datastores"),n=0;n<e.length;n++)t.getDatastore(e[n]).filter(),t.getDatastore(e[n]).callEvent("onBeforeRefreshAll",[])})),this.$layout.attachEvent("onResize",(function(){t._quickRefresh((function(){t.refreshData()}))})),this.callEvent("onGanttLayoutReady",[]),this.$layout.render(),this.$container=this.$layout.$container.firstChild,s(this))}.bind(t);t.resetLayout=function(){c(),h(),this.render()},t._reinit=function(t){this.callEvent("onBeforeGanttReady",[]),this._update_flags(),this.$services.getService("templateLoader").initTemplates(this),c(),this.$root=null,t&&(this.$root=i.toNode(t),h(),this.$mouseEvents.reset(this.$root)),this.callEvent("onTemplatesReady",[]),this.callEvent("onGanttReady",[]),this.render()},t.$click={buttons:{edit:function(e){t.isReadonly(t.getTask(e))||t.showLightbox(e)},delete:function(e){var n=t.getTask(e);if(!t.isReadonly(n)){var r=t.locale.labels.confirm_deleting,i=t.locale.labels.confirm_deleting_title;t._dhtmlx_confirm(r,i,(function(){t.isTaskExists(e)?(n.$new?(t.silent((function(){t.deleteTask(e,!0)})),t.refreshData()):t.deleteTask(e),t.hideLightbox()):t.hideLightbox()}))}}}},t.render=function(){var n;if(this.callEvent("onBeforeGanttRender",[]),!a(t)){!this.config.sort&&this._sort&&(this._sort=void 0),this.$root&&(this.config.rtl?(this.$root.classList.add("gantt_rtl"),this.$root.firstChild.classList.add("gantt_rtl")):(this.$root.classList.remove("gantt_rtl"),this.$root.firstChild.classList.remove("gantt_rtl")));var r=this.getScrollState(),i=r?r.x:0;this._getHorizontalScrollbar()&&(i=this._getHorizontalScrollbar().$config.codeScrollLeft||i||0),n=null,i&&(n=t.dateFromPos(i+this.config.task_scroll_offset))}if(e(this),a(t))t.refreshData();else{this.$layout.$config.autosize=this.config.autosize;var o=this.config.preserve_scroll;if(this.config.preserve_scroll=!1,this.$layout.resize(),this.config.preserve_scroll=o,this.config.preserve_scroll&&r){if(i||r.y){var s=t.getScrollState();if(+n!=+t.dateFromPos(s.x)||s.y!=r.y){i=null;var u=null;n&&(i=Math.max(t.posFromDate(n)-t.config.task_scroll_offset,0)),r.y&&(u=r.y),t.scrollTo(i,u)}}var l=t.$ui.getView("grid");if(l){var c=l.$config.scrollY,h=t.$ui.getView(c);h&&(t.utils.dom.isChildOf(h.$view,t.$container)||l.scrollTo(void 0,0))}}}this.callEvent("onGanttRender",[])},t.setSizes=t.render,t.getTaskRowNode=function(t){for(var e=this.$grid_data.childNodes,n=this.config.task_attribute,r=0;r<e.length;r++)if(e[r].getAttribute&&e[r].getAttribute(n)==t)return e[r];return null},t.changeLightboxType=function(e){if(this.getLightboxType()==e)return!0;t._silent_redraw_lightbox(e)},t._get_link_type=function(e,n){var r=null;return e&&n?r=t.config.links.start_to_start:!e&&n?r=t.config.links.finish_to_start:e||n?e&&!n&&(r=t.config.links.start_to_finish):r=t.config.links.finish_to_finish,r},t.isLinkAllowed=function(t,e,n,i){var o=null;if(!(o="object"==r(t)?t:{source:t,target:e,type:this._get_link_type(n,i)}))return!1;if(!(o.source&&o.target&&o.type))return!1;if(o.source==o.target)return!1;var a=!0;return this.checkEvent("onLinkValidation")&&(a=this.callEvent("onLinkValidation",[o])),a},t._correct_dst_change=function(e,n,r,i){var a=o.getSecondsInUnit(i)*r;if(a>3600&&a<86400){var s=e.getTimezoneOffset()-n;s&&(e=t.date.add(e,s,"minute"))}return e},t.isSplitTask=function(e){return t.assert(e&&e instanceof Object,"Invalid argument <b>task</b>="+e+" of gantt.isSplitTask. Task object was expected"),this.$data.tasksStore._isSplitItem(e)},t._is_icon_open_click=function(t){if(!t)return!1;var e=t.target||t.srcElement;if(!e||!e.className)return!1;var n=i.getClassName(e);return-1!==n.indexOf("gantt_tree_icon")&&(-1!==n.indexOf("gantt_close")||-1!==n.indexOf("gantt_open"))}}},function(t,e){function n(t,e){var n,r=t.config.container_resize_timeout||20;if("timeout"==t.config.container_resize_method)s();else try{t.event(e,"resize",(function(){t.$scrollbarRepaint?t.$scrollbarRepaint=null:i()}))}catch(t){s()}function i(){clearTimeout(n),n=setTimeout((function(){t.$destroyed||t.render()}),r)}var o=t.$root.offsetHeight,a=t.$root.offsetWidth;function s(){t.$root.offsetHeight==o&&t.$root.offsetWidth==a||i(),o=t.$root.offsetHeight,a=t.$root.offsetWidth,setTimeout(s,r)}}t.exports=function(t){"static"==window.getComputedStyle(t.$root).getPropertyValue("position")&&(t.$root.style.position="relative");var e=document.createElement("iframe");e.className="gantt_container_resize_watcher",e.tabIndex=-1,t.config.wai_aria_attributes&&(e.setAttribute("role","none"),e.setAttribute("aria-hidden",!0)),(!!window.Sfdc||!!window.$A||window.Aura)&&(t.config.container_resize_method="timeout"),t.$root.appendChild(e),e.contentWindow?n(t,e.contentWindow):(t.$root.removeChild(e),n(t,window))}},function(t,e){t.exports=function(t){return function(e,n){e||t.config.show_errors&&!1!==t.callEvent("onError",[n])&&(t.message?t.message({type:"error",text:n,expire:-1}):console.log(n))}}},function(t,e){t.exports=function(t){t.destructor=function(){for(var t in this.clearAll(),this.callEvent("onDestroy",[]),this.$root&&delete this.$root.gantt,this._eventRemoveAll&&this._eventRemoveAll(),this.$layout&&this.$layout.destructor(),this.resetLightbox&&this.resetLightbox(),this._dp&&this._dp.destructor&&this._dp.destructor(),this.$services.destructor(),this.detachAllEvents(),this)0===t.indexOf("$")&&delete this[t];this.$destroyed=!0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(164),i=n(165),o=n(166),a=n(167),s=n(168),u=n(169),l=n(170),c=n(171),h=n(172),f=n(173),d=n(174),p=n(175),g=n(176),v=n(177),_=n(178),m=n(179),y=n(180),b=n(181),w=n(182),k=n(183),S=n(184),T=n(185),E=n(186),x=n(187),I=n(188),C=n(189),N=n(190),A=n(191),D=n(192),$=n(193),P=n(194),O=n(195),M=n(196);e.default=function(){return new S.default({en:h.default,ar:r.default,be:i.default,ca:o.default,cn:a.default,cs:s.default,da:u.default,de:l.default,el:c.default,es:f.default,fa:d.default,fi:p.default,fr:g.default,he:v.default,hr:_.default,hu:m.default,id:y.default,it:b.default,jp:w.default,kr:k.default,nb:T.default,nl:E.default,no:x.default,pl:I.default,pt:C.default,ro:N.default,ru:A.default,si:D.default,sk:$.default,sv:P.default,tr:O.default,ua:M.default})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0634\u0628\u0627\u0637","\u0622\u0630\u0627\u0631","\u0646\u064a\u0633\u0627\u0646","\u0623\u064a\u0627\u0631","\u062d\u0632\u064a\u0631\u0627\u0646","\u062a\u0645\u0648\u0632","\u0622\u0628","\u0623\u064a\u0644\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u0623\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644"],month_short:["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],day_full:["\u0627\u0644\u0623\u062d\u062f","\u0627\u0644\u0623\u062b\u0646\u064a\u0646","\u0623\u0644\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0623\u0644\u062d\u0645\u064a\u0633","\u0623\u0644\u062c\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062a"],day_short:["\u0627\u062d\u062f","\u0627\u062b\u0646\u064a\u0646","\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0631\u0628\u0639\u0627\u0621","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639\u0629","\u0633\u0628\u062a"]},labels:{new_task:"\u0645\u0647\u0645\u0629 \u062c\u062f\u064a\u062f",icon_save:"\u0627\u062e\u0632\u0646",icon_cancel:"\u0627\u0644\u063a\u0627\u0621",icon_details:"\u062a\u0641\u0627\u0635\u064a\u0644",icon_edit:"\u062a\u062d\u0631\u064a\u0631",icon_delete:"\u062d\u0630\u0641",confirm_closing:"\u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a \u0633\u0648\u0641 \u062a\u0636\u064a\u0639, \u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f\u061f",confirm_deleting:"\u0627\u0644\u062d\u062f\u062b \u0633\u064a\u062a\u0645 \u062d\u0630\u0641\u0647\u0627 \u0646\u0647\u0627\u0626\u064a\u0627 \u060c \u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f\u061f",section_description:"\u0627\u0644\u0648\u0635\u0641",section_time:"\u0627\u0644\u0641\u062a\u0631\u0629 \u0627\u0644\u0632\u0645\u0646\u064a\u0629",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u0627\u0644\u063a\u0627\u0621",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["\u0421\u0442\u0443\u0434\u0437\u0435\u043d\u044c","\u041b\u044e\u0442\u044b","\u0421\u0430\u043a\u0430\u0432\u0456\u043a","\u041a\u0440\u0430\u0441\u0430\u0432\u0456\u043a","Ma\u0439","\u0427\u044d\u0440\u0432\u0435\u043d\u044c","\u041b\u0456\u043f\u0435\u043d\u044c","\u0416\u043d\u0456\u0432\u0435\u043d\u044c","\u0412\u0435\u0440\u0430\u0441\u0435\u043d\u044c","\u041a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a","\u041b\u0456\u0441\u0442\u0430\u043f\u0430\u0434","\u0421\u043d\u0435\u0436\u0430\u043d\u044c"],month_short:["\u0421\u0442\u0443\u0434\u0437","\u041b\u044e\u0442","\u0421\u0430\u043a","\u041a\u0440\u0430\u0441","Ma\u0439","\u0427\u044d\u0440","\u041b\u0456\u043f","\u0416\u043d\u0456\u0432","\u0412\u0435\u0440","\u041a\u0430\u0441\u0442","\u041b\u0456\u0441\u0442","\u0421\u043d\u0435\u0436"],day_full:["\u041d\u044f\u0434\u0437\u0435\u043b\u044f","\u041f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a","\u0410\u045e\u0442\u043e\u0440\u0430\u043a","\u0421\u0435\u0440\u0430\u0434\u0430","\u0427\u0430\u0446\u0432\u0435\u0440","\u041f\u044f\u0442\u043d\u0456\u0446\u0430","\u0421\u0443\u0431\u043e\u0442\u0430"],day_short:["\u041d\u0434","\u041f\u043d","\u0410\u045e\u0442","\u0421\u0440","\u0427\u0446\u0432","\u041f\u0442","\u0421\u0431"]},labels:{new_task:"\u041d\u043e\u0432\u0430\u0435 \u0437\u0430\u0434\u0430\u043d\u043d\u0435",icon_save:"\u0417\u0430\u0445\u0430\u0432\u0430\u0446\u044c",icon_cancel:"\u0410\u0434\u043c\u044f\u043d\u0456\u0446\u044c",icon_details:"\u0414\u044d\u0442\u0430\u043b\u0456",icon_edit:"\u0417\u043c\u044f\u043d\u0456\u0446\u044c",icon_delete:"\u0412\u044b\u0434\u0430\u043b\u0456\u0446\u044c",confirm_closing:"",confirm_deleting:"\u041f\u0430\u0434\u0437\u0435\u044f \u0431\u0443\u0434\u0437\u0435 \u0432\u044b\u0434\u0430\u043b\u0435\u043d\u0430 \u043d\u0435\u0437\u0432\u0430\u0440\u043e\u0442\u043d\u0430, \u043f\u0440\u0430\u0446\u044f\u0433\u043d\u0443\u0446\u044c?",section_description:"\u0410\u043f\u0456\u0441\u0430\u043d\u043d\u0435",section_time:"\u041f\u0435\u0440\u044b\u044f\u0434 \u0447\u0430\u0441\u0443",section_type:"\u0422\u044b\u043f",column_wbs:"\u0406\u0421\u0420",column_text:"\u0417\u0430\u0434\u0430\u0447\u0430",column_start_date:"\u041f\u0430\u0447\u0430\u0442\u0430\u043a",column_duration:"\u041f\u0440\u0430\u0446\u044f\u0433",column_add:"",link:"\u0421\u0443\u0432\u044f\u0437\u044c",confirm_link_deleting:"\u0431\u0443\u0434\u0437\u0435 \u0432\u044b\u0434\u0430\u043b\u0435\u043d\u0430",link_start:"(\u043f\u0430\u0447\u0430\u0442\u0430\u043a)",link_end:"(\u043a\u0430\u043d\u0435\u0446)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"\u0425\u0432i\u043bi\u043d\u0430",hours:"\u0413\u0430\u0434\u0437i\u043d\u0430",days:"\u0414\u0437\u0435\u043d\u044c",weeks:"\u0422\u044b\u0434\u0437\u0435\u043d\u044c",months:"\u041c\u0435\u0441\u044f\u0446",years:"\u0413\u043e\u0434",message_ok:"OK",message_cancel:"\u0410\u0434\u043c\u044f\u043d\u0456\u0446\u044c",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Gener","Febrer","Mar\xe7","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_short:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day_full:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_short:["Dg","Dl","Dm","Dc","Dj","Dv","Ds"]},labels:{new_task:"Nova tasca",icon_save:"Guardar",icon_cancel:"Cancel\xb7lar",icon_details:"Detalls",icon_edit:"Editar",icon_delete:"Esborrar",confirm_closing:"",confirm_deleting:"L'esdeveniment s'esborrar\xe0 definitivament, continuar ?",section_description:"Descripci\xf3",section_time:"Periode de temps",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel\xb7lar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],day_short:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},labels:{new_task:"\u65b0\u4efb\u52d9",icon_save:"\u4fdd\u5b58",icon_cancel:"\u5173\u95ed",icon_details:"\u8be6\u7ec6",icon_edit:"\u7f16\u8f91",icon_delete:"\u5220\u9664",confirm_closing:"\u8bf7\u786e\u8ba4\u662f\u5426\u64a4\u9500\u4fee\u6539!",confirm_deleting:"\u662f\u5426\u5220\u9664\u65e5\u7a0b?",section_description:"\u63cf\u8ff0",section_time:"\u65f6\u95f4\u8303\u56f4",section_type:"\u7c7b\u578b",column_wbs:"\u5de5\u4f5c\u5206\u89e3\u7ed3\u6784",column_text:"\u4efb\u52a1\u540d",column_start_date:"\u5f00\u59cb\u65f6\u95f4",column_duration:"\u6301\u7eed\u65f6\u95f4",column_add:"",link:"\u5173\u8054",confirm_link_deleting:"\u5c06\u88ab\u5220\u9664",link_start:" (\u5f00\u59cb)",link_end:" (\u7ed3\u675f)",type_task:"\u4efb\u52a1",type_project:"\u9879\u76ee",type_milestone:"\u91cc\u7a0b\u7891",minutes:"\u5206\u949f",hours:"\u5c0f\u65f6",days:"\u5929",weeks:"\u5468",months:"\u6708",years:"\u5e74",message_ok:"OK",message_cancel:"\u5173\u95ed",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Leden","\xdanor","B\u0159ezen","Duben","Kv\u011bten","\u010cerven","\u010cervenec","Srpen","Z\xe1\u0159\xed","\u0158\xedjen","Listopad","Prosinec"],month_short:["Led","\xdan","B\u0159e","Dub","Kv\u011b","\u010cer","\u010cec","Srp","Z\xe1\u0159\xed","\u0158\xedj","List","Pro"],day_full:["Ned\u011ble","Pond\u011bl\xed","\xdater\xfd","St\u0159eda","\u010ctvrtek","P\xe1tek","Sobota"],day_short:["Ne","Po","\xdat","St","\u010ct","P\xe1","So"]},labels:{new_task:"Nov\xe1 pr\xe1ce",icon_save:"Ulo\u017eit",icon_cancel:"Zp\u011bt",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Smazat",confirm_closing:"",confirm_deleting:"Ud\xe1lost bude trvale smaz\xe1na, opravdu?",section_description:"Pozn\xe1mky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Zp\u011bt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"],day_short:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"]},labels:{new_task:"Ny opgave",icon_save:"Gem",icon_cancel:"Fortryd",icon_details:"Detaljer",icon_edit:"Tilret",icon_delete:"Slet",confirm_closing:"Dine rettelser vil g\xe5 tabt.. Er dy sikker?",confirm_deleting:"Bigivenheden vil blive slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Fortryd",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:[" Januar"," Februar"," M\xe4rz "," April"," Mai"," Juni"," Juli"," August"," September "," Oktober"," November "," Dezember"],month_short:["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_full:["Sonntag","Montag","Dienstag"," Mittwoch"," Donnerstag","Freitag","Samstag"],day_short:["So","Mo","Di","Mi","Do","Fr","Sa"]},labels:{new_task:"Neue Aufgabe",icon_save:"Speichern",icon_cancel:"Abbrechen",icon_details:"Details",icon_edit:"\xc4ndern",icon_delete:"L\xf6schen",confirm_closing:"",confirm_deleting:"Der Eintrag wird gel\xf6scht",section_description:"Beschreibung",section_time:"Zeitspanne",section_type:"Type",column_wbs:"PSP",column_text:"Task-Namen",column_start_date:"Startzeit",column_duration:"Dauer",column_add:"",link:"Link",confirm_link_deleting:"werden gel\xf6scht",link_start:"(starten)",link_end:"(ende)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuten",hours:"Stunden",days:"Tage",weeks:"Wochen",months:"Monate",years:"Jahre",message_ok:"OK",message_cancel:"Abbrechen",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2","\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","\u039c\u03ac\u03ca\u03bf\u03c2","\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2"],month_short:["\u0399\u0391\u039d","\u03a6\u0395\u0392","\u039c\u0391\u03a1","\u0391\u03a0\u03a1","\u039c\u0391\u0399","\u0399\u039f\u03a5\u039d","\u0399\u039f\u03a5\u039b","\u0391\u03a5\u0393","\u03a3\u0395\u03a0","\u039f\u039a\u03a4","\u039d\u039f\u0395","\u0394\u0395\u039a"],day_full:["\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae","\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1","\u03a4\u03c1\u03af\u03c4\u03b7","\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7","\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7","\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae","\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae"],day_short:["\u039a\u03a5","\u0394\u0395","\u03a4\u03a1","\u03a4\u0395","\u03a0\u0395","\u03a0\u0391","\u03a3\u0391"]},labels:{new_task:"\u039d\u03ad\u03b1 \u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1",icon_save:"\u0391\u03c0\u03bf\u03b8\u03ae\u03ba\u03b5\u03c5\u03c3\u03b7",icon_cancel:"\u0386\u03ba\u03c5\u03c1\u03bf",icon_details:"\u039b\u03b5\u03c0\u03c4\u03bf\u03bc\u03ad\u03c1\u03b5\u03b9\u03b5\u03c2",icon_edit:"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1",icon_delete:"\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae",confirm_closing:"",confirm_deleting:"\u03a4\u03bf \u03ad\u03c1\u03b3\u03bf \u03b8\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03b5\u03af \u03bf\u03c1\u03b9\u03c3\u03c4\u03b9\u03ba\u03ac. \u0398\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03c3\u03c5\u03bd\u03b5\u03c7\u03af\u03c3\u03b5\u03c4\u03b5;",section_description:"\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae",section_time:"\u03a7\u03c1\u03bf\u03bd\u03b9\u03ba\u03ae \u03c0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u0386\u03ba\u03c5\u03c1\u03bf",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{new_task:"New task",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Task will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],day_short:["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"]},labels:{new_task:"Nueva tarea",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrar\xe1 definitivamente, \xbfcontinuar?",section_description:"Descripci\xf3n",section_time:"Per\xedodo",section_type:"Tipo",column_wbs:"EDT",column_text:"Tarea",column_start_date:"Inicio",column_duration:"Duraci\xf3n",column_add:"",link:"Enlace",confirm_link_deleting:"ser\xe1 borrada",link_start:" (inicio)",link_end:" (fin)",type_task:"Tarea",type_project:"Proyecto",type_milestone:"Hito",minutes:"Minutos",hours:"Horas",days:"D\xedas",weeks:"Semanas",months:"Meses",years:"A\xf1os",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["\u0698\u0627\u0646\u0648\u06cc\u0647","\u0641\u0648\u0631\u06cc\u0647","\u0645\u0627\u0631\u0633","\u0622\u0648\u0631\u06cc\u0644","\u0645\u0647","\u0698\u0648\u0626\u0646","\u0698\u0648\u0626\u06cc\u0647","\u0627\u0648\u062a","\u0633\u067e\u062a\u0627\u0645\u0628\u0631","\u0627\u06a9\u062a\u0628\u0631","\u0646\u0648\u0627\u0645\u0628\u0631","\u062f\u0633\u0627\u0645\u0628\u0631"],month_short:["1","2","3","4","5","6","7","8","9","10","11","12"],day_full:["\u064a\u06a9\u0634\u0646\u0628\u0647","\u062f\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u200c\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067e\u0646\u062c\u0634\u0646\u0628\u0647","\u062c\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"],day_short:["\u06cc","\u062f","\u0633","\u0686","\u067e","\u062c","\u0634"]},labels:{new_task:"\u0648\u0638\u06cc\u0641\u0647 \u062c\u062f\u06cc\u062f",icon_save:"\u0630\u062e\u06cc\u0631\u0647",icon_cancel:"\u0644\u063a\u0648",icon_details:"\u062c\u0632\u06cc\u06cc\u0627\u062a",icon_edit:"\u0648\u06cc\u0631\u0627\u06cc\u0634",icon_delete:"\u062d\u0630\u0641",confirm_closing:"\u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0634\u0645\u0627 \u0627\u0632\u062f\u0633\u062a \u062e\u0648\u0627\u0647\u062f \u0631\u0641\u062a\u060c \u0622\u06cc\u0627 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062a\u06cc\u062f\u061f",confirm_deleting:"\u0627\u06cc\u0646 \u0645\u0648\u0631\u062f \u0628\u0631\u0627\u06cc \u0647\u0645\u06cc\u0634\u0647 \u062d\u0630\u0641 \u062e\u0648\u0627\u0647\u062f \u0634\u062f\u060c \u0622\u06cc\u0627 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062a\u06cc\u062f\u061f",section_description:"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a",section_time:"\u0645\u062f\u062a \u0632\u0645\u0627\u0646",section_type:"\u0646\u0648\u0639",column_wbs:"WBS",column_text:"\u0639\u0646\u0648\u0627\u0646",column_start_date:"\u0632\u0645\u0627\u0646 \u0634\u0631\u0648\u0639",column_duration:"\u0645\u062f\u062a",column_add:"",link:"\u0627\u0631\u062a\u0628\u0627\u0637",confirm_link_deleting:"\u062d\u0630\u0641 \u062e\u0648\u0627\u0647\u062f \u0634\u062f",link_start:" (\u0622\u063a\u0627\u0632)",link_end:" (\u067e\u0627\u06cc\u0627\u0646)",type_task:"\u0648\u0638\u06cc\u0641\u0647",type_project:"\u067e\u0631\u0648\u0698\u0647",type_milestone:"\u0646\u06af\u0627\u0631\u0634",minutes:"\u062f\u0642\u0627\u06cc\u0642",hours:"\u0633\u0627\u0639\u0627\u062a",days:"\u0631\u0648\u0632\u0647\u0627",weeks:"\u0647\u0641\u062a\u0647",months:"\u0645\u0627\u0647\u200c\u0647\u0627",years:"\u0633\u0627\u0644\u200c\u0647\u0627",message_ok:"\u062a\u0627\u06cc\u06cc\u062f",message_cancel:"\u0644\u063a\u0648",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],month_short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],day_full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],day_short:["Su","Ma","Ti","Ke","To","Pe","La"]},labels:{new_task:"Uusi teht\xe4v\xe4",icon_save:"Tallenna",icon_cancel:"Peru",icon_details:"Tiedot",icon_edit:"Muokkaa",icon_delete:"Poista",confirm_closing:"",confirm_deleting:"Haluatko varmasti poistaa tapahtuman?",section_description:"Kuvaus",section_time:"Aikajakso",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Peru",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"],month_short:["Jan","F\xe9v","Mar","Avr","Mai","Juin","Juil","Ao\xfb","Sep","Oct","Nov","D\xe9c"],day_full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},labels:{new_task:"Nouvelle t\xe2che",icon_save:"Enregistrer",icon_cancel:"Annuler",icon_details:"D\xe9tails",icon_edit:"Modifier",icon_delete:"Effacer",confirm_closing:"",confirm_deleting:"L'\xe9v\xe9nement sera effac\xe9 sans appel, \xeates-vous s\xfbr ?",section_description:"Description",section_time:"P\xe9riode",section_type:"Type",column_wbs:"OTP",column_text:"Nom de la t\xe2che",column_start_date:"Date initiale",column_duration:"Dur\xe9e",column_add:"",link:"Le lien",confirm_link_deleting:"sera supprim\xe9",link_start:"(d\xe9but)",link_end:"(fin)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Heures",days:"Jours",weeks:"Semaines",months:"Mois",years:"Ann\xe9es",message_ok:"OK",message_cancel:"Annuler",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["\u05d9\u05e0\u05d5\u05d0\u05e8","\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05d9\u05dc","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8","\u05e1\u05e4\u05d8\u05de\u05d1\u05e8","\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8","\u05e0\u05d5\u05d1\u05de\u05d1\u05e8","\u05d3\u05e6\u05de\u05d1\u05e8"],month_short:["\u05d9\u05e0\u05d5","\u05e4\u05d1\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0","\u05d9\u05d5\u05dc","\u05d0\u05d5\u05d2","\u05e1\u05e4\u05d8","\u05d0\u05d5\u05e7","\u05e0\u05d5\u05d1","\u05d3\u05e6\u05de"],day_full:["\u05e8\u05d0\u05e9\u05d5\u05df","\u05e9\u05e0\u05d9","\u05e9\u05dc\u05d9\u05e9\u05d9","\u05e8\u05d1\u05d9\u05e2\u05d9","\u05d7\u05de\u05d9\u05e9\u05d9","\u05e9\u05d9\u05e9\u05d9","\u05e9\u05d1\u05ea"],day_short:["\u05d0","\u05d1","\u05d2","\u05d3","\u05d4","\u05d5","\u05e9"]},labels:{new_task:"\u05de\u05e9\u05d9\u05de\u05d4 \u05d7\u05d3\u05e9",icon_save:"\u05e9\u05de\u05d5\u05e8",icon_cancel:"\u05d1\u05d8\u05dc",icon_details:"\u05e4\u05e8\u05d8\u05d9\u05dd",icon_edit:"\u05e2\u05e8\u05d5\u05da",icon_delete:"\u05de\u05d7\u05e7",confirm_closing:"",confirm_deleting:"\u05d0\u05e8\u05d5\u05e2 \u05d9\u05de\u05d7\u05e7 \u05e1\u05d5\u05e4\u05d9\u05ea.\u05dc\u05d4\u05de\u05e9\u05d9\u05da?",section_description:"\u05d4\u05e1\u05d1\u05e8",section_time:"\u05ea\u05e7\u05d5\u05e4\u05d4",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u05d1\u05d8\u05dc",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Sije\u010danj","Velja\u010da","O\u017eujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],month_short:["Sij","Velj","O\u017eu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],day_full:["Nedjelja","Ponedjeljak","Utorak","Srijeda","\u010cetvrtak","Petak","Subota"],day_short:["Ned","Pon","Uto","Sri","\u010cet","Pet","Sub"]},labels:{new_task:"Novi Zadatak",icon_save:"Spremi",icon_cancel:"Odustani",icon_details:"Detalji",icon_edit:"Izmjeni",icon_delete:"Obri\u0161i",confirm_closing:"",confirm_deleting:"Zadatak \u0107e biti trajno izbrisan, jeste li sigurni?",section_description:"Opis",section_time:"Vremenski Period",section_type:"Tip",column_wbs:"WBS",column_text:"Naziv Zadatka",column_start_date:"Po\u010detno Vrijeme",column_duration:"Trajanje",column_add:"",link:"Poveznica",confirm_link_deleting:"\u0107e biti izbrisan",link_start:" (po\u010detak)",link_end:" (kraj)",type_task:"Zadatak",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minute",hours:"Sati",days:"Dani",weeks:"Tjedni",months:"Mjeseci",years:"Godine",message_ok:"OK",message_cancel:"Odustani",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Janu\xe1r","Febru\xe1r","M\xe1rcius","\xc1prilis","M\xe1jus","J\xfanius","J\xfalius","Augusztus","Szeptember","Okt\xf3ber","November","December"],month_short:["Jan","Feb","M\xe1r","\xc1pr","M\xe1j","J\xfan","J\xfal","Aug","Sep","Okt","Nov","Dec"],day_full:["Vas\xe1rnap","H\xe9tf\xf5","Kedd","Szerda","Cs\xfct\xf6rt\xf6k","P\xe9ntek","szombat"],day_short:["Va","H\xe9","Ke","Sze","Cs\xfc","P\xe9","Szo"]},labels:{new_task:"\xdaj feladat",icon_save:"Ment\xe9s",icon_cancel:"M\xe9gse",icon_details:"R\xe9szletek",icon_edit:"Szerkeszt\xe9s",icon_delete:"T\xf6rl\xe9s",confirm_closing:"",confirm_deleting:"Az esem\xe9ny t\xf6r\xf6lve lesz, biztosan folytatja?",section_description:"Le\xedr\xe1s",section_time:"Id\xf5szak",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"M\xe9gse",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],day_full:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],day_short:["Ming","Sen","Sel","Rab","Kam","Jum","Sab"]},labels:{new_task:"Tugas baru",icon_save:"Simpan",icon_cancel:"Batal",icon_details:"Detail",icon_edit:"Edit",icon_delete:"Hapus",confirm_closing:"",confirm_deleting:"Acara akan dihapus",section_description:"Keterangan",section_time:"Periode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Batal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day_full:["Domenica","Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato"],day_short:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},labels:{new_task:"Nuovo compito",icon_save:"Salva",icon_cancel:"Chiudi",icon_details:"Dettagli",icon_edit:"Modifica",icon_delete:"Elimina",confirm_closing:"",confirm_deleting:"Sei sicuro di confermare l'eliminazione?",section_description:"Descrizione",section_time:"Periodo di tempo",section_type:"Tipo",column_wbs:"WBS",column_text:"Nome Attivit\xe0",column_start_date:"Inizio",column_duration:"Durata",column_add:"",link:"Link",confirm_link_deleting:"sar\xe0 eliminato",link_start:" (inizio)",link_end:" (fine)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuti",hours:"Ore",days:"Giorni",weeks:"Settimane",months:"Mesi",years:"Anni",message_ok:"OK",message_cancel:"Chiudi",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],day_short:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"]},labels:{new_task:"\u65b0\u3057\u3044\u4ed5\u4e8b",icon_save:"\u4fdd\u5b58",icon_cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",icon_details:"\u8a73\u7d30",icon_edit:"\u7de8\u96c6",icon_delete:"\u524a\u9664",confirm_closing:"",confirm_deleting:"\u30a4\u30d9\u30f3\u30c8\u5b8c\u5168\u306b\u524a\u9664\u3055\u308c\u307e\u3059\u3001\u5b9c\u3057\u3044\u3067\u3059\u304b\uff1f",section_description:"\u30c7\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3",section_time:"\u671f\u9593",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],month_short:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],day_full:["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"],day_short:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"]},labels:{new_task:"\uc774\ub984\uc5c6\ub294 \uc791\uc5c5",icon_save:"\uc800\uc7a5",icon_cancel:"\ucde8\uc18c",icon_details:"\uc138\ubd80 \uc0ac\ud56d",icon_edit:"\uc218\uc815",icon_delete:"\uc0ad\uc81c",confirm_closing:"",confirm_deleting:"\uc791\uc5c5\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",section_description:"\uc124\uba85",section_time:"\uae30\uac04",section_type:"Type",column_wbs:"WBS",column_text:"\uc791\uc5c5\uba85",column_start_date:"\uc2dc\uc791\uc77c",column_duration:"\uae30\uac04",column_add:"",link:"\uc804\uc81c",confirm_link_deleting:"\uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",link_start:" (start)",link_end:" (end)",type_task:"\uc791\uc5c5",type_project:"\ud504\ub85c\uc81d\ud2b8",type_milestone:"\ub9c8\uc77c\uc2a4\ud1a4",minutes:"\ubd84",hours:"\uc2dc\uac04",days:"\uc77c",weeks:"\uc8fc",months:"\ub2ec",years:"\ub144",message_ok:"OK",message_cancel:"\ucde8\uc18c",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){var e=this;for(var n in this.addLocale=function(t,n){e._locales[t]=n},this.getLocale=function(t){return e._locales[t]},this._locales={},t)this._locales[n]=t[n]};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"],day_short:["S\xf8n","Mon","Tir","Ons","Tor","Fre","L\xf8r"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Rediger",icon_delete:"Slett",confirm_closing:"",confirm_deleting:"Hendelsen vil bli slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],month_short:["Jan","Feb","mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],day_short:["Zo","Ma","Di","Wo","Do","Vr","Za"]},labels:{new_task:"Nieuwe taak",icon_save:"Opslaan",icon_cancel:"Annuleren",icon_details:"Details",icon_edit:"Bewerken",icon_delete:"Verwijderen",confirm_closing:"",confirm_deleting:"Item zal permanent worden verwijderd, doorgaan?",section_description:"Beschrijving",section_time:"Tijd periode",section_type:"Type",column_wbs:"WBS",column_text:"Taak omschrijving",column_start_date:"Startdatum",column_duration:"Duur",column_add:"",link:"Koppeling",confirm_link_deleting:"zal worden verwijderd",link_start:" (start)",link_end:" (eind)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"minuten",hours:"uren",days:"dagen",weeks:"weken",months:"maanden",years:"jaren",message_ok:"OK",message_cancel:"Annuleren",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"],day_short:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Endre",icon_delete:"Slett",confirm_closing:"Endringer blir ikke lagret, er du sikker?",confirm_deleting:"Oppf\xf8ringen vil bli slettet, er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144"],month_short:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa\u017a","Lis","Gru"],day_full:["Niedziela","Poniedzia\u0142ek","Wtorek","\u015aroda","Czwartek","Pi\u0105tek","Sobota"],day_short:["Nie","Pon","Wto","\u015aro","Czw","Pi\u0105","Sob"]},labels:{new_task:"Nowe zadanie",icon_save:"Zapisz",icon_cancel:"Anuluj",icon_details:"Szczeg\xf3\u0142y",icon_edit:"Edytuj",icon_delete:"Usu\u0144",confirm_closing:"",confirm_deleting:"Zdarzenie zostanie usuni\u0119te na zawsze, kontynuowa\u0107?",section_description:"Opis",section_time:"Okres czasu",section_type:"Typ",column_wbs:"WBS",column_text:"Nazwa zadania",column_start_date:"Pocz\u0105tek",column_duration:"Czas trwania",column_add:"",link:"Link",confirm_link_deleting:"zostanie usuni\u0119ty",link_start:" (pocz\u0105tek)",link_end:" (koniec)",type_task:"Zadanie",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minuty",hours:"Godziny",days:"Dni",weeks:"Tydzie\u0144",months:"Miesi\u0105ce",years:"Lata",message_ok:"OK",message_cancel:"Anuluj",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_short:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_full:["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"],day_short:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},labels:{new_task:"Nova tarefa",icon_save:"Salvar",icon_cancel:"Cancelar",icon_details:"Detalhes",icon_edit:"Editar",icon_delete:"Excluir",confirm_closing:"",confirm_deleting:"As tarefas ser\xe3o excluidas permanentemente, confirme?",section_description:"Descri\xe7\xe3o",section_time:"Per\xedodo",section_type:"Tipo",column_wbs:"EAP",column_text:"Nome tarefa",column_start_date:"Data in\xedcio",column_duration:"Dura\xe7\xe3o",column_add:"",link:"Link",confirm_link_deleting:"Ser\xe1 exclu\xeddo!",link_start:" (in\xedcio)",link_end:" (fim)",type_task:"Task",type_project:"Projeto",type_milestone:"Marco",minutes:"Minutos",hours:"Horas",days:"Dias",weeks:"Semanas",months:"Meses",years:"Anos",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Restri\xe7\xe3o",constraint_type:"Tipo Restri\xe7\xe3o",constraint_date:"Data restri\xe7\xe3o",asap:"Mais breve poss\xedvel",alap:"Mais tarde poss\xedvel",snet:"N\xe3o come\xe7ar antes de",snlt:"N\xe3o come\xe7ar depois de",fnet:"N\xe3o terminar antes de",fnlt:"N\xe3o terminar depois de",mso:"Precisa come\xe7ar em",mfo:"Precisa terminar em",resources_filter_placeholder:"Tipo de filtros",resources_filter_label:"Ocultar vazios"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","November","December"],month_short:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],day_full:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],day_short:["Du","Lu","Ma","Mi","Jo","Vi","Sa"]},labels:{new_task:"Sarcina noua",icon_save:"Salveaza",icon_cancel:"Anuleaza",icon_details:"Detalii",icon_edit:"Editeaza",icon_delete:"Sterge",confirm_closing:"Schimbarile nu vor fi salvate, esti sigur?",confirm_deleting:"Evenimentul va fi sters permanent, esti sigur?",section_description:"Descriere",section_time:"Interval",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Anuleaza",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","Ma\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","O\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],month_short:["\u042f\u043d\u0432","\u0424\u0435\u0432","Ma\u0440","A\u043f\u0440","Ma\u0439","\u0418\u044e\u043d","\u0418\u044e\u043b","A\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f","\u0414\u0435\u043a"],day_full:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"],day_short:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"]},labels:{new_task:"\u041d\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435",icon_save:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",icon_cancel:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",icon_details:"\u0414\u0435\u0442\u0430\u043b\u0438",icon_edit:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",icon_delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",confirm_closing:"",confirm_deleting:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u043e \u0431\u0435\u0437\u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043d\u043e, \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?",section_description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",section_time:"\u041f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438",section_type:"\u0422\u0438\u043f",column_wbs:"\u0418\u0421\u0420",column_text:"\u0417\u0430\u0434\u0430\u0447\u0430",column_start_date:"\u041d\u0430\u0447\u0430\u043b\u043e",column_duration:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",column_add:"",link:"\u0421\u0432\u044f\u0437\u044c",confirm_link_deleting:"\u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u0430",link_start:" (\u043d\u0430\u0447\u0430\u043b\u043e)",link_end:" (\u043a\u043e\u043d\u0435\u0446)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"\u041c\u0438\u043d\u0443\u0442\u0430",hours:"\u0427\u0430\u0441",days:"\u0414\u0435\u043d\u044c",weeks:"\u041d\u0435\u0434\u0435\u043b\u044f",months:"\u041c\u0435\u0441\u044f\u0446",years:"\u0413\u043e\u0434",message_ok:"OK",message_cancel:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"\u043d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0441\u043b\u043e\u0432\u043e \u0434\u043b\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438",resources_filter_label:"\u0441\u043f\u0440\u044f\u0442\u0430\u0442\u044c \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0435"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Nedelja","Ponedeljek","Torek","Sreda","\u010cetrtek","Petek","Sobota"],day_short:["Ned","Pon","Tor","Sre","\u010cet","Pet","Sob"]},labels:{new_task:"Nova naloga",icon_save:"Shrani",icon_cancel:"Prekli\u010di",icon_details:"Podrobnosti",icon_edit:"Uredi",icon_delete:"Izbri\u0161i",confirm_closing:"",confirm_deleting:"Dogodek bo izbrisan. \u017delite nadaljevati?",section_description:"Opis",section_time:"\u010casovni okvir",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Prekli\u010di",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Janu\xe1r","Febru\xe1r","Marec","Apr\xedl","M\xe1j","J\xfan","J\xfal","August","September","Okt\xf3ber","November","December"],month_short:["Jan","Feb","Mar","Apr","M\xe1j","J\xfan","J\xfal","Aug","Sept","Okt","Nov","Dec"],day_full:["Nede\u013ea","Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota"],day_short:["Ne","Po","Ut","St","\u0160t","Pi","So"]},labels:{new_task:"Nov\xe1 \xfaloha",icon_save:"Ulo\u017ei\u0165",icon_cancel:"Sp\xe4\u0165",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Zmaza\u0165",confirm_closing:"Va\u0161e zmeny nebud\xfa ulo\u017een\xe9. Skuto\u010dne?",confirm_deleting:"Udalos\u0165 bude natrvalo vymazan\xe1. Skuto\u010dne?",section_description:"Pozn\xe1mky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Sp\xe4\u0165",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xf6ndag","M\xe5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xf6rdag"],day_short:["S\xf6n","M\xe5n","Tis","Ons","Tor","Fre","L\xf6r"]},labels:{new_task:"Ny uppgift",icon_save:"Spara",icon_cancel:"Avbryt",icon_details:"Detajer",icon_edit:"\xc4ndra",icon_delete:"Ta bort",confirm_closing:"",confirm_deleting:"\xc4r du s\xe4ker p\xe5 att du vill ta bort h\xe4ndelsen permanent?",section_description:"Beskrivning",section_time:"Tid",section_type:"Typ",column_wbs:"WBS",column_text:"Uppgiftsnamn",column_start_date:"Starttid",column_duration:"Varaktighet",column_add:"",link:"L\xe4nk",confirm_link_deleting:"kommer tas bort",link_start:" (start)",link_end:" (slut)",type_task:"Uppgift",type_project:"Projekt",type_milestone:"Milstolpe",minutes:"Minuter",hours:"Timmar",days:"Dagar",weeks:"Veckor",months:"M\xe5nader",years:"\xc5r",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"],month_short:["Oca","\u015eub","Mar","Nis","May","Haz","Tem","A\u011fu","Eyl","Eki","Kas","Ara"],day_full:["Pazar","Pazartesi","Sal\u0131","\xc7ar\u015famba","Per\u015fembe","Cuma","Cumartesi"],day_short:["Paz","Pzt","Sal","\xc7ar","Per","Cum","Cmt"]},labels:{new_task:"Yeni g\xf6rev",icon_save:"Kaydet",icon_cancel:"\u0130ptal",icon_details:"Detaylar",icon_edit:"D\xfczenle",icon_delete:"Sil",confirm_closing:"",confirm_deleting:"G\xf6rev silinecek, emin misiniz?",section_description:"A\xe7\u0131klama",section_time:"Zaman Aral\u0131\u011f\u0131",section_type:"Tip",column_wbs:"WBS",column_text:"G\xf6rev Ad\u0131",column_start_date:"Ba\u015flang\u0131\xe7",column_duration:"S\xfcre",column_add:"",link:"Ba\u011flant\u0131",confirm_link_deleting:"silinecek",link_start:" (ba\u015flang\u0131\xe7)",link_end:" (biti\u015f)",type_task:"G\xf6rev",type_project:"Proje",type_milestone:"Kilometreta\u015f\u0131",minutes:"Dakika",hours:"Saat",days:"G\xfcn",weeks:"Hafta",months:"Ay",years:"Y\u0131l",message_ok:"OK",message_cancel:"\xddptal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={date:{month_full:["\u0421\u0456\u0447\u0435\u043d\u044c","\u041b\u044e\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c","\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c"],month_short:["\u0421\u0456\u0447","\u041b\u044e\u0442","\u0411\u0435\u0440","\u041a\u0432\u0456","\u0422\u0440\u0430","\u0427\u0435\u0440","\u041b\u0438\u043f","\u0421\u0435\u0440","\u0412\u0435\u0440","\u0416\u043e\u0432","\u041b\u0438\u0441","\u0413\u0440\u0443"],day_full:["\u041d\u0435\u0434\u0456\u043b\u044f","\u041f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a","\u0412\u0456\u0432\u0442\u043e\u0440\u043e\u043a","\u0421\u0435\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440","\u041f'\u044f\u0442\u043d\u0438\u0446\u044f","\u0421\u0443\u0431\u043e\u0442\u0430"],day_short:["\u041d\u0435\u0434","\u041f\u043e\u043d","\u0412\u0456\u0432","\u0421\u0435\u0440","\u0427\u0435\u0442","\u041f\u0442\u043d","\u0421\u0443\u0431"]},labels:{new_task:"\u041d\u043e\u0432\u0435 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f",icon_save:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",icon_cancel:"\u0412\u0456\u0434\u043c\u0456\u043d\u0430",icon_details:"\u0414\u0435\u0442\u0430\u043b\u0456",icon_edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",icon_delete:"\u0412\u0438\u043b\u0443\u0447\u0438\u0442\u0438",confirm_closing:"",confirm_deleting:"\u041f\u043e\u0434\u0456\u044f \u0432\u0438\u043b\u0443\u0447\u0438\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0432\u0436\u0434\u0438. \u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456?",section_description:"\u041e\u043f\u0438\u0441",section_time:"\u0427\u0430\u0441\u043e\u0432\u0438\u0439 \u043f\u0440\u043e\u043c\u0456\u0436\u043e\u043a",section_type:"\u0422\u0438\u043f",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"\u0412\u0456\u0434\u043c\u0456\u043d\u0430",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty"}}},function(t,e,n){t.exports=function(t){var e=n(0),r=n(7),i=n(10);if(!r.isNode){var o=n(1),a=n(2);t.utils={arrayFind:a.arrayFind,dom:o};var s=n(29)();t.event=s.attach,t.eventRemove=s.detach,t._eventRemoveAll=s.detachAll,t._createDomEventScope=s.extend,e.mixin(t,n(198)(t));var u=n(199).init(t);t.$ui=u.factory,t.$ui.layers=u.render,t.$mouseEvents=u.mouseEvents,t.$services.setService("mouseEvents",(function(){return t.$mouseEvents})),t.mixin(t,u.layersApi),n(244)(t),t.$services.setService("layers",(function(){return u.layersService}));var l=n(245);t.mixin(t,l()),n(246)(t),n(247)(t),n(248)(t),n(249)(t),n(250)(t),n(251)(t),n(252)(t),n(253)(t),n(254)(t),n(259)(t),n(260)(t),n(270)(t),n(271)(t),t.locate=function(t){var e=o.getTargetNode(t);if(o.closest(e,".gantt_task_row"))return null;var n=arguments[1]||this.config.task_attribute,r=o.locateAttribute(e,n);return r?r.getAttribute(n):null},t._locate_css=function(t,e,n){return o.locateClassName(t,e,n)},t._locateHTML=function(t,e){return o.locateAttribute(t,e||this.config.task_attribute)}}t.attachEvent("onParse",(function(){i(t)||t.attachEvent("onGanttRender",(function(){if(t.config.initial_scroll){var e=t.getTaskByIndex(0),n=e?e.id:t.config.root_id;t.isTaskExists(n)&&t.$task&&t.utils.dom.isChildOf(t.$task,t.$container)&&t.showTask(n)}}),{once:!0})})),t.attachEvent("onBeforeGanttReady",(function(){this.config.scroll_size||(this.config.scroll_size=o.getScrollSize()||1),i(t)||(this._eventRemoveAll(),this.$mouseEvents.reset(),this.resetLightbox())})),t.attachEvent("onGanttReady",(function(){!i(t)&&t.config.rtl&&t.$layout.getCellsByType("viewCell").forEach((function(e){var n=e.$config.scrollX;if(n){var r=t.$ui.getView(n);r&&r.scrollTo(r.$config.scrollSize,0)}}))}))}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(0),o=n(1);t.exports=function(t){var e="data-dhxbox",n=null;function a(t,e){var r=t.callback;y.hide(t.box),n=t.box=null,r&&r(e)}function s(t){if(n){var e=t.which||t.keyCode,r=!1;if(b.keyboard){if(13==e||32==e){var i=t.target||t.srcElement;o.getClassName(i).indexOf("gantt_popup_button")>-1&&i.click?i.click():(a(n,!0),r=!0)}27==e&&(a(n,!1),r=!0)}return r?(t.preventDefault&&t.preventDefault(),!(t.cancelBubble=!0)):void 0}}var u=o.getRootNode(t.$root)||document;function l(t){l.cover||(l.cover=document.createElement("div"),l.cover.onkeydown=s,l.cover.className="dhx_modal_cover",document.body.appendChild(l.cover)),l.cover.style.display=t?"inline-block":"none"}function c(e,n,r){var i=t._waiAria.messageButtonAttrString(e),o=n.toLowerCase().replace(/ /g,"_");return"<div "+i+" class='gantt_popup_button dhtmlx_popup_button gantt_"+o+"_button dhtmlx_"+o+"_button' data-result='"+r+"' result='"+r+"' ><div>"+e+"</div></div>"}function h(e){b.area||(b.area=document.createElement("div"),b.area.className="gantt_message_area dhtmlx_message_area",b.area.style[b.position]="5px",document.body.appendChild(b.area)),b.hide(e.id);var n=document.createElement("div");return n.innerHTML="<div>"+e.text+"</div>",n.className="gantt-info dhtmlx-info gantt-"+e.type+" dhtmlx-"+e.type,n.onclick=function(){b.hide(e.id),e=null},t._waiAria.messageInfoAttr(n),"bottom"==b.position&&b.area.firstChild?b.area.insertBefore(n,b.area.firstChild):b.area.appendChild(n),e.expire>0&&(b.timers[e.id]=window.setTimeout((function(){b&&b.hide(e.id)}),e.expire)),b.pull[e.id]=n,n=null,e.id}function f(){for(var t=[].slice.apply(arguments,[0]),e=0;e<t.length;e++)if(t[e])return t[e]}function d(u,h,d){var p=u.tagName?u:function(s,u,l){var h=document.createElement("div"),d=i.uid();t._waiAria.messageModalAttr(h,d),h.className=" gantt_modal_box dhtmlx_modal_box gantt-"+s.type+" dhtmlx-"+s.type,h.setAttribute(e,1);var p="";if(s.width&&(h.style.width=s.width),s.height&&(h.style.height=s.height),s.title&&(p+='<div class="gantt_popup_title dhtmlx_popup_title">'+s.title+"</div>"),p+='<div class="gantt_popup_text dhtmlx_popup_text" id="'+d+'"><span>'+(s.content?"":s.text)+'</span></div><div  class="gantt_popup_controls dhtmlx_popup_controls">',u&&(p+=c(f(s.ok,t.locale.labels.message_ok,"OK"),"ok",!0)),l&&(p+=c(f(s.cancel,t.locale.labels.message_cancel,"Cancel"),"cancel",!1)),s.buttons)for(var g=0;g<s.buttons.length;g++){var v=s.buttons[g];"object"==r(v)?p+=c(v.label,v.css||"gantt_"+v.label.toLowerCase()+"_button dhtmlx_"+v.label.toLowerCase()+"_button",v.value||g):p+=c(v,v,g)}if(p+="</div>",h.innerHTML=p,s.content){var _=s.content;"string"==typeof _&&(_=document.getElementById(_)),"none"==_.style.display&&(_.style.display=""),h.childNodes[s.title?1:0].appendChild(_)}return h.onclick=function(t){var e=t.target||t.srcElement;if(e.className||(e=e.parentNode),o.closest(e,".gantt_popup_button")){var n=e.getAttribute("data-result");a(s,n="true"==n||"false"!=n&&n)}},s.box=h,(u||l)&&(n=s),h}(u,h,d);u.hidden||l(!0),document.body.appendChild(p);var g=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-p.offsetWidth)/2)),v=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-p.offsetHeight)/2));return"top"==u.position?p.style.top="-3px":p.style.top=v+"px",p.style.left=g+"px",p.onkeydown=s,y.focus(p),u.hidden&&y.hide(p),t.callEvent("onMessagePopup",[p]),p}function p(t){return d(t,!0,!1)}function g(t){return d(t,!0,!0)}function v(t){return d(t)}function _(t,e,n){return"object"!=r(t)&&("function"==typeof e&&(n=e,e=""),t={text:t,type:e,callback:n}),t}function m(t,e,n,o){return"object"!=r(t)&&(t={text:t,type:e,expire:n,id:o}),t.id=t.id||i.uid(),t.expire=t.expire||b.expire,t}t.event(u,"keydown",s,!0);var y=function(){var t=_.apply(this,arguments);return t.type=t.type||"alert",v(t)};y.hide=function(n){for(;n&&n.getAttribute&&!n.getAttribute(e);)n=n.parentNode;n&&(n.parentNode.removeChild(n),l(!1),t.callEvent("onAfterMessagePopup",[n]))},y.focus=function(t){setTimeout((function(){var e=o.getFocusableNodes(t);e.length&&e[0].focus&&e[0].focus()}),1)};var b=function(t,e,n,r){switch((t=m.apply(this,arguments)).type=t.type||"info",t.type.split("-")[0]){case"alert":return p(t);case"confirm":return g(t);case"modalbox":return v(t);default:return h(t)}};b.seed=(new Date).valueOf(),b.uid=i.uid,b.expire=4e3,b.keyboard=!0,b.position="top",b.pull={},b.timers={},b.hideAll=function(){for(var t in b.pull)b.hide(t)},b.hide=function(t){var e=b.pull[t];e&&e.parentNode&&(window.setTimeout((function(){e.parentNode.removeChild(e),e=null}),2e3),e.className+=" hidden",b.timers[t]&&window.clearTimeout(b.timers[t]),delete b.pull[t])};var w=[];return t.attachEvent("onMessagePopup",(function(t){w.push(t)})),t.attachEvent("onAfterMessagePopup",(function(t){for(var e=0;e<w.length;e++)w[e]===t&&(w.splice(e,1),e--)})),t.attachEvent("onDestroy",(function(){l.cover&&l.cover.parentNode&&l.cover.parentNode.removeChild(l.cover);for(var t=0;t<w.length;t++)w[t].parentNode&&w[t].parentNode.removeChild(w[t]);w=null,b.area&&b.area.parentNode&&b.area.parentNode.removeChild(b.area),b=null})),{alert:function(){var t=_.apply(this,arguments);return t.type=t.type||"confirm",p(t)},confirm:function(){var t=_.apply(this,arguments);return t.type=t.type||"alert",g(t)},message:b,modalbox:y}}},function(t,e,n){var r=n(200),i=n(202),o=n(203),a=n(11),s=n(41),u=n(207),l=n(208),c=n(209),h=n(210),f=n(22),d=n(19),p=n(19),g=n(22),v=n(22),_=n(212),m=n(223),y=n(224),b=n(226),w=n(227),k=n(228),S=n(230),T=n(231),E=n(232),x=n(233),I=n(234),C=n(240),N=n(243);t.exports={init:function(t){function e(e,n){var r=n(t);r.onCreated&&r.onCreated(e),e.attachEvent("onReady",(function(){r.onInitialized&&r.onInitialized(e)})),e.attachEvent("onDestroy",(function(){r.onDestroyed&&r.onDestroyed(e)}))}var n=r.createFactory(t);n.registerView("cell",a),n.registerView("resizer",c),n.registerView("scrollbar",h),n.registerView("layout",s,(function(t){"main"===(t.$config?t.$config.id:null)&&e(t,N)})),n.registerView("viewcell",l),n.registerView("multiview",u),n.registerView("timeline",f,(function(t){"timeline"!==(t.$config?t.$config.id:null)&&"task"!=t.$config.bind||e(t,C)})),n.registerView("grid",d,(function(t){"grid"!==(t.$config?t.$config.id:null)&&"task"!=t.$config.bind||e(t,I)})),n.registerView("resourceGrid",p),n.registerView("resourceTimeline",g),n.registerView("resourceHistogram",v);var A=o(t),D=_(t);return t.ext.inlineEditors=D,t.ext._inlineEditors=D,D.init(t),{factory:n,mouseEvents:i.init(t),layersApi:A.init(),render:{gridLine:function(){return S(t)},taskBg:function(){return w(t)},taskBar:function(){return m(t)},taskRollupBar:function(){return b(t)},taskSplitBar:function(){return y(t)},link:function(){return k(t)},resourceRow:function(){return T(t)},resourceHistogram:function(){return E(t)},gridTaskRowResizer:function(){return x(t)}},layersService:{getDataRender:function(e){return A.getDataRender(e,t)},createDataRender:function(e){return A.createDataRender(e,t)}}}}}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(0),o=n(201);t.exports={createFactory:function(t){var e={},n={};function a(a,s,u,l){var c=e[a];if(!c||!c.create)return!1;"resizer"!=a||u.mode||(l.$config.cols?u.mode="x":u.mode="y"),"viewcell"!=a||"scrollbar"!=u.view||u.scroll||(l.$config.cols?u.scroll="y":u.scroll="x"),(u=i.copy(u)).id||n[u.view]||(u.id=u.view),u.id&&!u.css&&(u.css=u.id+"_cell");var h=new c.create(s,u,this,t);return c.configure&&c.configure(h),o(h,l),h.$id||(h.$id=u.id||t.uid()),h.$parent||"object"!=r(s)||(h.$parent=s),h.$config||(h.$config=u),n[h.$id]&&(h.$id=t.uid()),n[h.$id]=h,h}return{initUI:function(t,e){var n="cell";return t.view?n="viewcell":t.resizer?n="resizer":t.rows||t.cols?n="layout":t.views&&(n="multiview"),a.call(this,n,null,t,e)},reset:function(){n={}},registerView:function(t,n,r){e[t]={create:n,configure:r}},createView:a,getView:function(t){return n[t]}}}}},function(t,e,n){var r=n(0);function i(t,e){var n=this.$config[t];return n?(n.$extendedConfig||(n.$extendedConfig=!0,Object.setPrototypeOf(n,e)),n):e}t.exports=function(t,e){r.mixin(t,function(t){var e,n;return{$getConfig:function(){return e||(e=t?t.$getConfig():this.$gantt.config),this.$config.config?i.call(this,"config",e):e},$getTemplates:function(){return n||(n=t?t.$getTemplates():this.$gantt.templates),this.$config.templates?i.call(this,"templates",n):n}}}(e))}},function(t,e,n){var r=function(t){return function(e){var n={click:{},doubleclick:{},contextMenu:{}};function r(t,e,r,i){n[t][e]||(n[t][e]=[]),n[t][e].push({handler:r,root:i})}function i(t){t=t||window.event;var r=e.locate(t),i=a(t,n.click),o=!0;if(null!==r?o=!e.checkEvent("onTaskClick")||e.callEvent("onTaskClick",[r,t]):e.callEvent("onEmptyClick",[t]),o){if(!s(i,t,r))return;switch(t.target.nodeName){case"SELECT":case"INPUT":return}r&&e.getTask(r)&&!e._multiselect&&e.config.select_task&&e.selectTask(r)}}function o(t){var n=(t=t||window.event).target||t.srcElement,r=e.locate(n),i=e.locate(n,e.config.link_attribute),o=!e.checkEvent("onContextMenu")||e.callEvent("onContextMenu",[r,i,t]);return o||(t.preventDefault?t.preventDefault():t.returnValue=!1),o}function a(e,n){for(var r=e.target||e.srcElement,i=[];r;){var o=t.getClassName(r);if(o){o=o.split(" ");for(var a=0;a<o.length;a++)if(o[a]&&n[o[a]])for(var s=n[o[a]],u=0;u<s.length;u++)s[u].root&&!t.isChildOf(r,s[u].root)||i.push(s[u].handler)}r=r.parentNode}return i}function s(t,n,r){for(var i=!0,o=0;o<t.length;o++){var a=t[o].call(e,n,r,n.target||n.srcElement);i=i&&!(void 0!==a&&!0!==a)}return i}function u(t){t=t||window.event;var r=e.locate(t),i=a(t,n.doubleclick),o=!e.checkEvent("onTaskDblClick")||null===r||e.callEvent("onTaskDblClick",[r,t]);if(o){if(!s(i,t,r))return;null!==r&&e.getTask(r)&&o&&e.config.details_on_dblclick&&!e.isReadonly(r)&&e.showLightbox(r)}}function l(t){if(e.checkEvent("onMouseMove")){var n=e.locate(t);e._last_move_event=t,e.callEvent("onMouseMove",[n,t])}}var c=e._createDomEventScope();function h(t){c.detachAll(),t&&(c.attach(t,"click",i),c.attach(t,"dblclick",u),c.attach(t,"mousemove",l),c.attach(t,"contextmenu",o))}return{reset:h,global:function(t,e,n){r(t,e,n,null)},delegate:r,detach:function(t,e,r,i){if(n[t]&&n[t][e]){for(var o=n[t],a=o[e],s=0;s<a.length;s++)a[s].root==i&&(a.splice(s,1),s--);a.length||delete o[e]}},callHandler:function(t,e,r,i){var o=n[t][e];if(o)for(var a=0;a<o.length;a++)(r||o[a].root)&&o[a].root!==r||o[a].handler.apply(this,i)},onDoubleClick:u,onMouseMove:l,onContextMenu:o,onClick:i,destructor:function(){h(),n=null,c=null}}}}(n(1));t.exports={init:r}},function(t,e,n){var r=n(204);function i(t,e){if(t.view){var n=t.view;"string"==typeof n&&(n=e.$ui.getView(n)),n&&n.attachEvent&&n.attachEvent("onScroll",(function(){e.$services.getService("state").getState("batchUpdate").batch_update||n.$config.$skipSmartRenderOnScroll||t.requestUpdate&&t.requestUpdate()}))}}t.exports=function(t){var e=r(t);return{getDataRender:function(e){return t.$services.getService("layer:"+e)||null},createDataRender:function(n){var r=n.name,o=n.defaultContainer,a=n.defaultContainerSibling,s=e.createGroup(o,a,(function(t,e){if(!s.filters)return!0;for(var n=0;n<s.filters.length;n++)if(!1===s.filters[n](t,e))return!1}),i);return t.$services.setService("layer:"+r,(function(){return s})),t.attachEvent("onGanttReady",(function(){s.addLayer()})),s},init:function(){var e=this.createDataRender({name:"task",defaultContainer:function(){return t.$task_data?t.$task_data:t.$ui.getView("timeline")?t.$ui.getView("timeline").$task_data:void 0},defaultContainerSibling:function(){return t.$task_links?t.$task_links:t.$ui.getView("timeline")?t.$ui.getView("timeline").$task_links:void 0},filter:function(t){}},t),n=this.createDataRender({name:"link",defaultContainer:function(){return t.$task_data?t.$task_data:t.$ui.getView("timeline")?t.$ui.getView("timeline").$task_data:void 0}},t);return{addTaskLayer:function(t){return"function"==typeof t&&(t={renderer:t}),t.view="timeline",e.addLayer(t)},_getTaskLayers:function(){return e.getLayers()},removeTaskLayer:function(t){e.removeLayer(t)},_clearTaskLayers:function(){e.clear()},addLinkLayer:function(t){return"function"==typeof t&&(t={renderer:{render:t}}),t.view="timeline",n.addLayer(t)},_getLinkLayers:function(){return n.getLayers()},removeLinkLayer:function(t){n.removeLayer(t)},_clearLinkLayers:function(){n.clear()}}}}}},function(t,e,n){var r=n(205),i=n(0),o=n(1),a=n(14);function s(t){return t instanceof Array||(t=Array.prototype.slice.call(arguments,0)),function(e){for(var n=!0,r=0,i=t.length;r<i;r++){var o=t[r];o&&(n=n&&!1!==o(e.id,e))}return n}}t.exports=function(t){var e=r(t);return{createGroup:function(n,r,u,l){var c={tempCollection:[],renderers:{},container:n,filters:[],getLayers:function(){this._add();var t=[];for(var e in this.renderers)t.push(this.renderers[e]);return t},getLayer:function(t){return this.renderers[t]},_add:function(n){n&&(n.id=n.id||i.uid(),this.tempCollection.push(n));for(var a=this.container(),s=this.tempCollection,u=0;u<s.length;u++)if(n=s[u],this.container()||n&&n.container&&o.isChildOf(n.container,document.body)){var c=n.container,h=n.id,f=n.topmost;if(!c.parentNode)if(f)a.appendChild(c);else{var d=r?r():a.firstChild;d&&d.parentNode==a?a.insertBefore(c,d):a.appendChild(c)}this.renderers[h]=e.getRenderer(h,n,c),l&&l(n,t),this.tempCollection.splice(u,1),u--}},addLayer:function(e){if(e){"function"==typeof e&&(e={renderer:e}),void 0===e.filter?e.filter=s(u||[]):e.filter instanceof Array&&(e.filter.push(u),e.filter=s(e.filter)),e.container||(e.container=document.createElement("div"));var n=this;e.requestUpdate=function(){t.config.smart_rendering&&!a(t)&&n.renderers[e.id]&&n.onUpdateRequest(n.renderers[e.id])}}return this._add(e),e?e.id:void 0},onUpdateRequest:function(t){},eachLayer:function(t){for(var e in this.renderers)t(this.renderers[e])},removeLayer:function(t){this.renderers[t]&&(this.renderers[t].destructor(),delete this.renderers[t])},clear:function(){for(var t in this.renderers)this.renderers[t].destructor();this.renderers={}}};return t.attachEvent("onDestroy",(function(){c.clear(),c=null})),c}}}},function(t,e,n){var r=n(206),i=n(14),o=n(21),a=n(5);t.exports=function(t){var e={},n={};function s(e){var n=null;return"string"==typeof e.view?n=t.$ui.getView(e.view):e.view&&(n=e.view),n}function u(u,l,c){if(n[u])return n[u];l.renderer||t.assert(!1,"Invalid renderer call");var h=null,f=null,d=null,p=null,g=null;"function"==typeof l.renderer?(h=l.renderer,d=o):(h=l.renderer.render,f=l.renderer.update,p=l.renderer.onrender,l.renderer.isInViewPort?g=l.renderer.isInViewPort:d=l.renderer.getRectangle,d||null===d||(d=o));var v=l.filter;return c&&c.setAttribute(t.config.layer_attribute,!0),n[u]={render_item:function(e,n,o,a,u){if(n=n||c,!v||v(e)){var f=a||s(l),_=u||(f?f.$getConfig():null),m=o;!m&&_&&_.smart_rendering&&(m=f.getViewPort());var y=null;!i(t)&&(d||g)&&m?(g?g(e,m,f,_,t):r(m,d(e,f,_,t)))&&(y=h.call(t,e,f,_,m)):y=h.call(t,e,f,_,m),this.append(e,y,n);var b=11==n.nodeType;p&&!b&&y&&p.call(t,e,y,f)}else this.remove_item(e.id)},clear:function(t){this.rendered=e[u]={},l.append||this.clear_container(t)},clear_container:function(t){(t=t||c)&&(t.innerHTML="")},get_visible_range:function(e){var n,r,i=s(l),o=i?i.$getConfig():null;return o&&o.smart_rendering&&(n=i.getViewPort()),i&&n&&("function"==typeof l.renderer?r=a(t,i,o,e,n):l.renderer&&l.renderer.getVisibleRange&&(r=l.renderer.getVisibleRange(t,i,o,e,n))),r||(r={start:0,end:e.count()}),r},render_items:function(e,n){n=n||c;var r=document.createDocumentFragment();this.clear(n);var i=null,o=s(l),a=o?o.$getConfig():null;a&&a.smart_rendering&&(i=o.getViewPort());for(var u=0,h=e.length;u<h;u++)this.render_item(e[u],r,i,o,a);n.appendChild(r,n);var f={};e.forEach((function(t){f[t.id]=t}));var d={};if(p){var g={};for(var u in this.rendered)d[u]||(g[u]=this.rendered[u],p.call(t,f[u],this.rendered[u],o))}},update_items:function(e,n){var o=s(l),a=o?o.$getConfig():null;if(o&&o.$getConfig().smart_rendering&&!i(t)&&this.rendered&&(d||g)){n=n||c;var u=document.createDocumentFragment(),h=null;o&&(h=o.getViewPort());var v={};e.forEach((function(t){v[t.id]=t}));var _={},m={};for(var y in this.rendered)m[y]=!0,_[y]=!0;for(var b={},w=(y=0,e.length);y<w;y++){var k=e[y],S=this.rendered[k.id];m[k.id]=!1,S&&S.parentNode?(g?g(k,h,o,a,t):r(h,d(k,o,a,t)))?(f&&f.call(t,k,S,o,a,h),this.restore(k,u)):m[k.id]=!0:(b[e[y].id]=!0,this.render_item(e[y],u,h,o,a))}for(var y in m)m[y]&&this.hide(y);if(u.childNodes.length&&n.appendChild(u,n),p){var T={};for(var y in this.rendered)_[y]&&!b[y]||(T[y]=this.rendered[y],p.call(t,v[y],this.rendered[y],o))}}},append:function(t,e,n){this.rendered&&(e?(this.rendered[t.id]&&this.rendered[t.id].parentNode?this.replace_item(t.id,e):n.appendChild(e),this.rendered[t.id]=e):this.rendered[t.id]&&this.remove_item(t.id))},replace_item:function(t,e){var n=this.rendered[t];n&&n.parentNode&&n.parentNode.replaceChild(e,n),this.rendered[t]=e},remove_item:function(t){this.hide(t),delete this.rendered[t]},hide:function(t){var e=this.rendered[t];e&&e.parentNode&&e.parentNode.removeChild(e)},restore:function(t,e){var n=this.rendered[t.id];n?n.parentNode||this.append(t,n,e||c):this.render_item(t,e||c)},change_id:function(t,e){this.rendered[e]=this.rendered[t],delete this.rendered[t]},rendered:e[u],node:c,destructor:function(){this.clear(),delete n[u],delete e[u]}},n[u]}return{getRenderer:u,clearRenderers:function(){for(var t in n)u(t).destructor()}}}},function(t,e){t.exports=function(t,e){return!!e&&!(e.left>t.x_end||e.left+e.width<t.x)&&!(e.top>t.y_end||e.top+e.height<t.y)}},function(t,e,n){var r=n(3),i=n(41),o=n(11),a=function(t){"use strict";function e(e,n,r){for(var i=t.apply(this,arguments)||this,o=0;o<i.$cells.length;o++)i.$cells[o].$config.hidden=0!==o;return i.$cell=i.$cells[0],i.$name="viewLayout",i}return r(e,t),e.prototype.cell=function(e){var n=t.prototype.cell.call(this,e);return n.$view||this.$fill(null,this),n},e.prototype.moveView=function(t){var e=this.$view;this.$cell&&(this.$cell.$config.hidden=!0,e.removeChild(this.$cell.$view)),this.$cell=t,e.appendChild(t.$view)},e.prototype.setSize=function(t,e){o.prototype.setSize.call(this,t,e)},e.prototype.setContentSize=function(){var t=this.$lastSize;this.$cell.setSize(t.contentX,t.contentY)},e.prototype.getSize=function(){var e=t.prototype.getSize.call(this);if(this.$cell){var n=this.$cell.getSize();if(this.$config.byMaxSize)for(var r=0;r<this.$cells.length;r++){var i=this.$cells[r].getSize();for(var o in n)n[o]=Math.max(n[o],i[o])}for(var a in e)e[a]=e[a]||n[a];e.gravity=Math.max(e.gravity,n.gravity)}return e},e}(i);t.exports=a},function(t,e,n){var r=n(3),i=n(0),o=function(t){"use strict";function e(e,n,r){var o=t.apply(this,arguments)||this;if(n.view){n.id&&(this.$id=i.uid());var a=i.copy(n);if(delete a.config,delete a.templates,this.$content=this.$factory.createView(n.view,this,a,this),!this.$content)return!1}return o.$name="viewCell",o}return r(e,t),e.prototype.destructor=function(){this.clear(),t.prototype.destructor.call(this)},e.prototype.clear=function(){if(this.$initialized=!1,this.$content){var e=this.$content.unload||this.$content.destructor;e&&e.call(this.$content)}t.prototype.clear.call(this)},e.prototype.scrollTo=function(e,n){this.$content&&this.$content.scrollTo?this.$content.scrollTo(e,n):t.prototype.scrollTo.call(this,e,n)},e.prototype._setContentSize=function(t,e){var n=this._getBorderSizes();if("number"==typeof t){var r=t+n.horizontal;this.$config.width=r}if("number"==typeof e){var i=e+n.vertical;this.$config.height=i}},e.prototype.setSize=function(e,n){if(t.prototype.setSize.call(this,e,n),!this.$preResize&&this.$content&&!this.$initialized){this.$initialized=!0;var r=this.$view.childNodes[0],i=this.$view.childNodes[1];i||(i=r),this.$content.init(i)}},e.prototype.setContentSize=function(){!this.$preResize&&this.$content&&this.$initialized&&this.$content.setSize(this.$lastSize.contentX,this.$lastSize.contentY)},e.prototype.getContentSize=function(){var e=t.prototype.getContentSize.call(this);if(this.$content&&this.$initialized){var n=this.$content.getSize();e.width=void 0===n.contentX?n.width:n.contentX,e.height=void 0===n.contentY?n.height:n.contentY}var r=this._getBorderSizes();return e.width+=r.horizontal,e.height+=r.vertical,e},e}(n(11));t.exports=o},function(t,e){t.exports=null},function(t,e,n){var r=n(3),i=n(1),o=n(0),a=n(7),s=function(t){"use strict";var e=["altKey","shiftKey","metaKey"];function n(e,n,r,i){var a=t.apply(this,arguments)||this;this.$config=o.mixin(n,{scroll:"x"}),a._scrollHorizontalHandler=o.bind(a._scrollHorizontalHandler,a),a._scrollVerticalHandler=o.bind(a._scrollVerticalHandler,a),a._outerScrollVerticalHandler=o.bind(a._outerScrollVerticalHandler,a),a._outerScrollHorizontalHandler=o.bind(a._outerScrollHorizontalHandler,a),a._mouseWheelHandler=o.bind(a._mouseWheelHandler,a),this.$config.hidden=!0;var s=i.config.scroll_size;return i.env.isIE&&(s+=1),this._isHorizontal()?(a.$config.height=s,a.$parent.$config.height=s):(a.$config.width=s,a.$parent.$config.width=s),this.$config.scrollPosition=0,a.$name="scroller",a}return r(n,t),n.prototype.init=function(t){t.innerHTML=this.$toHTML(),this.$view=t.firstChild,this.$view||this.init(),this._isVertical()?this._initVertical():this._initHorizontal(),this._initMouseWheel(),this._initLinkedViews()},n.prototype.$toHTML=function(){return"<div class='gantt_layout_cell "+(this._isHorizontal()?"gantt_hor_scroll":"gantt_ver_scroll")+"'><div style='"+(this._isHorizontal()?"width:2000px":"height:2000px")+"'></div></div>"},n.prototype._getRootParent=function(){for(var t=this.$parent;t&&t.$parent;)t=t.$parent;if(t)return t},n.prototype._eachView=function(){var t=[];return function t(e,n){if(n.push(e),e.$cells)for(var r=0;r<e.$cells.length;r++)t(e.$cells[r],n)}(this._getRootParent(),t),t},n.prototype._getLinkedViews=function(){for(var t=this._eachView(),e=[],n=0;n<t.length;n++)t[n].$config&&(this._isVertical()&&t[n].$config.scrollY==this.$id||this._isHorizontal()&&t[n].$config.scrollX==this.$id)&&e.push(t[n]);return e},n.prototype._initHorizontal=function(){this.$scroll_hor=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollHorizontalHandler)},n.prototype._initLinkedViews=function(){for(var t=this._getLinkedViews(),e=this._isVertical()?"gantt_layout_outer_scroll gantt_layout_outer_scroll_vertical":"gantt_layout_outer_scroll gantt_layout_outer_scroll_horizontal",n=0;n<t.length;n++)i.addClassName(t[n].$view||t[n].getNode(),e)},n.prototype._initVertical=function(){this.$scroll_ver=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollVerticalHandler)},n.prototype._updateLinkedViews=function(){},n.prototype._initMouseWheel=function(){a.isFF?this.$domEvents.attach(this._getRootParent().$view,"wheel",this._mouseWheelHandler,{passive:!1}):this.$domEvents.attach(this._getRootParent().$view,"mousewheel",this._mouseWheelHandler,{passive:!1})},n.prototype.scrollHorizontally=function(t){if(!this._scrolling){this._scrolling=!0,this.$scroll_hor.scrollLeft=t,this.$config.codeScrollLeft=t,t=this.$scroll_hor.scrollLeft;for(var e=this._getLinkedViews(),n=0;n<e.length;n++)e[n].scrollTo&&e[n].scrollTo(t,void 0);var r=this.$config.scrollPosition;this.$config.scrollPosition=t,this.callEvent("onScroll",[r,t,this.$config.scroll]),this._scrolling=!1}},n.prototype.scrollVertically=function(t){if(!this._scrolling){this._scrolling=!0,this.$scroll_ver.scrollTop=t,t=this.$scroll_ver.scrollTop;for(var e=this._getLinkedViews(),n=0;n<e.length;n++)e[n].scrollTo&&e[n].scrollTo(void 0,t);var r=this.$config.scrollPosition;this.$config.scrollPosition=t,this.callEvent("onScroll",[r,t,this.$config.scroll]),this._scrolling=!1}},n.prototype._isVertical=function(){return"y"==this.$config.scroll},n.prototype._isHorizontal=function(){return"x"==this.$config.scroll},n.prototype._scrollHorizontalHandler=function(t){if(!this._isVertical()&&!this._scrolling){if(new Date-(this._wheel_time||0)<100)return!0;var e=this.$scroll_hor.scrollLeft;this.scrollHorizontally(e),this._oldLeft=this.$scroll_hor.scrollLeft}},n.prototype._outerScrollHorizontalHandler=function(t){this._isVertical()},n.prototype.show=function(){this.$parent.show()},n.prototype.hide=function(){this.$parent.hide()},n.prototype._getScrollSize=function(){for(var t,e=0,n=0,r=this._isHorizontal(),i=this._getLinkedViews(),o=r?"scrollWidth":"scrollHeight",a=r?"contentX":"contentY",s=r?"x":"y",u=this._getScrollOffset(),l=0;l<i.length;l++)if((t=i[l])&&t.$content&&t.$content.getSize&&!t.$config.hidden){var c,h=t.$content.getSize();if(c=h.hasOwnProperty(o)?h[o]:h[a],u)h[a]>h[s]&&h[a]>e&&c>h[s]-u+2&&(e=c+(r?0:2),n=h[s]);else{var f=Math.max(h[a]-c,0);(c+=f)>Math.max(h[s]-f,0)&&c>e&&(e=c,n=h[s])}}return{outerScroll:n,innerScroll:e}},n.prototype.scroll=function(t){this._isHorizontal()?this.scrollHorizontally(t):this.scrollVertically(t)},n.prototype.getScrollState=function(){return{visible:this.isVisible(),direction:this.$config.scroll,size:this.$config.outerSize,scrollSize:this.$config.scrollSize||0,position:this.$config.scrollPosition||0}},n.prototype.setSize=function(e,n){t.prototype.setSize.apply(this,arguments);var r=this._getScrollSize(),i=(this._isVertical()?n:e)-this._getScrollOffset()+(this._isHorizontal()?1:0);r.innerScroll&&i>r.outerScroll&&(r.innerScroll+=i-r.outerScroll),this.$config.scrollSize=r.innerScroll,this.$config.width=e,this.$config.height=n,this._setScrollSize(r.innerScroll)},n.prototype.isVisible=function(){return!(!this.$parent||!this.$parent.$view.parentNode)},n.prototype.shouldShow=function(){var t=this._getScrollSize();return!(!t.innerScroll&&this.$parent&&this.$parent.$view.parentNode)&&!(!t.innerScroll||this.$parent&&this.$parent.$view.parentNode)},n.prototype.shouldHide=function(){return!(this._getScrollSize().innerScroll||!this.$parent||!this.$parent.$view.parentNode)},n.prototype.toggleVisibility=function(){this.shouldHide()?this.hide():this.shouldShow()&&this.show()},n.prototype._getScaleOffset=function(t){var e=0;return!t||"timeline"!=t.$config.view&&"grid"!=t.$config.view||(e=t.$content.$getConfig().scale_height),e},n.prototype._getScrollOffset=function(){var t=0;if(this._isVertical()){var e=this.$parent.$parent;t=Math.max(this._getScaleOffset(e.getPrevSibling(this.$parent.$id)),this._getScaleOffset(e.getNextSibling(this.$parent.$id)))}else for(var n=this._getLinkedViews(),r=0;r<n.length;r++){var i=n[r].$parent.$cells,o=i[i.length-1];if(o&&"scrollbar"==o.$config.view&&!1===o.$config.hidden){t=o.$config.width;break}}return t||0},n.prototype._setScrollSize=function(t){var e=this._isHorizontal()?"width":"height",n=this._isHorizontal()?this.$scroll_hor:this.$scroll_ver,r=this._getScrollOffset(),o=n.firstChild;r?this._isVertical()?(this.$config.outerSize=this.$config.height-r+3,n.style.height=this.$config.outerSize+"px",n.style.top=r-1+"px",i.addClassName(n,this.$parent._borders.top),i.addClassName(n.parentNode,"gantt_task_vscroll")):(this.$config.outerSize=this.$config.width-r+1,n.style.width=this.$config.outerSize+"px"):(n.style.top="auto",i.removeClassName(n,this.$parent._borders.top),i.removeClassName(n.parentNode,"gantt_task_vscroll"),this.$config.outerSize=this.$config.height),o.style[e]=t+"px"},n.prototype._scrollVerticalHandler=function(t){if(!this._scrollHorizontalHandler()&&!this._scrolling){var e=this.$scroll_ver.scrollTop;e!=this._oldTop&&(this.scrollVertically(e),this._oldTop=this.$scroll_ver.scrollTop)}},n.prototype._outerScrollVerticalHandler=function(t){this._scrollHorizontalHandler()},n.prototype._checkWheelTarget=function(t){for(var e=this._getLinkedViews().concat(this),n=0;n<e.length;n++){var r=e[n].$view;if(i.isChildOf(t,r))return!0}return!1},n.prototype._mouseWheelHandler=function(t){var n=t.target||t.srcElement;if(this._checkWheelTarget(n)){this._wheel_time=new Date;var r={},i={x:1,y:1},o=this.$gantt.config.wheel_scroll_sensitivity;"number"==typeof o&&o?i={x:o,y:o}:"[object Object]"=={}.toString.apply(o)&&(i={x:o.x,y:o.y});var s=a.isFF,u=s?t.deltaX:t.wheelDeltaX,l=s?t.deltaY:t.wheelDelta,c=-20;s&&(c=0!==t.deltaMode?-40:-10);var h=s?u*c*i.x:2*u*i.x,f=s?l*c*i.y:l*i.y,d=this.$gantt.config.horizontal_scroll_key;if(!1!==d&&e.indexOf(d)>=0&&(!t[d]||t.deltaX||t.wheelDeltaX||(h=2*f,f=0)),h&&Math.abs(h)>Math.abs(f)){if(this._isVertical())return;if(r.x)return!0;if(!this.$scroll_hor||!this.$scroll_hor.offsetWidth)return!0;var p=h/-40,g=this._oldLeft,v=g+30*p;if(this.scrollHorizontally(v),this.$scroll_hor.scrollLeft=v,g==this.$scroll_hor.scrollLeft)return!0;this._oldLeft=this.$scroll_hor.scrollLeft}else{if(this._isHorizontal())return;if(r.y)return!0;if(!this.$scroll_ver||!this.$scroll_ver.offsetHeight)return!0;p=f/-40,void 0===f&&(p=t.detail);var _=this._oldTop,m=this.$scroll_ver.scrollTop+30*p;if(this.scrollVertically(m),this.$scroll_ver.scrollTop=m,_==this.$scroll_ver.scrollTop)return!0;this._oldTop=this.$scroll_ver.scrollTop}return t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,!1}},n}(n(11));t.exports=s},function(t,e){t.exports={create:function(){return{render:function(){},destroy:function(){}}}}},function(t,e,n){var r=n(213),i=n(216),o=n(217),a=n(218),s=n(219),u=n(220),l=n(221),c=n(0),h=n(1),f=n(4),d=n(222);function p(t){t.config.editor_types={text:new(i(t)),number:new(o(t)),select:new(a(t)),date:new(s(t)),predecessor:new(u(t)),duration:new(l(t))}}t.exports=function(t){var e=r(t),n={};f(n);var i={init:p,createEditors:function(r){function i(t,e){var n=r.$getConfig(),i=function(t,e){for(var n=r.$getConfig(),i=r.getItemTop(t),o=r.getItemHeight(t),a=r.getGridColumns(),s=0,u=0,l=0,c=0;c<a.length;c++){if(a[c].name==e){l=a[c].width;break}n.rtl?u+=a[c].width:s+=a[c].width}return n.rtl?{top:i,right:u,height:o,width:l}:{top:i,left:s,height:o,width:l}}(t,e),o=document.createElement("div");o.className="gantt_grid_editor_placeholder",o.setAttribute(r.$config.item_attribute,t),o.setAttribute(r.$config.bind+"_id",t),o.setAttribute("data-column-name",e);var a=function(t,e){for(var n=t.getGridColumns(),r=0;r<n.length;r++)if(n[r].name==e)return r;return 0}(r,e);return o.setAttribute("data-column-index",a),n.rtl?o.style.cssText=["top:"+i.top+"px","right:"+i.right+"px","width:"+i.width+"px","height:"+i.height+"px"].join(";"):o.style.cssText=["top:"+i.top+"px","left:"+i.left+"px","width:"+i.width+"px","height:"+i.height+"px"].join(";"),o}var o=d(t),a=[],s=[],u=null,l={_itemId:null,_columnName:null,_editor:null,_editorType:null,_placeholder:null,locateCell:function(t){if(!h.isChildOf(t,r.$grid))return null;var e=h.locateAttribute(t,r.$config.item_attribute),n=h.locateAttribute(t,"data-column-name");if(e&&n){var i=n.getAttribute("data-column-name");return{id:e.getAttribute(r.$config.item_attribute),columnName:i}}return null},getEditorConfig:function(t){return r.getColumn(t).editor},init:function(){var n=e.getMapping();n.init&&n.init(this,r),u=r.$gantt.getDatastore(r.$config.bind);var i=this;a.push(u.attachEvent("onIdChange",(function(t,e){i._itemId==t&&(i._itemId=e)}))),a.push(u.attachEvent("onStoreUpdated",(function(){r.$gantt.getState("batchUpdate").batch_update||i.isVisible()&&!u.isVisible(i._itemId)&&i.hide()}))),s.push(t.attachEvent("onDataRender",(function(){i._editor&&i._placeholder&&!h.isChildOf(i._placeholder,t.$root)&&r.$grid_data.appendChild(i._placeholder)}))),this.init=function(){}},getState:function(){return{editor:this._editor,editorType:this._editorType,placeholder:this._placeholder,id:this._itemId,columnName:this._columnName}},startEdit:function(e,n){if(this.isVisible()&&this.save(),u.exists(e)){var r={id:e,columnName:n};t.isReadonly(u.getItem(e))?this.callEvent("onEditPrevent",[r]):!1!==this.callEvent("onBeforeEditStart",[r])?(this.show(r.id,r.columnName),this.setValue(),this.callEvent("onEditStart",[r])):this.callEvent("onEditPrevent",[r])}},isVisible:function(){return!(!this._editor||!h.isChildOf(this._placeholder,t.$root))},show:function(t,n){this.isVisible()&&this.save();var o={id:t,columnName:n},a=r.getColumn(o.columnName),s=this.getEditorConfig(a.name);if(s){var u=r.$getConfig().editor_types[s.type],l=i(o.id,o.columnName);r.$grid_data.appendChild(l),u.show(o.id,a,s,l),this._editor=u,this._placeholder=l,this._itemId=o.id,this._columnName=o.columnName,this._editorType=s.type;var c=e.getMapping();c.onShow&&c.onShow(this,l,r)}},setValue:function(){var t=this.getState(),e=t.id,n=t.columnName,i=r.getColumn(n),o=u.getItem(e),a=this.getEditorConfig(n);if(a){var s=o[a.map_to];"auto"==a.map_to&&(s=u.getItem(e)),this._editor.set_value(s,e,i,this._placeholder),this.focus()}},focus:function(){this._editor.focus(this._placeholder)},getValue:function(){var t=r.getColumn(this._columnName);return this._editor.get_value(this._itemId,t,this._placeholder)},_getItemValue:function(){var e=this.getEditorConfig(this._columnName);if(e){var n=t.getTask(this._itemId)[e.map_to];return"auto"==e.map_to&&(n=u.getItem(this._itemId)),n}},isChanged:function(){var t=r.getColumn(this._columnName),e=this._getItemValue();return this._editor.is_changed(e,this._itemId,t,this._placeholder)},hide:function(){if(this._itemId){var t=this._itemId,n=this._columnName,i=e.getMapping();i.onHide&&i.onHide(this,this._placeholder,r),this._itemId=null,this._columnName=null,this._editorType=null,this._placeholder&&(this._editor&&this._editor.hide&&this._editor.hide(this._placeholder),this._editor=null,this._placeholder.parentNode&&this._placeholder.parentNode.removeChild(this._placeholder),this._placeholder=null,this.callEvent("onEditEnd",[{id:t,columnName:n}]))}},save:function(){if(this.isVisible()&&u.exists(this._itemId)&&this.isChanged()){var e=this._itemId,n=this._columnName;if(u.exists(e)){var i=u.getItem(e),a=this.getEditorConfig(n),s={id:e,columnName:n,newValue:this.getValue(),oldValue:this._getItemValue()};if(!1!==this.callEvent("onBeforeSave",[s])&&(!this._editor.is_valid||this._editor.is_valid(s.newValue,s.id,s.columnName,this._placeholder))){var l=a.map_to,c=s.newValue;"auto"!=l?(i[l]=c,o(i,l,t.config.inline_editors_date_processing),u.updateItem(e)):this._editor.save(e,r.getColumn(n),this._placeholder),this.callEvent("onSave",[s])}this.hide()}}else this.hide()},_findEditableCell:function(t,e){var n=t,i=r.getGridColumns()[n],o=i?i.name:null;if(o){for(;o&&!this.getEditorConfig(o);)o=this._findEditableCell(t+e,e);return o}return null},getNextCell:function(t){return this._findEditableCell(r.getColumnIndex(this._columnName,!0)+t,t)},getFirstCell:function(){return this._findEditableCell(0,1)},getLastCell:function(){return this._findEditableCell(r.getGridColumns().length-1,-1)},editNextCell:function(t){var e=this.getNextCell(1);if(e){var n=this.getNextCell(1);n&&this.getEditorConfig(n)&&this.startEdit(this._itemId,n)}else if(t&&this.moveRow(1)){var r=this.moveRow(1);(e=this.getFirstCell())&&this.getEditorConfig(e)&&this.startEdit(r,e)}},editPrevCell:function(t){var e=this.getNextCell(-1);if(e){var n=this.getNextCell(-1);n&&this.getEditorConfig(n)&&this.startEdit(this._itemId,n)}else if(t&&this.moveRow(-1)){var r=this.moveRow(-1);(e=this.getLastCell())&&this.getEditorConfig(e)&&this.startEdit(r,e)}},moveRow:function(e){for(var n=e>0?t.getNext:t.getPrev,r=(n=t.bind(n,t))(this._itemId);t.isTaskExists(r)&&t.isReadonly(t.getTask(r));)r=n(r);return r},editNextRow:function(e){var n=this.getState().id;if(t.isTaskExists(n)){var r=null;r=e?this.moveRow(1):t.getNext(n),t.isTaskExists(r)&&this.startEdit(r,this._columnName)}},editPrevRow:function(e){var n=this.getState().id;if(t.isTaskExists(n)){var r=null;r=e?this.moveRow(-1):t.getPrev(n),t.isTaskExists(r)&&this.startEdit(r,this._columnName)}},destructor:function(){a.forEach((function(t){u.detachEvent(t)})),s.forEach((function(e){t.detachEvent(e)})),a=[],s=[],u=null,this.hide(),this.detachAllEvents()}};return c.mixin(l,e),c.mixin(l,n),l}};return c.mixin(i,e),c.mixin(i,n),i}},function(t,e,n){var r=n(214),i=n(215);t.exports=function(t){var e=null;return{setMapping:function(t){e=t},getMapping:function(){return e||(t.config.keyboard_navigation_cells&&t.ext.keyboardNavigation?i:r)}}}},function(t,e){t.exports={init:function(t,e){var n=e.$gantt;n.attachEvent("onTaskClick",(function(e,r){if(n._is_icon_open_click(r))return!0;var i=t.getState(),o=t.locateCell(r.target);return!o||!t.getEditorConfig(o.columnName)||(t.isVisible()&&i.id==o.id&&i.columnName==o.columnName||t.startEdit(o.id,o.columnName),!1)})),n.attachEvent("onEmptyClick",(function(){return t.isVisible()&&t.isChanged()?t.save():t.hide(),!0})),n.attachEvent("onTaskDblClick",(function(e,n){var r=t.getState(),i=t.locateCell(n.target);return!i||!t.isVisible()||i.columnName!=r.columnName}))},onShow:function(t,e,n){var r=n.$gantt;r.ext&&r.ext.keyboardNavigation&&r.ext.keyboardNavigation.attachEvent("onKeyDown",(function(e,n){var i=r.constants.KEY_CODES,o=!1;return n.keyCode===i.SPACE&&t.isVisible()&&(o=!0),!o})),e.onkeydown=function(e){e=e||window.event;var n=r.constants.KEY_CODES;if(!(e.defaultPrevented||e.shiftKey&&e.keyCode!=n.TAB)){var i=!0;switch(e.keyCode){case r.keys.edit_save:t.save();break;case r.keys.edit_cancel:t.hide();break;case n.UP:case n.DOWN:t.isVisible()&&(t.hide(),i=!1);break;case n.TAB:e.shiftKey?t.editPrevCell(!0):t.editNextCell(!0);break;default:i=!1}i&&e.preventDefault()}}},onHide:function(){},destroy:function(){}}},function(t,e){t.exports={init:function(t,e){var n=t,r=e.$gantt,i=null,o=r.ext.keyboardNavigation;o.attachEvent("onBeforeFocus",(function(e){var r=t.locateCell(e);if(clearTimeout(i),r){var o=r.columnName,a=r.id,s=n.getState();if(n.isVisible()&&s.id==a&&s.columnName===o)return!1}return!0})),o.attachEvent("onFocus",(function(e){var r=t.locateCell(e),o=t.getState();return clearTimeout(i),!r||r.id==o.id&&r.columnName==o.columnName||n.isVisible()&&n.save(),!0})),t.attachEvent("onHide",(function(){clearTimeout(i)})),o.attachEvent("onBlur",(function(){return i=setTimeout((function(){n.save()})),!0})),r.attachEvent("onTaskDblClick",(function(e,n){var r=t.getState(),i=t.locateCell(n.target);return!i||!t.isVisible()||i.columnName!=r.columnName})),r.attachEvent("onTaskClick",(function(e,n){if(r._is_icon_open_click(n))return!0;var i=t.getState(),o=t.locateCell(n.target);return!o||!t.getEditorConfig(o.columnName)||(t.isVisible()&&i.id==o.id&&i.columnName==o.columnName||t.startEdit(o.id,o.columnName),!1)})),r.attachEvent("onEmptyClick",(function(){return n.save(),!0})),o.attachEvent("onKeyDown",(function(e,i){var a=t.locateCell(i.target),s=!!a&&t.getEditorConfig(a.columnName),u=t.getState(),l=r.constants.KEY_CODES,c=i.keyCode,h=!1;switch(c){case l.ENTER:t.isVisible()?(t.save(),i.preventDefault(),h=!0):s&&!(i.ctrlKey||i.metaKey||i.shiftKey)&&(n.startEdit(a.id,a.columnName),i.preventDefault(),h=!0);break;case l.ESC:t.isVisible()&&(t.hide(),i.preventDefault(),h=!0);break;case l.UP:case l.DOWN:break;case l.LEFT:case l.RIGHT:(s&&t.isVisible()||"date"===u.editorType)&&(h=!0);break;case l.SPACE:t.isVisible()&&(h=!0),s&&!t.isVisible()&&(n.startEdit(a.id,a.columnName),i.preventDefault(),h=!0);break;case l.DELETE:s&&!t.isVisible()?(n.startEdit(a.id,a.columnName),h=!0):s&&t.isVisible()&&(h=!0);break;case l.TAB:if(t.isVisible()){i.shiftKey?t.editPrevCell(!0):t.editNextCell(!0);var f=t.getState();f.id&&o.focus({type:"taskCell",id:f.id,column:f.columnName}),i.preventDefault(),h=!0}break;default:if(t.isVisible())h=!0;else if(c>=48&&c<=57||c>95&&c<112||c>=64&&c<=91||c>185&&c<193||c>218&&c<223){var d=e.modifiers,p=d.alt||d.ctrl||d.meta||d.shift;d.alt||p&&o.getCommandHandler(e,"taskCell")||s&&!t.isVisible()&&(n.startEdit(a.id,a.columnName),h=!0)}}return!h}))},onShow:function(t,e,n){},onHide:function(t,e,n){n.$gantt.focus()},destroy:function(){}}},function(t,e,n){t.exports=function(t){var e=n(8)(t),r=n(0);function i(){return e.apply(this,arguments)||this}return n(3)(i,e),r.mixin(i.prototype,{show:function(t,e,n,r){var i="<div><input type='text' name='"+e.name+"'></div>";r.innerHTML=i}},!0),i}},function(t,e,n){t.exports=function(t){var e=n(8)(t),r=n(0);function i(){return e.apply(this,arguments)||this}return n(3)(i,e),r.mixin(i.prototype,{show:function(t,e,n,r){var i="<div><input type='number' min='"+(n.min||0)+"' max='"+(n.max||100)+"' name='"+e.name+"'></div>";r.innerHTML=i},get_value:function(t,e,n){return this.get_input(n).value||""},is_valid:function(t,e,n,r){return!isNaN(parseInt(t,10))}},!0),i}},function(t,e,n){t.exports=function(t){var e=n(8)(t),r=n(0);function i(){return e.apply(this,arguments)||this}return n(3)(i,e),r.mixin(i.prototype,{show:function(t,e,n,r){for(var i="<div><select name='"+e.name+"'>",o=[],a=n.options||[],s=0;s<a.length;s++)o.push("<option value='"+n.options[s].key+"'>"+a[s].label+"</option>");i+=o.join("")+"</select></div>",r.innerHTML=i},get_input:function(t){return t.querySelector("select")}},!0),i}},function(t,e,n){t.exports=function(t){var e=n(8)(t),r=n(0),i="%Y-%m-%d",o=null,a=null;function s(){return e.apply(this,arguments)||this}return n(3)(s,e),r.mixin(s.prototype,{show:function(e,n,r,s){o||(o=t.date.date_to_str(i)),a||(a=t.date.str_to_date(i));var u=null,l=null;u="function"==typeof r.min?r.min(e,n):r.min,l="function"==typeof r.max?r.max(e,n):r.max;var c="<div style='width:140px'><input type='date' "+(u?" min='"+o(u)+"' ":"")+(l?" max='"+o(l)+"' ":"")+" name='"+n.name+"'></div>";s.innerHTML=c},set_value:function(t,e,n,r){t&&t.getFullYear?this.get_input(r).value=o(t):this.get_input(r).value=t},is_valid:function(t,e,n,r){return!(!t||isNaN(t.getTime()))},get_value:function(t,e,n){var r;try{r=a(this.get_input(n).value||"")}catch(t){r=null}return r}},!0),s}},function(t,e,n){t.exports=function(t){var e=n(8)(t),r=n(0);function i(){return e.apply(this,arguments)||this}function o(e){return e.formatter||t.ext.formatters.linkFormatter()}function a(t,e){for(var n=(t||"").split(e.delimiter||","),r=0;r<n.length;r++){var i=n[r].trim();i?n[r]=i:(n.splice(r,1),r--)}return n.sort(),n}function s(t,e,n){for(var r=t.$target,i=[],a=0;a<r.length;a++){var s=n.getLink(r[a]);i.push(o(e).format(s))}return i.join((e.delimiter||",")+" ")}function u(t){return t.source+"_"+t.target+"_"+t.type+"_"+(t.lag||0)}function l(e,n,r){var i=function(e,n,r){var i=[];return n.forEach((function(n){var a=o(r).parse(n);a&&(a.target=e,a.id="predecessor_generated",t.isLinkAllowed(a)&&(a.id=void 0,i.push(a)))})),i}(e.id,n,r),a={};e.$target.forEach((function(e){var n=t.getLink(e);a[u(n)]=n.id}));var s=[];i.forEach((function(t){var e=u(t);a[e]?delete a[e]:s.push(t)}));var l=[];for(var c in a)l.push(a[c]);return{add:s,remove:l}}return n(3)(i,e),r.mixin(i.prototype,{show:function(t,e,n,r){var i="<div><input type='text' name='"+e.name+"'></div>";r.innerHTML=i},hide:function(){},set_value:function(e,n,r,i){this.get_input(i).value=s(e,r.editor,t)},get_value:function(t,e,n){return a(this.get_input(n).value||"",e.editor)},save:function(e,n,r){var i=l(t.getTask(e),this.get_value(e,n,r),n.editor);(i.add.length||i.remove.length)&&t.batchUpdate((function(){i.add.forEach((function(e){t.addLink(e)})),i.remove.forEach((function(e){t.deleteLink(e)})),t.autoSchedule&&t.autoSchedule()}))},is_changed:function(e,n,r,i){var o=this.get_value(n,r,i),u=a(s(e,r.editor,t),r.editor);return o.join()!==u.join()}},!0),i}},function(t,e,n){t.exports=function(t){var e=n(8)(t),r=n(0);function i(){return e.apply(this,arguments)||this}function o(e){return e.formatter||t.ext.formatters.durationFormatter()}return n(3)(i,e),r.mixin(i.prototype,{show:function(t,e,n,r){var i="<div><input type='text' name='"+e.name+"'></div>";r.innerHTML=i},set_value:function(t,e,n,r){this.get_input(r).value=o(n.editor).format(t)},get_value:function(t,e,n){return o(e.editor).parse(this.get_input(n).value||"")}},!0),i}},function(t,e){t.exports=function(t){return function(n,r,i){"keepDates"==i?function(e,n){"duration"==n?e.end_date=t.calculateEndDate(e):"end_date"!=n&&"start_date"!=n||(e.duration=t.calculateDuration(e))}(n,r):"keepDuration"==i?function(n,r){"end_date"==r?n.start_date=e(n):"start_date"!=r&&"duration"!=r||(n.end_date=t.calculateEndDate(n))}(n,r):function(n,r){t.config.schedule_from_end?"end_date"==r||"duration"==r?n.start_date=e(n):"start_date"==r&&(n.duration=t.calculateDuration(n)):"start_date"==r||"duration"==r?n.end_date=t.calculateEndDate(n):"end_date"==r&&(n.duration=t.calculateDuration(n))}(n,r)};function e(e){return t.calculateEndDate({start_date:e.end_date,duration:-e.duration,task:e})}}},function(t,e,n){var r=n(23),i=n(5),o=n(24);t.exports=function(t){return{render:o(t),update:null,isInViewPort:r,getVisibleRange:i}}},function(t,e,n){var r=n(24),i=n(225),o=n(5);t.exports=function(t){var e=r(t);return{render:function(n,r){if(t.isSplitTask(n)&&(t.config.open_split_tasks&&!n.$open||!t.config.open_split_tasks)){var i=document.createElement("div"),o=t.getTaskPosition(n);return t.hasChild(n.id)&&t.eachTask((function(a){var s=t.isSummaryTask(a);if(s&&t.resetProjectDates(a),!a.hide_bar){var u=e(a,r);if(u){var l=r.getBarHeight(n.id,a.type==t.config.types.milestone),c=Math.floor((r.getItemHeight(n.id)-l)/2);u.style.top=o.top+c+"px",u.classList.add("gantt_split_child"),s&&u.classList.add("gantt_split_subproject"),i.appendChild(u)}}}),n.id),i}return!1},update:null,isInViewPort:i,getVisibleRange:o}}},function(t,e,n){var r=n(23);t.exports=function(t,e,n,i,o){if(!o.isSplitTask(t))return!1;var a=o.getSubtaskDates(t.id);return r({id:t.id,start_date:a.start_date,end_date:a.end_date,parent:t.parent},e,n,o)}},function(t,e,n){var r=n(24),i=n(23),o=n(5);t.exports=function(t){var e=r(t);return{render:function(n,r){if(n.$rollup&&n.$rollup.length){var i=document.createElement("div"),o=t.getTaskPosition(n);return n.$rollup.forEach((function(a){var s=t.getTask(a),u=e(s,r);if(u){var l=r.getBarHeight(n.id,s.type==t.config.types.milestone),c=Math.floor((r.getItemHeight(n.id)-l)/2);u.style.top=o.top+c+"px",u.classList.add("gantt_rollup_child"),i.appendChild(u)}})),i}return!1},update:null,isInViewPort:i,getVisibleRange:o}}},function(t,e,n){var r=n(25),i=n(14),o=n(5),a=n(26),s=n(27);t.exports=function(t){var e={},n={};function u(t,n){return!(!e[t.id][n]||!e[t.id][n].parentNode)}function l(t,n){e[t]&&e[t][n]&&e[t][n].parentNode&&e[t][n].parentNode.removeChild(e[t][n])}function c(t){var e,n=t.$getTemplates();return void 0!==n.task_cell_class?(e=n.task_cell_class,(console.warn||console.log)("gantt.templates.task_cell_class template is deprecated and will be removed soon. Please use gantt.templates.timeline_cell_class instead.")):e=n.timeline_cell_class,e}function h(r,i,o,a,u,l,c){var h=r.width[i],f="";if(s(i,r,a,t)){var d=l(o,r.trace_x[i]);if(c.static_background&&(!c.static_background_cells||!d))return null;if(e[o.id][i])return n[o.id][i]=i,e[o.id][i];var p=document.createElement("div");return p.style.width=h+"px",f="gantt_task_cell"+(i==u-1?" gantt_last_cell":""),d&&(f+=" "+d),p.className=f,p.style.position="absolute",p.style.left=r.left[i]+"px",e[o.id][i]=p,n[o.id][i]=i,p}return null}return{render:function(r,o,s,u){var l=o.$getTemplates(),f=o.getScale(),d=f.count;if(s.static_background&&!s.static_background_cells)return null;var p,g=document.createElement("div"),v=c(o);if(p=u&&s.smart_rendering&&!i(t)?a(f,u.x):{start:0,end:d-1},s.show_task_cells){e[r.id]={},n[r.id]={};for(var _=p.start;_<=p.end;_++){var m=h(f,_,r,u,d,v,s);m&&g.appendChild(m)}}var y=t.getGlobalTaskIndex(r.id)%2!=0,b=l.task_row_class(r.start_date,r.end_date,r),w="gantt_task_row"+(y?" odd":"")+(b?" "+b:"");return o.$config.rowStore.isSelected(r.id)&&(w+=" gantt_selected"),g.className=w,s.smart_rendering?(g.style.position="absolute",g.style.top=o.getItemTop(r.id)+"px",g.style.width="100%"):g.style.position="relative",g.style.height=o.getItemHeight(r.id)+"px",o.$config.item_attribute&&(g.setAttribute(o.$config.item_attribute,r.id),g.setAttribute(o.$config.bind+"_id",r.id)),g},update:function(t,r,i,o,s){var f=i.getScale(),d=f.count,p=c(i);if(o.show_task_cells){e[t.id]||(e[t.id]={}),n[t.id]||(n[t.id]={});var g=a(f,s);for(var v in n[t.id]){var _=n[t.id][v];(Number(_)<g.start||Number(_)>g.end)&&l(t.id,_)}n[t.id]={};for(var m=g.start;m<=g.end;m++){var y=h(f,m,t,s,d,p,o);!y&&u(t,m)?l(t.id,m):y&&!y.parentNode&&r.appendChild(y)}}},getRectangle:r,getVisibleRange:o}}},function(t,e,n){var r=n(229);t.exports=function(t){var e={current_pos:null,dirs:{left:"left",right:"right",up:"up",down:"down"},path:[],clear:function(){this.current_pos=null,this.path=[]},point:function(e){this.current_pos=t.copy(e)},get_lines:function(t){this.clear(),this.point(t[0]);for(var e=1;e<t.length;e++)this.line_to(t[e]);return this.get_path()},line_to:function(e){var n=t.copy(e),r=this.current_pos,i=this._get_line(r,n);this.path.push(i),this.current_pos=n},get_path:function(){return this.path},get_wrapper_sizes:function(t,e,n){var r,i=e.$getConfig().link_wrapper_width,o=t.y-i/2;switch(t.direction){case this.dirs.left:r={top:o,height:i,lineHeight:i,left:t.x-t.size-i/2,width:t.size+i};break;case this.dirs.right:r={top:o,lineHeight:i,height:i,left:t.x-i/2,width:t.size+i};break;case this.dirs.up:r={top:o-t.size,lineHeight:t.size+i,height:t.size+i,left:t.x-i/2,width:i};break;case this.dirs.down:r={top:o,lineHeight:t.size+i,height:t.size+i,left:t.x-i/2,width:i}}return r},get_line_sizes:function(t,e){var n,r=e.$getConfig(),i=r.link_line_width,o=r.link_wrapper_width,a=t.size+i;switch(t.direction){case this.dirs.left:case this.dirs.right:n={height:i,width:a,marginTop:(o-i)/2,marginLeft:(o-i)/2};break;case this.dirs.up:case this.dirs.down:n={height:a,width:i,marginTop:(o-i)/2,marginLeft:(o-i)/2}}return n},render_line:function(t,e,n,r){var i=this.get_wrapper_sizes(t,n,r),o=document.createElement("div");o.style.cssText=["top:"+i.top+"px","left:"+i.left+"px","height:"+i.height+"px","width:"+i.width+"px"].join(";"),o.className="gantt_line_wrapper";var a=this.get_line_sizes(t,n),s=document.createElement("div");return s.style.cssText=["height:"+a.height+"px","width:"+a.width+"px","margin-top:"+a.marginTop+"px","margin-left:"+a.marginLeft+"px"].join(";"),s.className="gantt_link_line_"+t.direction,o.appendChild(s),o},_get_line:function(t,e){var n=this.get_direction(t,e),r={x:t.x,y:t.y,direction:this.get_direction(t,e)};return n==this.dirs.left||n==this.dirs.right?r.size=Math.abs(t.x-e.x):r.size=Math.abs(t.y-e.y),r},get_direction:function(t,e){return e.x<t.x?this.dirs.left:e.x>t.x?this.dirs.right:e.y>t.y?this.dirs.down:this.dirs.up}},n={path:[],clear:function(){this.path=[]},current:function(){return this.path[this.path.length-1]},point:function(e){return e?(this.path.push(t.copy(e)),e):this.current()},point_to:function(n,r,i){i=i?{x:i.x,y:i.y}:t.copy(this.point());var o=e.dirs;switch(n){case o.left:i.x-=r;break;case o.right:i.x+=r;break;case o.up:i.y-=r;break;case o.down:i.y+=r}return this.point(i)},get_points:function(n,r,i,o){var a=this.get_endpoint(n,r,i,o),s=t.config,u=a.e_y-a.y,l=a.e_x-a.x,c=e.dirs,h=r.getItemHeight(n.source);this.clear(),this.point({x:a.x,y:a.y});var f=2*s.link_arrow_size,d=this.get_line_type(n,r.$getConfig()),p=a.e_x>a.x;if(d.from_start&&d.to_start)this.point_to(c.left,f),p?(this.point_to(c.down,u),this.point_to(c.right,l)):(this.point_to(c.right,l),this.point_to(c.down,u)),this.point_to(c.right,f);else if(!d.from_start&&d.to_start)if(p=a.e_x>a.x+2*f,this.point_to(c.right,f),p)l-=f,this.point_to(c.down,u),this.point_to(c.right,l);else{l-=2*f;var g=u>0?1:-1;this.point_to(c.down,g*(h/2)),this.point_to(c.right,l),this.point_to(c.down,g*(Math.abs(u)-h/2)),this.point_to(c.right,f)}else d.from_start||d.to_start?d.from_start&&!d.to_start&&(p=a.e_x>a.x-2*f,this.point_to(c.left,f),p?(l+=2*f,g=u>0?1:-1,this.point_to(c.down,g*(h/2)),this.point_to(c.right,l),this.point_to(c.down,g*(Math.abs(u)-h/2)),this.point_to(c.left,f)):(l+=f,this.point_to(c.down,u),this.point_to(c.right,l))):(this.point_to(c.right,f),p?(this.point_to(c.right,l),this.point_to(c.down,u)):(this.point_to(c.down,u),this.point_to(c.right,l)),this.point_to(c.left,f));return this.path},get_line_type:function(e,n){var r=n.links,i=!1,o=!1;return e.type==r.start_to_start?i=o=!0:e.type==r.finish_to_finish?i=o=!1:e.type==r.finish_to_start?(i=!1,o=!0):e.type==r.start_to_finish?(i=!0,o=!1):t.assert(!1,"Invalid link type"),n.rtl&&(i=!i,o=!o),{from_start:i,to_start:o}},get_endpoint:function(t,e,n,r){var o=e.$getConfig(),a=this.get_line_type(t,o),s=a.from_start,u=a.to_start,l=i(n,e,o),c=i(r,e,o);return{x:s?l.left:l.left+l.width,e_x:u?c.left:c.left+c.width,y:l.top+l.rowHeight/2-1,e_y:c.top+c.rowHeight/2-1}}};function i(e,n,r){var i=n.getItemPosition(e);if(t.getTaskType(e.type)==r.types.milestone){var o=n.getBarHeight(e.id,!0),a=Math.sqrt(2*o*o);i.left-=a/2,i.width=a}return i}return{render:function(r,i,o){var a=t.getTask(r.source);if(!a.hide_bar){var s=t.getTask(r.target);if(!s.hide_bar){var u=n.get_endpoint(r,i,a,s),l=u.e_y-u.y;if(!(u.e_x-u.x||l))return null;var c=n.get_points(r,i,a,s),h=e.get_lines(c,i),f=document.createElement("div"),d="gantt_task_link";r.color&&(d+=" gantt_link_inline_color");var p=t.templates.link_class?t.templates.link_class(r):"";p&&(d+=" "+p),o.highlight_critical_path&&t.isCriticalLink&&t.isCriticalLink(r)&&(d+=" gantt_critical_link"),f.className=d,i.$config.link_attribute&&(f.setAttribute(i.$config.link_attribute,r.id),f.setAttribute("link_id",r.id));for(var g=0;g<h.length;g++){g==h.length-1&&(h[g].size-=o.link_arrow_size);var v=e.render_line(h[g],h[g+1],i,r.source);r.color&&(v.firstChild.style.backgroundColor=r.color),f.appendChild(v)}var _=h[h.length-1].direction,m=function(t,n,r,i){var o=r.$getConfig(),a=document.createElement("div"),s=t.y,u=t.x,l=o.link_arrow_size,c="gantt_link_arrow gantt_link_arrow_"+n;switch(n){case e.dirs.right:s-=l/2,u-=l;break;case e.dirs.left:s-=l/2;break;case e.dirs.up:u-=l;break;case e.dirs.down:s+=2*l,u-=l}return a.style.cssText=["top:"+s+"px","left:"+u+"px"].join(";"),a.className=c,a}(c[c.length-1],_,i,r.source);return r.color&&(m.style.borderColor=r.color),f.appendChild(m),t._waiAria.linkAttr(r,f),f}}},update:null,isInViewPort:r}}},function(t,e){t.exports=function(t,e,n,r,i){var o=n.$gantt.getTask(t.source),a=n.$gantt.getTask(t.target),s=n.getItemTop(o.id),u=n.getItemHeight(o.id),l=n.getItemTop(a.id),c=n.getItemHeight(a.id);if(e.y>s+u&&e.y>l+c)return!1;if(e.y_end<l&&e.y_end<s)return!1;var h=n.posFromDate(o.start_date),f=n.posFromDate(o.end_date),d=n.posFromDate(a.start_date),p=n.posFromDate(a.end_date);if(h>f){var g=f;f=h,h=g}return d>p&&(g=p,p=d,d=g),h+=-100,f+=100,d+=-100,p+=100,!(e.x>f&&e.x>p)&&!(e.x_end<h&&e.x_end<d)}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(2),o=n(21),a=n(5);t.exports=function(t){return{render:function(e,n,r,o){for(var a=n.getGridColumns(),s=n.$getTemplates(),u=n.$config.rowStore,l=[],c=0;c<a.length;c++){var h,f,d,p=c==a.length-1,g=a[c];"add"==g.name?(f="<div "+(w=t._waiAria.gridAddButtonAttrString(g))+" class='gantt_add'></div>",d=""):(f=g.template?g.template(e):e[g.name],i.isDate(f)&&(f=s.date_grid(f,e,g.name)),null!==f&&void 0!==f||(f=""),d=f,f="<div class='gantt_tree_content'>"+f+"</div>");var v="gantt_cell"+(p?" gantt_last_cell":""),_=[];if(g.tree){v+=" gantt_cell_tree";for(var m=0;m<e.$level;m++)_.push(s.grid_indent(e));!u.hasChild(e.id)||t.isSplitTask(e)&&!t.config.open_split_tasks?(_.push(s.grid_blank(e)),_.push(s.grid_file(e))):(_.push(s.grid_open(e)),_.push(s.grid_folder(e)))}var y="width:"+(g.width-(p?1:0))+"px;";if(this.defined(g.align)){var b={right:"flex-end",left:"flex-start",center:"center"}[g.align];y+="text-align:"+g.align+";justify-content:"+b+";"}var w=t._waiAria.gridCellAttrString(g,d,e);_.push(f),h="<div class='"+v+"' data-column-index='"+c+"' data-column-name='"+g.name+"' style='"+y+"' "+w+">"+_.join("")+"</div>",l.push(h)}if(v=t.getGlobalTaskIndex(e.id)%2==0?"":" odd",v+=e.$transparent?" gantt_transparent":"",v+=e.$dataprocessor_class?" "+e.$dataprocessor_class:"",s.grid_row_class){var k=s.grid_row_class.call(t,e.start_date,e.end_date,e);k&&(v+=" "+k)}u.isSelected(e.id)&&(v+=" gantt_selected");var S=document.createElement("div");S.className="gantt_row"+v+" gantt_row_"+t.getTaskType(e.type);var T=n.getItemHeight(e.id);return S.style.height=T+"px",S.style.lineHeight=T+"px",r.smart_rendering&&(S.style.position="absolute",S.style.left="0px",S.style.top=n.getItemTop(e.id)+"px"),n.$config.item_attribute&&(S.setAttribute(n.$config.item_attribute,e.id),S.setAttribute(n.$config.bind+"_id",e.id)),t._waiAria.taskRowAttr(e,S),S.innerHTML=l.join(""),S},update:null,getRectangle:o,getVisibleRange:a,onrender:function(e,n,i){for(var o=i.getGridColumns(),a=0;a<o.length;a++){var s=o[a];if(s.onrender){var u=n.querySelector("[data-column-name="+s.name+"]");if(u){var l=s.onrender(e,u);if(l&&"string"==typeof l)u.innerHTML=l;else if(l&&"object"===r(l)&&t.config.external_render){var c=t.config.external_render;c.isElement(l)&&c.renderElement(l,u)}}}}}}}},function(t,e,n){var r=n(25),i=n(5),o=n(26),a=n(27),s=n(42);t.exports=function(t){var e=s(t),n={};function u(t,e,n,r,i){var o=n.resource_cell_class(e.start_date,e.end_date,t,e.tasks,e.assignments),a=n.resource_cell_value(e.start_date,e.end_date,t,e.tasks,e.assignments),s=i.getItemHeight(t.id)-1;if(o||a){var u=i.getItemPosition(t,e.start_date,e.end_date),l=document.createElement("div");return l.setAttribute(i.$config.item_attribute,t.id),l.className=["gantt_resource_marker",o].join(" "),l.style.cssText=["left:"+u.left+"px","width:"+u.width+"px","height:"+s+"px","line-height:"+s+"px","top:"+u.top+"px"].join(";"),a&&(l.innerHTML=a),l}return null}function l(t,e){n[t]&&n[t][e]&&n[t][e].parentNode&&n[t][e].parentNode.removeChild(n[t][e])}return{render:function(r,i,s,l){var c=i.$getTemplates(),h=i.getScale(),f=e(r,s.resource_property,i.getScale(),i),d=!!l,p=[];n[r.id]={};for(var g=o(h,l),v=g.start;v<=g.end;v++){var _=f[v];if(_&&(!d||a(v,h,l,t))){var m=u(r,_,c,0,i);m&&(p.push(m),n[r.id][v]=m)}}var y=null;if(p.length){y=document.createElement("div");for(var b=0;b<p.length;b++)y.appendChild(p[b])}return y},update:function(r,i,s,c,h){var f=s.$getTemplates(),d=s.getScale(),p=e(r,c.resource_property,s.getScale(),s),g=o(d,h),v={};if(n&&n[r.id])for(var _ in n[r.id])v[_]=_;for(var m=g.start;m<=g.end;m++){var y=p[m];if(v[m]=!1,y)if(a(m,d,h,t))if(n[r.id]&&n[r.id][m])n[r.id]&&n[r.id][m]&&!n[r.id][m].parentNode&&i.appendChild(n[r.id][m]);else{var b=u(r,y,f,0,s);b&&(i.appendChild(b),n[r.id][m]=b)}else l(r.id,m)}for(var _ in v)!1!==v[_]&&l(r.id,_)},getRectangle:r,getVisibleRange:i}}},function(t,e,n){var r=n(25),i=n(5),o=n(26),a=n(27),s=n(42);function u(t,e,n,r){var i=100*(1-(1*t||0)),o=r.posFromDate(e),a=r.posFromDate(n),s=document.createElement("div");return s.className="gantt_histogram_hor_bar",s.style.top=i+"%",s.style.left=o+"px",s.style.width=a-o+1+"px",s}function l(t,e,n){if(t===e)return null;var r=1-Math.max(t,e),i=Math.abs(t-e),o=document.createElement("div");return o.className="gantt_histogram_vert_bar",o.style.top=100*r+"%",o.style.height=100*i+"%",o.style.left=n+"px",o}t.exports=function(t){var e=s(t),n={},c={},h={};function f(t,e){var r=n[t];r&&r[e]&&r[e].parentNode&&r[e].parentNode.removeChild(r[e])}function d(e,n,r,i,a,s,c){var f=h[e.id];f&&f.parentNode&&f.parentNode.removeChild(f);var d=function(e,n,r,i){for(var a=n.getScale(),s=document.createElement("div"),c=o(a,i),h=c.start;h<=c.end;h++){var f=a.trace_x[h],d=a.trace_x[h+1]||t.date.add(f,a.step,a.unit),p=a.trace_x[h].valueOf(),g=Math.min(e[p]/r,1)||0;if(g<0)return null;var v=Math.min(e[d.valueOf()]/r,1)||0,_=u(g,f,d,n);_&&s.appendChild(_);var m=l(g,v,n.posFromDate(d));m&&s.appendChild(m)}return s}(r,a,s,c);return d&&n&&(d.setAttribute("data-resource-id",e.id),d.setAttribute(a.$config.item_attribute,e.id),d.style.position="absolute",d.style.top=n.top+1+"px",d.style.height=a.getItemHeight(e.id)-1+"px",d.style.left=0),d}function p(t,e,n,r,i,o,a){var s=i.histogram_cell_class(o.start_date,o.end_date,t,o.tasks,o.assignments),u=i.histogram_cell_label(o.start_date,o.end_date,t,o.tasks,o.assignments),l=i.histogram_cell_allocated(o.start_date,o.end_date,t,o.tasks,o.assignments),c=a.getItemHeight(t.id)-1;if(s||u){var h=document.createElement("div");return h.className=["gantt_histogram_cell",s].join(" "),h.setAttribute(a.$config.item_attribute,t.id),h.style.cssText=["left:"+e.left+"px","width:"+e.width+"px","height:"+c+"px","line-height:"+c+"px","top:"+(e.top+1)+"px"].join(";"),u&&(u="<div class='gantt_histogram_label'>"+u+"</div>"),l&&(u="<div class='gantt_histogram_fill' style='height:"+100*Math.min(l/n||0,1)+"%;'></div>"+u),u&&(h.innerHTML=u),h}return null}return{render:function(r,i,s,u){var l=i.$getTemplates(),f=i.getScale(),g=e(r,s.resource_property,f,i),v=[],_={},m=r.capacity||i.$config.capacity||24;n[r.id]={},c[r.id]=null,h[r.id]=null;for(var y=!!u,b=o(f,u),w=b.start;w<=b.end;w++){var k=g[w];if(k&&(!y||a(w,f,u,t))){var S=l.histogram_cell_capacity(k.start_date,k.end_date,r,k.tasks,k.assignments);_[k.start_date.valueOf()]=S||0;var T=i.getItemPosition(r,k.start_date,k.end_date),E=p(r,T,m,0,l,k,i);E&&(v.push(E),n[r.id][w]=E)}}var x=null;if(v.length){x=document.createElement("div");for(var I=0;I<v.length;I++)x.appendChild(v[I]);var C=d(r,T,_,0,i,m,u);C&&(x.appendChild(C),h[r.id]=C),c[r.id]=x}return x},update:function(r,i,s,u,l){var c=s.$getTemplates(),g=s.getScale(),v=e(r,u.resource_property,g,s),_=r.capacity||s.$config.capacity||24,m={},y=!!l,b=o(g,l),w={};if(n&&n[r.id])for(var k in n[r.id])w[k]=k;for(var S=b.start;S<=b.end;S++){var T=v[S];if(w[S]=!1,T){var E=c.histogram_cell_capacity(T.start_date,T.end_date,r,T.tasks,T.assignments);m[T.start_date.valueOf()]=E||0;var x=s.getItemPosition(r,T.start_date,T.end_date);if(!y||a(S,g,l,t)){var I=n[r.id];if(I&&I[S])I&&I[S]&&!I[S].parentNode&&i.appendChild(I[S]);else{var C=p(r,x,_,0,c,T,s);C&&(i.appendChild(C),n[r.id][S]=C)}}else f(r.id,S)}}for(var k in w)!1!==w[k]&&f(r.id,k);var N=d(r,x,m,0,s,_,l);N&&(i.appendChild(N),h[r.id]=N)},getRectangle:r,getVisibleRange:i}}},function(t,e,n){var r=n(21),i=n(5);t.exports=function(t){return{render:function(e,n,r){var i=n.$getConfig(),o=document.createElement("div");return o.className="gantt_task_grid_row_resize_wrap",o.style.top=n.getItemTop(e.id)+n.getItemHeight(e.id)+"px",o.innerHTML="<div class='gantt_task_grid_row_resize'></div>",o.setAttribute(i.task_grid_row_resizer_attribute,e.id),t._waiAria.gridSeparatorAttr(o),o},update:null,getRectangle:r,getVisibleRange:i}}},function(t,e,n){var r=n(0),i=n(235),o=n(236),a=function(t){return{onCreated:function(e){e.$config=r.mixin(e.$config,{bind:"task"}),"grid"==e.$config.id&&(this.extendGantt(e),t.ext.inlineEditors=t.ext._inlineEditors.createEditors(e),t.ext.inlineEditors.init()),this._mouseDelegates=n(20)(t)},onInitialized:function(e){var n=e.$getConfig();n.order_branch&&("marker"==n.order_branch?o.init(e.$gantt,e):i.init(e.$gantt,e)),this.initEvents(e,t),"grid"==e.$config.id&&this.extendDom(e)},onDestroyed:function(e){"grid"==e.$config.id&&t.ext.inlineEditors.destructor(),this.clearEvents(e,t)},initEvents:function(t,e){this._mouseDelegates.delegate("click","gantt_row",e.bind((function(n,r,i){var o=t.$getConfig();if(null!==r){var a=this.getTask(r);o.scroll_on_click&&!e._is_icon_open_click(n)&&this.showDate(a.start_date),e.callEvent("onTaskRowClick",[r,i])}}),e),t.$grid),this._mouseDelegates.delegate("click","gantt_grid_head_cell",e.bind((function(n,r,i){var o=i.getAttribute("data-column-id");if(e.callEvent("onGridHeaderClick",[o,n])){var a=t.$getConfig();if("add"!=o){if(a.sort&&o){for(var s,u=o,l=0;l<a.columns.length;l++)if(a.columns[l].name==o){s=a.columns[l];break}if(s&&void 0!==s.sort&&!0!==s.sort&&!(u=s.sort))return;var c=this._sort&&this._sort.direction&&this._sort.name==o?this._sort.direction:"desc";c="desc"==c?"asc":"desc",this._sort={name:o,direction:c},this.sort(u,"desc"==c)}}else e.$services.getService("mouseEvents").callHandler("click","gantt_add",t.$grid,[n,a.root_id])}}),e),t.$grid),this._mouseDelegates.delegate("click","gantt_add",e.bind((function(n,r,i){if(!t.$getConfig().readonly)return this.createTask({},r||e.config.root_id),!1}),e),t.$grid)},clearEvents:function(t,e){this._mouseDelegates.destructor(),this._mouseDelegates=null},extendDom:function(e){t.$grid=e.$grid,t.$grid_scale=e.$grid_scale,t.$grid_data=e.$grid_data},extendGantt:function(e){t.getGridColumns=t.bind(e.getGridColumns,e),e.attachEvent("onColumnResizeStart",(function(){return t.callEvent("onColumnResizeStart",arguments)})),e.attachEvent("onColumnResize",(function(){return t.callEvent("onColumnResize",arguments)})),e.attachEvent("onColumnResizeEnd",(function(){return t.callEvent("onColumnResizeEnd",arguments)})),e.attachEvent("onColumnResizeComplete",(function(e,n){t.config.grid_width=n})),e.attachEvent("onBeforeRowResize",(function(){return t.callEvent("onBeforeRowResize",arguments)})),e.attachEvent("onRowResize",(function(){return t.callEvent("onRowResize",arguments)})),e.attachEvent("onBeforeRowResizeEnd",(function(){return t.callEvent("onBeforeRowResizeEnd",arguments)})),e.attachEvent("onAfterRowResize",(function(){return t.callEvent("onAfterRowResize",arguments)}))}}};t.exports=a},function(t,e,n){var r=n(1),i=n(9);t.exports={init:function(t,e){var n=t.$services.getService("dnd");if(e.$config.bind&&t.getDatastore(e.$config.bind)){var o=new n(e.$grid_data,{updates_per_second:60});t.defined(e.$getConfig().dnd_sensitivity)&&(o.config.sensitivity=e.$getConfig().dnd_sensitivity),o.attachEvent("onBeforeDragStart",t.bind((function(n,i){var l=a(i);if(!l)return!1;if(t.hideQuickInfo&&t._hideQuickInfo(),r.closest(i.target,".gantt_grid_editor_placeholder"))return!1;var c=l.getAttribute(e.$config.item_attribute);if(u(c))return!1;var h=s().getItem(c);return!t.isReadonly(h)&&(o.config.initial_open_state=h.$open,!!t.callEvent("onRowDragStart",[c,i.target||i.srcElement,i])&&void 0)}),t)),o.attachEvent("onAfterDragStart",t.bind((function(t,n){var r=a(n);o.config.marker.innerHTML=r.outerHTML;var i=o.config.marker.firstChild;i&&(i.style.position="static"),o.config.id=r.getAttribute(e.$config.item_attribute);var u=s(),l=u.getItem(o.config.id);o.config.index=u.getBranchIndex(o.config.id),o.config.parent=l.parent,l.$open=!1,l.$transparent=!0,this.refreshData()}),t)),o.lastTaskOfLevel=function(t){for(var e=null,n=s().getItems(),r=0,i=n.length;r<i;r++)n[r].$level==t&&(e=n[r]);return e?e.id:null},o._getGridPos=t.bind((function(t){var n=r.getNodePosition(e.$grid_data),i=n.x,a=t.pos.y-10,s=e.getItemHeight(o.config.id);a<n.y&&(a=n.y);var u=e.getTotalHeight();return a>n.y+u-s&&(a=n.y+u-s),n.x=i,n.y=a,n}),t),o._getTargetY=t.bind((function(n){var i=r.getNodePosition(e.$grid_data),o=e.$state.scrollTop||0,a=t.$grid_data.getBoundingClientRect().height+o,s=n.pageY-i.y+o;return s>a?s=a:s<o&&(s=o),s}),t),o._getTaskByY=t.bind((function(t,n){var r=s();t=t||0;var i=e.getItemIndexByTopPosition(t);return(i=n<i?i-1:i)>r.countVisible()-1?null:r.getIdByIndex(i)}),t),o.attachEvent("onDragMove",t.bind((function(n,r){var i=t.$grid_data.getBoundingClientRect(),a=i.height+i.y+(e.$state.scrollTop||0)+window.scrollY,l=o.config,c=o._getGridPos(r),h=e.$getConfig(),f=s();c.y<a?l.marker.style.top=c.y+"px":l.marker.style.top=a+"px",l.marker.style.left=c.x+10+"px";var d=f.getItem(o.config.id),p=o._getTargetY(r),g=o._getTaskByY(p,f.getIndexById(d.id));function v(t,e){return!f.isChildOf(_.id,e.id)&&(t.$level==e.$level||h.order_branch_free)}if(f.exists(g)||(g=o.lastTaskOfLevel(h.order_branch_free?d.$level:0))==o.config.id&&(g=null),f.exists(g)){var _=f.getItem(g),m=e.getItemTop(_.id),y=e.getItemHeight(_.id);if(m+y/2<p){var b=f.getIndexById(_.id),w=f.getNext(_.id),k=f.getItem(w);if(u(w)){var S=f.getPrev(k.id);k=f.getItem(S)}if(k){if(k.id==d.id)return h.order_branch_free&&f.isChildOf(d.id,_.id)&&1==f.getChildren(_.id).length?void f.move(d.id,f.getBranchIndex(_.id)+1,f.getParent(_.id)):void 0;_=k}else if(w=f.getIdByIndex(b),k=f.getItem(w),u(w)&&(S=f.getPrev(k.id),k=f.getItem(S)),v(k,d)&&k.id!=d.id)return void f.move(d.id,-1,f.getParent(k.id))}else if(h.order_branch_free&&_.id!=d.id&&v(_,d)&&!u(_.id)){if(!f.hasChild(_.id))return _.$open=!0,void f.move(d.id,-1,_.id);if(f.getIndexById(_.id)||y/3<p)return}b=f.getIndexById(_.id),S=f.getIdByIndex(b-1);for(var T=f.getItem(S),E=1;(!T||T.id==_.id)&&b-E>=0;)S=f.getIdByIndex(b-E),T=f.getItem(S),E++;if(d.id==_.id||u(_.id))return;v(_,d)&&d.id!=_.id?f.move(d.id,0,0,_.id):_.$level!=d.$level-1||f.getChildren(_.id).length?T&&v(T,d)&&d.id!=T.id&&f.move(d.id,-1,f.getParent(T.id)):f.move(d.id,0,_.id)}return!0}),t)),o.attachEvent("onDragEnd",t.bind((function(){var e=s(),n=e.getItem(o.config.id);n.$transparent=!1,n.$open=o.config.initial_open_state,!1===this.callEvent("onBeforeRowDragEnd",[o.config.id,o.config.parent,o.config.index])?(e.move(o.config.id,o.config.index,o.config.parent),n.$drop_target=null):this.callEvent("onRowDragEnd",[o.config.id,n.$drop_target]),t.render(),this.refreshData()}),t))}function a(t){return r.locateAttribute(t,e.$config.item_attribute)}function s(){return t.getDatastore(e.$config.bind)}function u(e){return i(e,t,s())}}}},function(t,e,n){var r=n(1),i=n(28),o=n(237),a=n(238),s=n(239),u=n(9);t.exports={init:function(t,e){var n=t.$services.getService("dnd");if(e.$config.bind&&t.getDatastore(e.$config.bind)){var l=new n(e.$grid_data,{updates_per_second:60});t.defined(e.$getConfig().dnd_sensitivity)&&(l.config.sensitivity=e.$getConfig().dnd_sensitivity),l.attachEvent("onBeforeDragStart",t.bind((function(n,i){var o=c(i);if(!o)return!1;if(t.hideQuickInfo&&t._hideQuickInfo(),r.closest(i.target,".gantt_grid_editor_placeholder"))return!1;var a=o.getAttribute(e.$config.item_attribute),s=e.$config.rowStore.getItem(a);return!t.isReadonly(s)&&!h(a)&&(l.config.initial_open_state=s.$open,!!t.callEvent("onRowDragStart",[a,i.target||i.srcElement,i])&&void 0)}),t)),l.attachEvent("onAfterDragStart",t.bind((function(t,n){var r=c(n);l.config.marker.innerHTML=r.outerHTML;var o=l.config.marker.firstChild;o&&(l.config.marker.style.opacity=.4,o.style.position="static",o.style.pointerEvents="none"),l.config.id=r.getAttribute(e.$config.item_attribute);var a=e.$config.rowStore,s=a.getItem(l.config.id);l.config.level=a.calculateItemLevel(s),l.config.drop_target=i.createDropTargetObject({targetParent:a.getParent(s.id),targetIndex:a.getBranchIndex(s.id),targetId:s.id,nextSibling:!0}),s.$open=!1,s.$transparent=!0,this.refreshData()}),t)),l.attachEvent("onDragMove",t.bind((function(n,r){var o=f(r);return o&&!1!==t.callEvent("onBeforeRowDragMove",[l.config.id,o.targetParent,o.targetIndex])||(o=i.createDropTargetObject(l.config.drop_target)),s.highlightPosition(o,l.config,e),l.config.drop_target=o,this.callEvent("onRowDragMove",[l.config.id,o.targetParent,o.targetIndex]),!0}),t)),l.attachEvent("onDragEnd",t.bind((function(){var n=e.$config.rowStore,r=n.getItem(l.config.id);s.removeLineHighlight(l.config),r.$transparent=!1,r.$open=l.config.initial_open_state;var i=l.config.drop_target;!1===this.callEvent("onBeforeRowDragEnd",[l.config.id,i.targetParent,i.targetIndex])?r.$drop_target=null:(n.move(l.config.id,i.targetIndex,i.targetParent),t.render(),this.callEvent("onRowDragEnd",[l.config.id,i.targetParent,i.targetIndex])),n.refresh(r.id)}),t))}function c(t){return r.locateAttribute(t,e.$config.item_attribute)}function h(n){return u(n,t,t.getDatastore(e.$config.bind))}function f(n){var i,s=function(n){var i=r.getRelativeEventPosition(n,e.$grid_data).y,o=e.$config.rowStore;document.doctype||(i+=window.scrollY),i=i||0;var a=e.$state.scrollTop||0,s=t.$grid_data.getBoundingClientRect().height+a+window.scrollY,u=a,l=e.getItemIndexByTopPosition(e.$state.scrollTop);if(o.exists(l)||(l=o.countVisible()-1),l<0)return o.$getRootId();var c=o.getIdByIndex(l),f=e.$state.scrollTop/e.getItemHeight(c),d=f-Math.floor(f);d>.1&&d<.9&&(s-=e.getItemHeight(c)*d,u+=e.getItemHeight(c)*(1-d)),i>=s?i=s:i<=u&&(i=u);var p=e.getItemIndexByTopPosition(i);if(p>o.countVisible()-1||p<0)return o.$getRootId();var g=o.getIdByIndex(p);return h(g)?o.getPrevSibling(g):o.getIdByIndex(p)}(n),u=null,c=e.$config.rowStore,f=!e.$getConfig().order_branch_free,d=r.getRelativeEventPosition(n,e.$grid_data).y;return document.doctype||(d+=window.scrollY),s!==c.$getRootId()&&(u=(d-e.getItemTop(s))/e.getItemHeight(s)),f?(i=o(l.config.id,s,u,d,c,l.config.level))&&i.targetParent&&h(i.targetParent)&&(s=c.getPrevSibling(i.targetParent),i=o(l.config.id,s,u,d,c,l.config.level)):i=a(l.config.id,s,u,d,c),i}}}},function(t,e,n){var r=n(28);function i(t,e,n,i,o){for(var a=e;i.exists(a);){var s=i.calculateItemLevel(i.getItem(a));if((s===n||s===n-1)&&i.getBranchIndex(a)>-1)break;a=o?i.getPrev(a):i.getNext(a)}return i.exists(a)?i.calculateItemLevel(i.getItem(a))===n?o?r.nextSiblingTarget(t,a,i):r.prevSiblingTarget(t,a,i):r.firstChildTarget(t,a,i):null}function o(t,e,n,r){return i(t,e,n,r,!0)}function a(t,e,n,r){return i(t,e,n,r,!1)}t.exports=function(t,e,n,i,s,u){var l;if(e!==s.$getRootId()){var c=s.getItem(e),h=s.calculateItemLevel(c);if(h===u){var f=s.getPrevSibling(e);n<.5&&!f?l=r.prevSiblingTarget(t,e,s):(n<.5&&(e=f),l=r.nextSiblingTarget(t,e,s))}else if(h>u)s.eachParent((function(t){s.calculateItemLevel(t)===u&&(e=t.id)}),c),l=o(t,e,u,s);else{var d=o(t,e,u,s),p=a(t,e,u,s);l=n<.5?d:p}}else{var g=s.$getRootId(),v=s.getChildren(g);l=r.createDropTargetObject(),l=v.length&&i>=0?o(t,function(t){for(var e=t.getNext();t.exists(e);){var n=t.getNext(e);if(!t.exists(n))return e;e=n}return null}(s),u,s):a(t,g,u,s)}return l}},function(t,e,n){var r=n(28);t.exports=function(t,e,n,i,o){var a;if(e!==o.$getRootId())a=n<.25?r.prevSiblingTarget(t,e,o):!(n>.6)||o.hasChild(e)&&o.getItem(e).$open?r.firstChildTarget(t,e,o):r.nextSiblingTarget(t,e,o);else{var s=o.$getRootId();a=o.hasChild(s)&&i>=0?r.lastChildTarget(t,s,o):r.firstChildTarget(t,s,o)}return a}},function(t,e,n){var r=n(1);function i(t,e){var n=r.getNodePosition(e.$grid_data);return t.x+=n.x-e.$grid.scrollLeft,t.y+=n.y-e.$grid_data.scrollTop,t}t.exports={removeLineHighlight:function(t){t.markerLine&&t.markerLine.parentNode&&t.markerLine.parentNode.removeChild(t.markerLine),t.markerLine=null},highlightPosition:function(t,e,n){var o=function(t,e){var n=r.getNodePosition(e.$grid_data),i=r.getRelativeEventPosition(t,e.$grid_data),o=n.x,a=i.y-10,s=e.getItemHeight(t.targetId);a<n.y&&(a=n.y);var u=e.getTotalHeight();return a>n.y+u-s&&(a=n.y+u-s),n.x=o,n.y=a,n}(t,n);e.marker.style.left=o.x+9+"px";var a=e.markerLine;a||((a=document.createElement("div")).className="gantt_drag_marker gantt_grid_dnd_marker",a.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",a.style.pointerEvents="none"),t.child?function(t,e,n){var r=t.targetParent,o=i({x:0,y:n.getItemTop(r)},n),a=n.$grid_data.getBoundingClientRect().bottom+window.scrollY;e.innerHTML="<div class='gantt_grid_dnd_marker_folder'></div>",e.style.width=n.$grid_data.offsetWidth+"px",e.style.top=o.y+"px",e.style.left=o.x+"px",e.style.height=n.getItemHeight(r)+"px",o.y>a&&(e.style.top=a+"px")}(t,a,n):function(t,e,n){var r=function(t,e){var n=e.$config.rowStore,r={x:0,y:0},o=e.$grid_data.querySelector(".gantt_tree_indent"),a=15,s=0;if(o&&(a=o.offsetWidth),t.targetId!==n.$getRootId()){var u=e.getItemTop(t.targetId),l=e.getItemHeight(t.targetId);if(s=n.exists(t.targetId)?n.calculateItemLevel(n.getItem(t.targetId)):0,t.prevSibling)r.y=u;else if(t.nextSibling){var c=0;n.eachItem((function(t){-1!==n.getIndexById(t.id)&&c++}),t.targetId),r.y=u+l+c*l}else r.y=u+l,s+=1}return r.x=40+s*a,r.width=Math.max(e.$grid_data.offsetWidth-r.x,0),i(r,e)}(t,n),o=n.$grid_data.getBoundingClientRect().bottom+window.scrollY;e.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",e.style.left=r.x+"px",e.style.height="4px";var a=r.y-2;e.style.top=a+"px",e.style.width=r.width+"px",a>o&&(e.style.top=o+"px")}(t,a,n),e.markerLine||(document.body.appendChild(a),e.markerLine=a)}}},function(t,e,n){var r=n(0),i=n(241),o=n(242),a=n(1),s=function(t){var e=t.$services;return{onCreated:function(e){var a=e.$config;a.bind=r.defined(a.bind)?a.bind:"task",a.bindLinks=r.defined(a.bindLinks)?a.bindLinks:"link",e._linksDnD=o.createLinkDND(),e._tasksDnD=i.createTaskDND(),e._tasksDnD.extend(e),this._mouseDelegates=n(20)(t)},onInitialized:function(e){this._attachDomEvents(t),this._attachStateProvider(t,e),e._tasksDnD.init(e,t),e._linksDnD.init(e,t),"timeline"==e.$config.id&&this.extendDom(e)},onDestroyed:function(e){this._clearDomEvents(t),this._clearStateProvider(t),e._tasksDnD&&e._tasksDnD.destructor()},extendDom:function(e){t.$task=e.$task,t.$task_scale=e.$task_scale,t.$task_data=e.$task_data,t.$task_bg=e.$task_bg,t.$task_links=e.$task_links,t.$task_bars=e.$task_bars},_clearDomEvents:function(){this._mouseDelegates.destructor(),this._mouseDelegates=null},_attachDomEvents:function(t){function e(e,n){if(e&&this.callEvent("onLinkDblClick",[e,n])){var r=this.getLink(e);if(this.isReadonly(r))return;var i=this.locale.labels.link+" "+this.templates.link_description(this.getLink(e))+" "+this.locale.labels.confirm_link_deleting;window.setTimeout((function(){t._dhtmlx_confirm(i,"",(function(){t.deleteLink(e)}))}),this.config.touch?300:1)}}this._mouseDelegates.delegate("click","gantt_task_link",t.bind((function(t,e){var n=this.locate(t,this.config.link_attribute);n&&this.callEvent("onLinkClick",[n,t])}),t),this.$task),this._mouseDelegates.delegate("click","gantt_scale_cell",t.bind((function(e,n){var r=a.getRelativeEventPosition(e,t.$task_data),i=t.dateFromPos(r.x),o=Math.floor(t.columnIndexByDate(i)),s=t.getScale().trace_x[o];t.callEvent("onScaleClick",[e,s])}),t),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_task_link",t.bind((function(n,r,i){r=this.locate(n,t.config.link_attribute),e.call(this,r,n)}),t),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_link_point",t.bind((function(t,n,r){n=this.locate(t);var i=this.getTask(n),o=null;return r.parentNode&&a.getClassName(r.parentNode)&&(o=a.getClassName(r.parentNode).indexOf("_left")>-1?i.$target[0]:i.$source[0]),o&&e.call(this,o,t),!1}),t),this.$task)},_attachStateProvider:function(t,n){var r=n;e.getService("state").registerProvider("tasksTimeline",(function(){return{scale_unit:r._tasks?r._tasks.unit:void 0,scale_step:r._tasks?r._tasks.step:void 0}}))},_clearStateProvider:function(){e.getService("state").unregisterProvider("tasksTimeline")}}};t.exports=s},function(t,e,n){var r=n(1),i=n(0),o=n(30),a=n(2);t.exports={createTaskDND:function(){var t;return{extend:function(e){e.roundTaskDates=function(e){t.round_task_dates(e)}},init:function(e,n){return t=function(t,e){var n=e.$services;return{drag:null,dragMultiple:{},_events:{before_start:{},before_finish:{},after_finish:{}},_handlers:{},init:function(){this._domEvents=e._createDomEventScope(),this.clear_drag_state();var t=e.config.drag_mode;this.set_actions(),n.getService("state").registerProvider("tasksDnd",i.bind((function(){return{drag_id:this.drag?this.drag.id:void 0,drag_mode:this.drag?this.drag.mode:void 0,drag_from_start:this.drag?this.drag.left:void 0}}),this));var r={before_start:"onBeforeTaskDrag",before_finish:"onBeforeTaskChanged",after_finish:"onAfterTaskDrag"};for(var o in this._events)for(var a in t)this._events[o][a]=r[o];this._handlers[t.move]=this._move,this._handlers[t.resize]=this._resize,this._handlers[t.progress]=this._resize_progress},set_actions:function(){var n=t.$task_data;this._domEvents.attach(n,"mousemove",e.bind((function(t){this.on_mouse_move(t)}),this)),this._domEvents.attach(n,"mousedown",e.bind((function(t){this.on_mouse_down(t)}),this)),this._domEvents.attach(document.body,"mouseup",e.bind((function(t){this.on_mouse_up(t)}),this))},clear_drag_state:function(){this.drag={id:null,mode:null,pos:null,start_x:null,start_y:null,obj:null,left:null},this.dragMultiple={}},_resize:function(n,r,i){var o=t.$getConfig(),a=this._drag_task_coords(n,i);i.left?(n.start_date=e.dateFromPos(a.start+r),n.start_date||(n.start_date=new Date(e.getState().min_date))):(n.end_date=e.dateFromPos(a.end+r),n.end_date||(n.end_date=new Date(e.getState().max_date)));var s=this._calculateMinDuration(o.min_duration,o.duration_unit);n.end_date-n.start_date<o.min_duration&&(i.left?n.start_date=e.calculateEndDate(n.end_date,-s,o.duration_unit,n):n.end_date=e.calculateEndDate(n.start_date,s,o.duration_unit,n)),e._init_task_timing(n)},_calculateMinDuration:function(t,e){return Math.ceil(t/{minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:31356e6}[e])},_resize_progress:function(e,n,r){var i=this._drag_task_coords(e,r),o=t.$getConfig().rtl?i.start-r.pos.x:r.pos.x-i.start,a=Math.max(0,o);e.progress=Math.min(1,a/Math.abs(i.end-i.start))},_find_max_shift:function(t,n){var r;for(var i in t){var o=t[i],a=e.getTask(o.id),s=this._drag_task_coords(a,o),u=e.posFromDate(new Date(e.getState().min_date)),l=e.posFromDate(new Date(e.getState().max_date));if(s.end+n>l){var c=l-s.end;(c<r||void 0===r)&&(r=c)}else if(s.start+n<u){var h=u-s.start;(h>r||void 0===r)&&(r=h)}}return r},_move:function(t,n,r,i){var o=this._drag_task_coords(t,r),a=null,s=null;i?(a=new Date(+r.obj.start_date+i),s=new Date(+r.obj.end_date+i)):(a=e.dateFromPos(o.start+n),s=e.dateFromPos(o.end+n)),a?s?(t.start_date=a,t.end_date=s):(t.end_date=new Date(e.getState().max_date),t.start_date=e.dateFromPos(e.posFromDate(t.end_date)-(o.end-o.start))):(t.start_date=new Date(e.getState().min_date),t.end_date=e.dateFromPos(e.posFromDate(t.start_date)+(o.end-o.start)))},_drag_task_coords:function(t,n){return{start:n.obj_s_x=n.obj_s_x||e.posFromDate(t.start_date),end:n.obj_e_x=n.obj_e_x||e.posFromDate(t.end_date)}},_mouse_position_change:function(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)},_is_number:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},on_mouse_move:function(t){if(this.drag.start_drag){var n=r.getRelativeEventPosition(t,e.$task_data),i=this.drag.start_drag.start_x,a=this.drag.start_drag.start_y;(Date.now()-this.drag.timestamp>50||this._is_number(i)&&this._is_number(a)&&this._mouse_position_change({x:i,y:a},n)>20)&&this._start_dnd(t)}if(this.drag.mode){if(!o(this,40))return;this._update_on_move(t)}},_update_item_on_move:function(t,n,r,i,o,a){var s=e.getTask(n),u=e.mixin({},s),l=e.mixin({},s);this._handlers[r].apply(this,[l,t,i,a]),e.mixin(s,l,!0),e.callEvent("onTaskDrag",[s.id,r,l,u,o]),e.mixin(s,l,!0),e.refreshTask(n)},_update_on_move:function(n){var o=this.drag,a=t.$getConfig();if(o.mode){var s=r.getRelativeEventPosition(n,t.$task_data);if(o.pos&&o.pos.x==s.x)return;o.pos=s;var u=e.dateFromPos(s.x);if(!u||isNaN(u.getTime()))return;var l=s.x-o.start_x,c=e.getTask(o.id);if(this._handlers[o.mode]){if(o.mode===a.drag_mode.move){var h={};this._isMultiselect()&&e.getSelectedTasks().indexOf(o.id)>=0&&(h=this.dragMultiple);var f=!1;if(e.isSummaryTask(c)&&e.config.drag_project){var d={};d[o.id]=i.copy(o),f=!0,h=i.mixin(d,this.dragMultiple)}var p=this._find_max_shift(h,l);for(var g in void 0!==p&&(l=p),this._update_item_on_move(l,o.id,o.mode,o,n),h){var v=h[g];if(f&&v.id!=o.id&&(e._bulk_dnd=!0),void 0===p&&(f||Object.keys(h).length>1))var _=u-e.dateFromPos(o.start_x);this._update_item_on_move(l,v.id,v.mode,v,n,_)}e._bulk_dnd=!1}else this._update_item_on_move(l,o.id,o.mode,o,n);e._update_parents(o.id)}}},on_mouse_down:function(n,i){if(2!=n.button||void 0===n.button){var o=t.$getConfig(),a=e.locate(n),s=null;if(e.isTaskExists(a)&&(s=e.getTask(a)),!e.isReadonly(s)&&!this.drag.mode){this.clear_drag_state(),i=i||n.target||n.srcElement;var u=r.getClassName(i),l=this._get_drag_mode(u,i);if(!u||!l)return i.parentNode?this.on_mouse_down(n,i.parentNode):void 0;if(l)if(l.mode&&l.mode!=o.drag_mode.ignore&&o["drag_"+l.mode]){if(a=e.locate(i),s=e.copy(e.getTask(a)||{}),e.isReadonly(s))return this.clear_drag_state(),!1;if(e.isSummaryTask(s)&&!o.drag_project&&l.mode!=o.drag_mode.progress)return void this.clear_drag_state();l.id=a;var c=r.getRelativeEventPosition(n,e.$task_data);l.start_x=c.x,l.start_y=c.y,l.obj=s,this.drag.start_drag=l,this.drag.timestamp=Date.now()}else this.clear_drag_state();else if(e.checkEvent("onMouseDown")&&e.callEvent("onMouseDown",[u.split(" ")[0]])&&i.parentNode)return this.on_mouse_down(n,i.parentNode)}}},_fix_dnd_scale_time:function(n,r){var i=t.$getConfig(),o=e.getScale().unit,a=e.getScale().step;function s(n){if(e.config.correct_work_time){var r=t.$getConfig();e.isWorkTime(n.start_date,void 0,n)||(n.start_date=e.calculateEndDate({start_date:n.start_date,duration:-1,unit:r.duration_unit,task:n}))}}i.round_dnd_dates||(o="minute",a=i.time_step),r.mode==i.drag_mode.resize?r.left?(n.start_date=e.roundDate({date:n.start_date,unit:o,step:a}),s(n)):(n.end_date=e.roundDate({date:n.end_date,unit:o,step:a}),function(n){if(e.config.correct_work_time){var r=t.$getConfig();e.isWorkTime(new Date(n.end_date-1),void 0,n)||(n.end_date=e.calculateEndDate({start_date:n.end_date,duration:1,unit:r.duration_unit,task:n}))}}(n)):r.mode==i.drag_mode.move&&(n.start_date=e.roundDate({date:n.start_date,unit:o,step:a}),s(n),n.end_date=e.calculateEndDate(n))},_fix_working_times:function(n,r){var i=t.$getConfig();(r=r||{mode:i.drag_mode.move}).mode==i.drag_mode.resize?r.left?n.start_date=e.getClosestWorkTime({date:n.start_date,dir:"future",task:n}):n.end_date=e.getClosestWorkTime({date:n.end_date,dir:"past",task:n}):r.mode==i.drag_mode.move&&e.correctTaskWorkTime(n)},_finalize_mouse_up:function(t,n,r,i){var o=e.getTask(t);if(n.work_time&&n.correct_work_time&&this._fix_working_times(o,r),this._fix_dnd_scale_time(o,r),this._fireEvent("before_finish",r.mode,[t,r.mode,e.copy(r.obj),i])){var a=t;e._init_task_timing(o),this.clear_drag_state(),e.updateTask(o.id),this._fireEvent("after_finish",r.mode,[a,r.mode,i])}else this.clear_drag_state(),t==r.id&&(r.obj._dhx_changed=!1,e.mixin(o,r.obj,!0)),e.refreshTask(o.id)},on_mouse_up:function(n){var r=this.drag;if(r.mode&&r.id){var i=t.$getConfig(),o=e.getTask(r.id),a=this.dragMultiple,s=!1,u=0;r.mode===i.drag_mode.move&&(e.isSummaryTask(o)&&i.drag_project||this._isMultiselect())&&(s=!0,u=Object.keys(a).length);var l=function(){if(s)for(var t in a)this._finalize_mouse_up(a[t].id,i,a[t],n);this._finalize_mouse_up(r.id,i,r,n)};s&&u>10?e.batchUpdate(function(){l.call(this)}.bind(this)):l.call(this)}this.clear_drag_state()},_get_drag_mode:function(e,n){var r=t.$getConfig().drag_mode,i={mode:null,left:null};switch((e||"").split(" ")[0]){case"gantt_task_line":case"gantt_task_content":i.mode=r.move;break;case"gantt_task_drag":i.mode=r.resize;var o=n.getAttribute("data-bind-property");i.left="start_date"==o;break;case"gantt_task_progress_drag":i.mode=r.progress;break;case"gantt_link_control":case"gantt_link_point":i.mode=r.ignore;break;default:i=null}return i},_start_dnd:function(n){var r=this.drag=this.drag.start_drag;delete r.start_drag;var i=t.$getConfig(),o=r.id;if(i["drag_"+r.mode]&&e.callEvent("onBeforeDrag",[o,r.mode,n])&&this._fireEvent("before_start",r.mode,[o,r.mode,n])){delete r.start_drag;var s=e.getTask(o);if(e.isReadonly(s))return void this.clear_drag_state();if(this._isMultiselect()){var u=e.getSelectedTasks();u.indexOf(r.id)>=0&&a.forEach(u,e.bind((function(t){var n=e.getTask(t);e.isSummaryTask(n)&&e.config.drag_project&&r.mode==i.drag_mode.move&&this._addSubtasksToDragMultiple(n.id),this.dragMultiple[t]=e.mixin({id:n.id,obj:e.copy(n)},this.drag)}),this))}e.isSummaryTask(s)&&e.config.drag_project&&r.mode==i.drag_mode.move&&this._addSubtasksToDragMultiple(s.id),e.callEvent("onTaskDragStart",[])}else this.clear_drag_state()},_fireEvent:function(t,n,r){e.assert(this._events[t],"Invalid stage:{"+t+"}");var i=this._events[t][n];return e.assert(i,"Unknown after drop mode:{"+n+"}"),e.assert(r,"Invalid event arguments"),!e.checkEvent(i)||e.callEvent(i,r)},round_task_dates:function(e){var n=this.drag,r=t.$getConfig();n||(n={mode:r.drag_mode.move}),this._fix_dnd_scale_time(e,n)},destructor:function(){this._domEvents.detachAll()},_isMultiselect:function(){return e.config.drag_multiple&&!!(e.getSelectedTasks&&e.getSelectedTasks().length>0)},_addSubtasksToDragMultiple:function(t){e.eachTask((function(t){this.dragMultiple[t.id]=e.mixin({id:t.id,obj:e.copy(t)},this.drag)}),t,this)}}}(e,n),e._tasks_dnd=t,t.init(n)},destructor:function(){t&&(t.destructor(),t=null)}}}}},function(t,e,n){var r=n(1),i=function(t,e){var n,i,o,a,s,u=10,l=18;function c(){return{link_source_id:a,link_target_id:i,link_from_start:s,link_to_start:o,link_landing_area:n}}var h=e.$services,f=h.getService("state"),d=h.getService("dnd");f.registerProvider("linksDnD",c);var p=new d(t.$task_bars,{sensitivity:0,updates_per_second:60,mousemoveContainer:e.$root,selector:".gantt_link_point",preventDefault:!0});function g(n,r,i,o,a){var s=function(n,r,i){var o=r(n),a={x:o.left,y:o.top,width:o.width,height:o.height};if(i.rtl?(a.xEnd=a.x,a.x=a.xEnd+a.width):a.xEnd=a.x+a.width,a.yEnd=a.y+a.height,e.getTaskType(n.type)==e.config.types.milestone){var s=function(e){var n=t.getBarHeight(e,!0);return Math.round(Math.sqrt(2*n*n))-2}(n.id);a.x+=(i.rtl?1:-1)*(s/2),a.xEnd+=(i.rtl?-1:1)*(s/2),a.width=o.xEnd-o.x}return a}(n,(function(t){return e.getTaskPosition(t)}),o),u={x:s.x,y:s.y};r||(u.x=s.xEnd),u.y+=e.getTaskHeight(n.id)/2;var l=function(t){return e.getTaskType(t.type)==e.config.types.milestone}(n)&&a?2:0;return i=i||0,o.rtl&&(i*=-1),u.x+=(r?-1:1)*i-l,u}function v(t,n){var r=p.getPosition(t),i=function(t){var e=0,n=0;return t&&(e=t.offsetWidth||0,n=t.offsetHeight||0),{width:e,height:n}}(n),o=function(){var t=e.$root;return{right:t.offsetWidth,bottom:t.offsetHeight}}(),a=e.config.tooltip_offset_x||u,s=e.config.tooltip_offset_y||u,c=e.config.scroll_size||l,h=e.$container.getBoundingClientRect().y+window.scrollY,f={y:r.y+s,x:r.x+a,bottom:r.y+i.height+s+c,right:r.x+i.width+a+c};return f.bottom>o.bottom+h&&(f.y=o.bottom+h-i.height-s),f.right>o.right&&(f.x=o.right-i.width-a),f}function _(t){var n=c(),r=["gantt_link_tooltip"];n.link_source_id&&n.link_target_id&&(e.isLinkAllowed(n.link_source_id,n.link_target_id,n.link_from_start,n.link_to_start)?r.push("gantt_allowed_link"):r.push("gantt_invalid_link"));var i=e.templates.drag_link_class(n.link_source_id,n.link_from_start,n.link_target_id,n.link_to_start);i&&r.push(i);var o="<div class='"+i+"'>"+e.templates.drag_link(n.link_source_id,n.link_from_start,n.link_target_id,n.link_to_start)+"</div>";t.innerHTML=o}function m(){a=s=i=null,o=!0}function y(n,r,i,o){var a=(p._direction&&p._direction.parentNode||(p._direction=document.createElement("div"),t.$task_links.appendChild(p._direction)),p._direction),s=c(),u=["gantt_link_direction"];e.templates.link_direction_class&&u.push(e.templates.link_direction_class(s.link_source_id,s.link_from_start,s.link_target_id,s.link_to_start));var l=Math.sqrt(Math.pow(i-n,2)+Math.pow(o-r,2));if(l=Math.max(0,l-3)){a.className=u.join(" ");var h=(o-r)/(i-n),f=Math.atan(h);2==b(n,i,r,o)?f+=Math.PI:3==b(n,i,r,o)&&(f-=Math.PI);var d=Math.sin(f),g=Math.cos(f),v=Math.round(r),_=Math.round(n),m=["-webkit-transform: rotate("+f+"rad)","-moz-transform: rotate("+f+"rad)","-ms-transform: rotate("+f+"rad)","-o-transform: rotate("+f+"rad)","transform: rotate("+f+"rad)","width:"+Math.round(l)+"px"];if(-1!=window.navigator.userAgent.indexOf("MSIE 8.0")){m.push('-ms-filter: "'+function(t,e){return"progid:DXImageTransform.Microsoft.Matrix(M11 = "+e+",M12 = -"+t+",M21 = "+t+",M22 = "+e+",SizingMethod = 'auto expand')"}(d,g)+'"');var y=Math.abs(Math.round(n-i)),w=Math.abs(Math.round(o-r));switch(b(n,i,r,o)){case 1:v-=w;break;case 2:_-=y,v-=w;break;case 3:_-=y}}m.push("top:"+v+"px"),m.push("left:"+_+"px"),a.style.cssText=m.join(";")}}function b(t,e,n,r){return e>=t?r<=n?1:4:r<=n?2:3}p.attachEvent("onBeforeDragStart",e.bind((function(n,i){var o=i.target||i.srcElement;if(m(),e.getState("tasksDnd").drag_id)return!1;if(r.locateClassName(o,"gantt_link_point")){r.locateClassName(o,"task_start_date")&&(s=!0);var u=e.locate(i);a=u;var l=e.getTask(u);return e.isReadonly(l)?(m(),!1):(this._dir_start=g(l,!!s,0,t.$getConfig(),!0),!0)}return!1}),this)),p.attachEvent("onAfterDragStart",e.bind((function(t,n){e.config.touch&&e.refreshData(),_(p.config.marker)}),this)),p.attachEvent("onDragMove",e.bind((function(a,s){var u=p.config,l=v(s,u.marker);!function(t,e){t.style.left=e.x+"px",t.style.top=e.y+"px"}(u.marker,l);var c=!!r.locateClassName(s,"gantt_link_control"),h=i,f=n,d=o,m=e.locate(s),b=!0,w=r.getTargetNode(s);if(r.isChildOf(w,e.$root)||(c=!1,m=null),c&&(b=!r.locateClassName(s,"task_end_date"),c=!!m),i=m,n=c,o=b,c){var k=e.getTask(m),S=t.$getConfig(),T=r.locateClassName(s,"gantt_link_control"),E=0;T&&(E=Math.floor(T.offsetWidth/2)),this._dir_end=g(k,!!o,E,S)}else this._dir_end=r.getRelativeEventPosition(s,t.$task_data),e.env.isEdge&&(this._dir_end.y+=window.scrollY);var x=!(f==c&&h==m&&d==b);return x&&(h&&e.refreshTask(h,!1),m&&e.refreshTask(m,!1)),x&&_(u.marker),y(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y),!0}),this)),p.attachEvent("onDragEnd",e.bind((function(){var t=c();if(t.link_source_id&&t.link_target_id&&t.link_source_id!=t.link_target_id){var n=e._get_link_type(t.link_from_start,t.link_to_start),r={source:t.link_source_id,target:t.link_target_id,type:n};r.type&&e.isLinkAllowed(r)&&e.callEvent("onLinkCreated",[r])&&e.addLink(r)}m(),e.config.touch?e.refreshData():(t.link_source_id&&e.refreshTask(t.link_source_id,!1),t.link_target_id&&e.refreshTask(t.link_target_id,!1)),p._direction&&(p._direction.parentNode&&p._direction.parentNode.removeChild(p._direction),p._direction=null)}),this)),e.attachEvent("onGanttRender",e.bind((function(){p._direction&&y(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y)}),this))};t.exports={createLinkDND:function(){return{init:i}}}},function(t,e,n){var r=n(1),i=function(t){return{getVerticalScrollbar:function(){return t.$ui.getView("scrollVer")},getHorizontalScrollbar:function(){return t.$ui.getView("scrollHor")},_legacyGridResizerClass:function(t){for(var e=t.getCellsByType("resizer"),n=0;n<e.length;n++){var r=e[n],i=!1,o=r.$parent.getPrevSibling(r.$id);if(o&&o.$config&&"grid"===o.$config.id)i=!0;else{var a=r.$parent.getNextSibling(r.$id);a&&a.$config&&"grid"===a.$config.id&&(i=!0)}i&&(r.$config.css=(r.$config.css?r.$config.css+" ":"")+"gantt_grid_resize_wrap")}},onCreated:function(e){var n=!0;this._legacyGridResizerClass(e),e.attachEvent("onBeforeResize",(function(){var i=t.$ui.getView("timeline");i&&(i.$config.hidden=i.$parent.$config.hidden=!t.config.show_chart);var o=t.$ui.getView("grid");if(o){var a=o._getColsTotalWidth(),s=!t.config.show_grid||!t.config.grid_width||0===a;if(n&&!s&&!1!==a&&(t.config.grid_width=a),o.$config.hidden=o.$parent.$config.hidden=s,!o.$config.hidden){var u=o._getGridWidthLimits();if(u[0]&&t.config.grid_width<u[0]&&(t.config.grid_width=u[0]),u[1]&&t.config.grid_width>u[1]&&(t.config.grid_width=u[1]),i&&t.config.show_chart){if(o.$config.width=t.config.grid_width-1,!o.$config.scrollable&&o.$config.scrollY&&t.$root.offsetWidth){var l=o.$gantt.$layout.$container.offsetWidth,c=t.$ui.getView(o.$config.scrollY).$config.width,h=l-(o.$config.width+c);h<0&&(o.$config.width+=h,t.config.grid_width+=h)}if(n)o.$parent.$config.width=t.config.grid_width,o.$parent.$config.group&&t.$layout._syncCellSizes(o.$parent.$config.group,{value:o.$parent.$config.width,isGravity:!1});else if(i&&!r.isChildOf(i.$task,e.$view)){if(!o.$config.original_grid_width){var f=t.skins[t.skin];f&&f.config&&f.config.grid_width?o.$config.original_grid_width=f.config.grid_width:o.$config.original_grid_width=0}t.config.grid_width=o.$config.original_grid_width,o.$parent.$config.width=t.config.grid_width}else o.$parent._setContentSize(o.$config.width,null),t.$layout._syncCellSizes(o.$parent.$config.group,{value:t.config.grid_width,isGravity:!1})}else i&&r.isChildOf(i.$task,e.$view)&&(o.$config.original_grid_width=t.config.grid_width),n||(o.$parent.$config.width=0)}n=!1}})),this._initScrollStateEvents(e)},_initScrollStateEvents:function(e){t._getVerticalScrollbar=this.getVerticalScrollbar,t._getHorizontalScrollbar=this.getHorizontalScrollbar;var n=this.getVerticalScrollbar(),r=this.getHorizontalScrollbar();n&&n.attachEvent("onScroll",(function(e,n,r){var i=t.getScrollState();t.callEvent("onGanttScroll",[i.x,e,i.x,n])})),r&&r.attachEvent("onScroll",(function(e,n,r){var i=t.getScrollState();t.callEvent("onGanttScroll",[e,i.y,n,i.y]);var o=t.$ui.getView("grid");o&&o.$grid_data&&!o.$config.scrollable&&(o.$grid_data.style.left=o.$grid.scrollLeft+"px",o.$grid_data.scrollLeft=o.$grid.scrollLeft)})),e.attachEvent("onResize",(function(){n&&!t.$scroll_ver&&(t.$scroll_ver=n.$scroll_ver),r&&!t.$scroll_hor&&(t.$scroll_hor=r.$scroll_hor)}))},_findGridResizer:function(t,e){for(var n,r=t.getCellsByType("resizer"),i=!0,o=0;o<r.length;o++){var a=r[o];a._getSiblings();var s=a._behind,u=a._front;if(s&&s.$content===e||s.isChild&&s.isChild(e)){n=a,i=!0;break}if(u&&u.$content===e||u.isChild&&u.isChild(e)){n=a,i=!1;break}}return{resizer:n,gridFirst:i}},onInitialized:function(e){var n=t.$ui.getView("grid"),r=this._findGridResizer(e,n);if(r.resizer){var i,o=r.gridFirst,a=r.resizer;if("x"!==a.$config.mode)return;a.attachEvent("onResizeStart",(function(e,n){var r=t.$ui.getView("grid"),a=r?r.$parent:null;if(a){var s=r._getGridWidthLimits();r.$config.scrollable||(a.$config.minWidth=s[0]),a.$config.maxWidth=s[1]}return i=o?e:n,t.callEvent("onGridResizeStart",[i])})),a.attachEvent("onResize",(function(e,n){var r=o?e:n;return t.callEvent("onGridResize",[i,r])})),a.attachEvent("onResizeEnd",(function(e,n,r,i){var a=o?e:n,s=o?r:i,u=t.$ui.getView("grid"),l=u?u.$parent:null;l&&(l.$config.minWidth=void 0);var c=t.callEvent("onGridResizeEnd",[a,s]);return c&&0!==s&&(t.config.grid_width=s),c}))}},onDestroyed:function(t){}}};t.exports=i},function(t,e){t.exports=function(t){delete t.addTaskLayer,delete t.addLinkLayer}},function(t,e){t.exports=function(){function t(t){return t.$ui.getView("timeline")}function e(t){return t.$ui.getView("grid")}function n(n){var r=t(n);if(r&&!r.$config.hidden)return r;var i=e(n);return i&&!i.$config.hidden?i:null}function r(t){var r=null,i=!1;return[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach((function(t){i=i||!!document.querySelector(t)})),(r=i?e(t):n(t))?o(t,r,"scrollY"):null}function i(t){var e=n(t);return e&&"grid"!=e.id?o(t,e,"scrollX"):null}function o(t,e,n){var r=e.$config[n];return t.$ui.getView(r)}var a="DEFAULT_VALUE";function s(t,e,n,r){var i=t(this);return i&&i.isVisible()?i[e].apply(i,n):r?r():a}return{getColumnIndex:function(t){var n=s.call(this,e,"getColumnIndex",[t]);return n===a?0:n},dateFromPos:function(e){var n=s.call(this,t,"dateFromPos",Array.prototype.slice.call(arguments));return n===a?this.getState().min_date:n},posFromDate:function(e){var n=s.call(this,t,"posFromDate",[e]);return n===a?0:n},getRowTop:function(n){var r=this,i=s.call(r,t,"getRowTop",[n],(function(){return s.call(r,e,"getRowTop",[n])}));return i===a?0:i},getTaskTop:function(n){var r=this,i=s.call(r,t,"getItemTop",[n],(function(){return s.call(r,e,"getItemTop",[n])}));return i===a?0:i},getTaskPosition:function(e,n,r){var i=s.call(this,t,"getItemPosition",[e,n,r]);return i===a?{left:0,top:this.getTaskTop(e.id),height:this.getTaskBarHeight(e.id),width:0}:i},getTaskBarHeight:function(n,r){var i=this,o=s.call(i,t,"getBarHeight",[n,r],(function(){return s.call(i,e,"getItemHeight",[n])}));return o===a?0:o},getTaskHeight:function(n){var r=this,i=s.call(r,t,"getItemHeight",[n],(function(){return s.call(r,e,"getItemHeight",[n])}));return i===a?0:i},columnIndexByDate:function(e){var n=s.call(this,t,"columnIndexByDate",[e]);return n===a?0:n},roundTaskDates:function(){s.call(this,t,"roundTaskDates",[])},getScale:function(){var e=s.call(this,t,"getScale",[]);return e===a?null:e},getTaskNode:function(e){var n=t(this);if(n&&n.isVisible()){var r=n._taskRenderer.rendered[e];if(!r){var i=n.$config.item_attribute;r=n.$task_bars.querySelector("["+i+"='"+e+"']")}return r||null}return null},getLinkNode:function(e){var n=t(this);return n.isVisible()?n._linkRenderer.rendered[e]:null},scrollTo:function(t,e){var n=r(this),o=i(this),a={position:0},s={position:0};n&&(s=n.getScrollState()),o&&(a=o.getScrollState());var u=o&&1*t==t,l=n&&1*e==e;if(u&&l)for(var c=n._getLinkedViews(),h=o._getLinkedViews(),f=[],d=0;d<c.length;d++)for(var p=0;p<h.length;p++)c[d].$config.id&&h[p].$config.id&&c[d].$config.id===h[p].$config.id&&f.push(c[d].$config.id);u&&(f&&f.forEach(function(t){this.$ui.getView(t).$config.$skipSmartRenderOnScroll=!0}.bind(this)),o.scroll(t),f&&f.forEach(function(t){this.$ui.getView(t).$config.$skipSmartRenderOnScroll=!1}.bind(this))),l&&n.scroll(e);var g={position:0},v={position:0};n&&(g=n.getScrollState()),o&&(v=o.getScrollState()),this.callEvent("onGanttScroll",[a.position,s.position,v.position,g.position])},showDate:function(t){var e=this.posFromDate(t),n=Math.max(e-this.config.task_scroll_offset,0);this.scrollTo(n)},showTask:function(n){var r=this.getTaskPosition(this.getTask(n)),i=r.left;this.config.rtl&&(i=r.left+r.width);var a,s=Math.max(i-this.config.task_scroll_offset,0),u=this._scroll_state().y;a=u?r.top-(u-this.getTaskBarHeight(n))/2:r.top,this.scrollTo(s,a);var l=e(this),c=t(this);l&&c&&l.$config.scrollY!=c.$config.scrollY&&o(this,l,"scrollY").scrollTo(null,a)},_scroll_state:function(){var t={x:!1,y:!1,x_pos:0,y_pos:0,scroll_size:this.config.scroll_size+1,x_inner:0,y_inner:0},e=r(this),n=i(this);if(n){var o=n.getScrollState();o.visible&&(t.x=o.size,t.x_inner=o.scrollSize),t.x_pos=o.position||0}if(e){var a=e.getScrollState();a.visible&&(t.y=a.size,t.y_inner=a.scrollSize),t.y_pos=a.position||0}return t},getScrollState:function(){var t=this._scroll_state();return{x:t.x_pos,y:t.y_pos,inner_width:t.x,inner_height:t.y,width:t.x_inner,height:t.y_inner}}}}},function(t,e){function n(t,e){var n=e.skin;if(!n||t)for(var r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var o=r[i].href.match("dhtmlxgantt_([a-z_]+).css");if(o&&(e.skins[o[1]]||!n)){n=o[1];break}}e.skin=n||"terrace";var a=e.skins[e.skin]||e.skins.terrace;!function(t,e,n){for(var r in e)(void 0===t[r]||n)&&(t[r]=e[r])}(e.config,a.config,t);var s=e.getGridColumns();for(s[1]&&!e.defined(s[1].width)&&(s[1].width=a._second_column_width),s[2]&&!e.defined(s[2].width)&&(s[2].width=a._third_column_width),i=0;i<s.length;i++){var u=s[i];"add"==u.name&&(u.width||(u.width=44),e.defined(u.min_width)&&e.defined(u.max_width)||(u.min_width=u.min_width||u.width,u.max_width=u.max_width||u.width),u.min_width&&(u.min_width=+u.min_width),u.max_width&&(u.max_width=+u.max_width),u.width&&(u.width=+u.width,u.width=u.min_width&&u.min_width>u.width?u.min_width:u.width,u.width=u.max_width&&u.max_width<u.width?u.max_width:u.width))}a.config.task_height&&(e.config.task_height=a.config.task_height||"full"),a.config.bar_height&&(e.config.bar_height=a.config.bar_height||"full"),a._lightbox_template&&(e._lightbox_template=a._lightbox_template),a._redefine_lightbox_buttons&&(e.config.buttons_right=a._redefine_lightbox_buttons.buttons_right,e.config.buttons_left=a._redefine_lightbox_buttons.buttons_left),e.resetLightbox()}t.exports=function(t){t.resetSkin||(t.resetSkin=function(){this.skin="",n(!0,this)},t.skins={},t.attachEvent("onGanttLayoutReady",(function(){n(!1,this)})))}},function(t,e){t.exports=function(t){t.skins.skyblue={config:{grid_width:350,row_height:27,scale_height:27,link_line_width:1,link_arrow_size:8,lightbox_additional_height:75},_second_column_width:95,_third_column_width:80}}},function(t,e){t.exports=function(t){t.skins.meadow={config:{grid_width:350,row_height:27,scale_height:30,link_line_width:2,link_arrow_size:6,lightbox_additional_height:72},_second_column_width:95,_third_column_width:80}}},function(t,e){t.exports=function(t){t.skins.terrace={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:90,_third_column_width:70}}},function(t,e){t.exports=function(t){t.skins.broadway={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:1,link_arrow_size:7,lightbox_additional_height:86},_second_column_width:90,_third_column_width:80,_lightbox_template:"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span><div class='gantt_cancel_btn'></div></div><div class='gantt_cal_larea'></div>",_config_buttons_left:{},_config_buttons_right:{gantt_delete_btn:"icon_delete",gantt_save_btn:"icon_save"}}}},function(t,e){t.exports=function(t){t.skins.material={config:{grid_width:411,row_height:34,task_height_offset:6,scale_height:36,link_line_width:2,link_arrow_size:6,lightbox_additional_height:80},_second_column_width:110,_third_column_width:75,_redefine_lightbox_buttons:{buttons_left:["dhx_delete_btn"],buttons_right:["dhx_save_btn","dhx_cancel_btn"]}},t.attachEvent("onAfterTaskDrag",(function(e){var n=t.getTaskNode(e);n&&(n.className+=" gantt_drag_animation",setTimeout((function(){var t=n.className.indexOf(" gantt_drag_animation");t>-1&&(n.className=n.className.slice(0,t))}),200))}))}},function(t,e){t.exports=function(t){t.skins.contrast_black={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function(t,e){t.exports=function(t){t.skins.contrast_white={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function(t,e,n){t.exports=function(t){t.ext||(t.ext={});for(var e=[n(255),n(256),n(257)],r=0;r<e.length;r++)e[r]&&e[r](t);var i=n(258).default;t.ext.zoom=new i(t)}},function(t,e,n){var r=n(1),i=n(10);t.exports=function(t){var e=50,n=30,o=10,a=50,s=null,u=!1,l=null,c={started:!1},h={};function f(e){return e&&r.isChildOf(e,t.$root)&&e.offsetHeight}function d(){var e=!!document.querySelector(".gantt_drag_marker"),n=!!document.querySelector(".gantt_drag_marker.gantt_grid_resize_area")||!!document.querySelector(".gantt_drag_marker.gantt_row_grid_resize_area"),r=!!document.querySelector(".gantt_link_direction"),i=t.getState(),o=i.autoscroll;return u=e&&!n&&!r,!(!i.drag_mode&&!e||n)||o}function p(e){if(l&&(clearTimeout(l),l=null),e){var n=t.config.autoscroll_speed;n&&n<10&&(n=10),l=setTimeout((function(){s=setInterval(_,n||a)}),t.config.autoscroll_delay||o)}}function g(t){t?(p(!0),c.started||(c.x=h.x,c.y=h.y,c.started=!0)):(s&&(clearInterval(s),s=null),p(!1),c.started=!1)}function v(e){var n=d();if(!s&&!l||n||g(!1),!t.config.autoscroll||!n)return!1;h={x:e.clientX,y:e.clientY},"touchmove"==e.type&&(h.x=e.targetTouches[0].clientX,h.y=e.targetTouches[0].clientY),!s&&n&&g(!0)}function _(){if(!d())return g(!1),!1;var e=f(t.$task)?t.$task:f(t.$grid)?t.$grid:t.$root;if(e){var i=!1;[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach((function(t){i=i||!!document.querySelector(t)})),i&&(e=t.$grid);var o=r.getNodePosition(e),a=h.x-o.x,s=h.y-o.y+window.scrollY,l=u?0:m(a,o.width,c.x-o.x),p=m(s,o.height,c.y-o.y+window.scrollY),v=t.getScrollState(),_=v.y,y=v.inner_height,b=v.height,w=v.x,k=v.inner_width,S=v.width;(p&&!y||p<0&&!_||p>0&&_+y>=b+2)&&(p=0),(l&&!k||l<0&&!w||l>0&&w+k>=S)&&(l=0);var T=t.config.autoscroll_step;T&&T<2&&(T=2),p*=T||n,((l*=T||n)||p)&&function(e,n){var r=t.getScrollState(),i=null,o=null;e&&(i=r.x+e,i=Math.min(r.width,i),i=Math.max(0,i)),n&&(o=r.y+n,o=Math.min(r.height,o),o=Math.max(0,o)),t.scrollTo(i,o)}(l,p)}}function m(t,n,r){return t-e<0&&t<r?-1:t>n-e&&t>r?1:0}t.attachEvent("onGanttReady",(function(){if(!i(t)){var e=r.getRootNode(t.$root)||document.body;t.eventRemove(e,"mousemove",v),t.event(e,"mousemove",v),t.eventRemove(e,"touchmove",v),t.event(e,"touchmove",v),t.eventRemove(e,"pointermove",v),t.event(e,"pointermove",v)}})),t.attachEvent("onDestroy",(function(){g(!1)}))}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}window.jQuery&&function(t){var e=[];t.fn.dhx_gantt=function(r){if("string"!=typeof(r=r||{})){var i=[];return this.each((function(){if(this&&this.getAttribute)if(this.gantt||window.gantt.$root==this)i.push("object"==n(this.gantt)?this.gantt:window.gantt);else{var t=window.gantt.$container&&window.Gantt?window.Gantt.getGanttInstance():window.gantt;for(var e in r)"data"!=e&&(t.config[e]=r[e]);t.init(this),r.data&&t.parse(r.data),i.push(t)}})),1===i.length?i[0]:i}if(e[r])return e[r].apply(this,[]);t.error("Method "+r+" does not exist on jQuery.dhx_gantt")}}(window.jQuery),t.exports=null},function(t,e){window.dhtmlx&&(window.dhtmlx.attaches||(window.dhtmlx.attaches={}),window.dhtmlx.attaches.attachGantt=function(t,e,n){var r=document.createElement("DIV");n=n||window.gantt,r.id="gantt_"+n.uid(),r.style.width="100%",r.style.height="100%",r.cmp="grid",document.body.appendChild(r),this.attachObject(r.id),this.dataType="gantt",this.dataObj=n;var i=this.vs[this.av];return i.grid=n,n.init(r.id,t,e),r.firstChild.style.border="none",i.gridId=r.id,i.gridObj=r,this.vs[this._viewRestore()].grid}),void 0!==window.dhtmlXCellObject&&(window.dhtmlXCellObject.prototype.attachGantt=function(t,e,n){n=n||window.gantt;var r=document.createElement("DIV");return r.id="gantt_"+n.uid(),r.style.width="100%",r.style.height="100%",r.cmp="grid",document.body.appendChild(r),this.attachObject(r.id),this.dataType="gantt",this.dataObj=n,n.init(r.id,t,e),r.firstChild.style.border="none",r=null,this.callEvent("_onContentAttach",[]),this.dataObj}),t.exports=null},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=n(4),o=["ctrlKey","altKey","shiftKey","metaKey"],a=[[{unit:"month",date:"%M",step:1},{unit:"day",date:"%d",step:1}],[{unit:"day",date:"%d %M",step:1}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:8}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:1}]],s=function(){function t(t){var e=this;this.zoomIn=function(){var t=e.getCurrentLevel()-1;t<0||e.setLevel(t)},this.zoomOut=function(){var t=e.getCurrentLevel()+1;t>e._levels.length-1||e.setLevel(t)},this.getCurrentLevel=function(){return e._activeLevelIndex},this.getLevels=function(){return e._levels},this.setLevel=function(t){var n=e._getZoomIndexByName(t);-1===n&&e.$gantt.assert(-1!==n,"Invalid zoom level for gantt.ext.zoom.setLevel. "+t+" is not an expected value."),e._setLevel(n,0)},this._getZoomIndexByName=function(t){var n=-1;if("string"==typeof t){if(!isNaN(Number(t))&&e._levels[Number(t)])n=Number(t);else for(var r=0;r<e._levels.length;r++)if(e._levels[r].name===t){n=r;break}}else n=t;return n},this._getVisibleDate=function(){if(!e.$gantt.$task)return null;var t=e.$gantt.getScrollState().x,n=e.$gantt.$task.offsetWidth;e._visibleDate=e.$gantt.dateFromPos(t+n/2)},this._setLevel=function(t,n){e._activeLevelIndex=t;var r=e.$gantt,i=r.copy(e._levels[e._activeLevelIndex]),o=r.copy(i);if(delete o.name,r.mixin(r.config,o,!0),r.$root&&r.$task){if(n){var a=e.$gantt.dateFromPos(n+e.$gantt.getScrollState().x);e.$gantt.render();var s=e.$gantt.posFromDate(a);e.$gantt.scrollTo(s-n)}else{var u=e.$gantt.$task.offsetWidth;e._visibleDate||e._getVisibleDate();var l=e._visibleDate;e.$gantt.render(),s=e.$gantt.posFromDate(l),e.$gantt.scrollTo(s-u/2)}e.callEvent("onAfterZoom",[e._activeLevelIndex,i])}},this._attachWheelEvent=function(t){var n,i=r.isFF?"wheel":"mousewheel";(n="function"==typeof t.element?t.element():t.element)&&e._domEvents.attach(n,i,e.$gantt.bind((function(t){if(this._useKey){if(o.indexOf(this._useKey)<0)return!1;if(!t[this._useKey])return!1}if("function"==typeof this._handler)return this._handler.apply(this,[t]),!0}),e),{passive:!1})},this._defaultHandler=function(t){var n=e.$gantt.$task.getBoundingClientRect().x,r=t.clientX-n,i=!1;(e.$gantt.env.isFF?-40*t.deltaY:t.wheelDelta)>0&&(i=!0),t.preventDefault(),t.stopPropagation(),e._setScaleSettings(i,r)},this._setScaleDates=function(){e._initialStartDate&&e._initialEndDate&&(e.$gantt.config.start_date=e._initialStartDate,e.$gantt.config.end_date=e._initialEndDate)},this.$gantt=t,this._domEvents=this.$gantt._createDomEventScope()}return t.prototype.init=function(t){var e=this;this.$gantt.env.isNode||(this._initialStartDate=t.startDate,this._initialEndDate=t.endDate,this._activeLevelIndex=t.activeLevelIndex?t.activeLevelIndex:0,this._levels=this._mapScales(t.levels||a),this._handler=t.handler||this._defaultHandler,this._minColumnWidth=t.minColumnWidth||60,this._maxColumnWidth=t.maxColumnWidth||240,this._widthStep=t.widthStep||3/8*t.minColumnWidth,this._useKey=t.useKey,this._initialized||(i(this),this.$gantt.attachEvent("onGanttScroll",(function(){e._getVisibleDate()}))),this._domEvents.detachAll(),"wheel"===t.trigger&&(this.$gantt.$root?this._attachWheelEvent(t):this.$gantt.attachEvent("onGanttReady",(function(){e._attachWheelEvent(t)}))),this._initialized=!0,this.setLevel(this._activeLevelIndex))},t.prototype._mapScales=function(t){return t.map((function(t){return Array.isArray(t)?{scales:t}:t}))},t.prototype._setScaleSettings=function(t,e){t?this._stepUp(e):this._stepDown(e)},t.prototype._stepUp=function(t){if(!(this._activeLevelIndex>=this._levels.length-1)){var e=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){var n=this.$gantt.config.min_column_width+this._widthStep;n>this._maxColumnWidth&&(n=this._minColumnWidth,e++),this.$gantt.config.min_column_width=n}else e++;this._setLevel(e,t)}},t.prototype._stepDown=function(t){if(!(this._activeLevelIndex<1)){var e=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){var n=this.$gantt.config.min_column_width-this._widthStep;n<this._minColumnWidth&&(n=this._maxColumnWidth,e--),this.$gantt.config.min_column_width=n}else e--;this._setLevel(e,t)}},t}();e.default=s},function(t,e){t.exports=function(t){function e(e){var n=e.$config.scrollX?t.$ui.getView(e.$config.scrollX):null,r=e.$config.scrollY?t.$ui.getView(e.$config.scrollY):null,i={x:null,y:null};return n&&n.getScrollState().visible&&(i.x=n.$view.scrollLeft),r&&r.getScrollState().visible&&(i.y=r.$view.scrollTop),i}function n(){var e;return t.$ui.getView("timeline")&&(e=t.$ui.getView("timeline")._tasks_dnd),e}t.config.touch_drag=500,t.config.touch=!0,t.config.touch_feedback=!0,t.config.touch_feedback_duration=1,t._prevent_touch_scroll=!1,t._touch_feedback=function(){t.config.touch_feedback&&navigator.vibrate&&navigator.vibrate(t.config.touch_feedback_duration)},t.attachEvent("onGanttReady",t.bind((function(){if("force"!=this.config.touch&&(this.config.touch=this.config.touch&&(-1!=navigator.userAgent.indexOf("Mobile")||-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("Android")||-1!=navigator.userAgent.indexOf("Touch"))||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),this.config.touch){var t=!0;try{document.createEvent("TouchEvent")}catch(e){t=!1}t?this._touch_events(["touchmove","touchstart","touchend"],(function(t){return t.touches&&t.touches.length>1?null:t.touches[0]?{target:t.target,pageX:t.touches[0].pageX,pageY:t.touches[0].pageY,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:t}),(function(){return!1})):window.navigator.pointerEnabled?this._touch_events(["pointermove","pointerdown","pointerup"],(function(t){return"mouse"==t.pointerType?null:t}),(function(t){return!t||"mouse"==t.pointerType})):window.navigator.msPointerEnabled&&this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],(function(t){return t.pointerType==t.MSPOINTER_TYPE_MOUSE?null:t}),(function(t){return!t||t.pointerType==t.MSPOINTER_TYPE_MOUSE}))}}),t));var r=[];t._touch_events=function(i,o,a){for(var s,u=0,l=!1,c=!1,h=null,f=null,d=null,p=[],g=null,v=0;v<r.length;v++)t.eventRemove(r[v][0],r[v][1],r[v][2]);for((r=[]).push([t.$container,i[0],function(r){var i=n();if(!a(r)&&l){f&&clearTimeout(f);var d=o(r);if(i&&(i.drag.id||i.drag.start_drag))return i.on_mouse_move(d),r.preventDefault&&r.preventDefault(),r.cancelBubble=!0,!1;if(!t._prevent_touch_scroll){if(d&&h){var p=h.pageX-d.pageX,v=h.pageY-d.pageY;if(!c&&(Math.abs(p)>5||Math.abs(v)>5)&&(c=!0,u=0,s=g?e(g):t.getScrollState()),c){var m,y=s.x+p,b=s.y+v;if(g?(function(e,n,r){var i=e.$config.scrollX?t.$ui.getView(e.$config.scrollX):null,o=e.$config.scrollY?t.$ui.getView(e.$config.scrollY):null;i&&i.scrollTo(n,null),o&&o.scrollTo(null,r)}(g,y,b),m=e(g)):(t.scrollTo(y,b),m=t.getScrollState()),s.x!=m.x&&v>2*p||s.y!=m.y&&p>2*v)return _(r)}}return _(r)}return!0}}]),r.push([this.$container,"contextmenu",function(t){if(l)return _(t)}]),r.push([this.$container,i[1],function(e){if(document&&document.body&&document.body.classList.add("gantt_touch_active"),!a(e))if(e.touches&&e.touches.length>1)l=!1;else{h=o(e),g=function(e){for(var n=t.$layout.getCellsByType("viewCell"),r=0;r<n.length;r++){var i=n[r].$view.getBoundingClientRect();if(e.clientX>=i.left&&e.clientX<=i.right&&e.clientY<=i.bottom&&e.clientY>=i.top)return n[r]}}(h),t._locate_css(h,"gantt_hor_scroll")||t._locate_css(h,"gantt_ver_scroll")||(l=!0);var r=n();f=setTimeout((function(){var e=t.locate(h);r&&e&&!t._locate_css(h,"gantt_link_control")&&!t._locate_css(h,"gantt_grid_data")&&(r.on_mouse_down(h),r.drag&&r.drag.start_drag&&(function(e){var n=t._getTaskLayers(),r=t.getTask(e);if(r&&t.isTaskVisible(e)){d=e;for(var i=0;i<n.length;i++)if((r=n[i].rendered[e])&&r.getAttribute(t.config.task_attribute)&&r.getAttribute(t.config.task_attribute)==e){var o=r.cloneNode(!0);p.push(r),n[i].rendered[e]=o,r.style.display="none",o.className+=" gantt_drag_move ",r.parentNode.appendChild(o)}}}(e),r._start_dnd(h),t._touch_drag=!0,t.refreshTask(e),t._touch_feedback())),f=null}),t.config.touch_drag)}}]),r.push([this.$container,i[2],function(e){if(document&&document.body&&document.body.classList.remove("gantt_touch_active"),!a(e)){f&&clearTimeout(f),t._touch_drag=!1,l=!1;var r=o(e),i=n();if(i&&i.on_mouse_up(r),d&&t.isTaskExists(d)&&(t.refreshTask(d),p.length&&(p.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)})),t._touch_feedback())),l=c=!1,p=[],d=null,h&&u){var s=new Date;s-u<500?(t.$services.getService("mouseEvents").onDoubleClick(h),_(e)):u=s}else u=new Date}}]),v=0;v<r.length;v++)t.event(r[v][0],r[v][1],r[v][2]);function _(t){return t&&t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,!1}}}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){var e=n(1),i=n(2),o=n(261)(t),a=n(262)(t),s=n(263)(t),u=n(15)(t),l=n(264)(t),c=n(265)(t),h=n(266)(t),f=n(267)(t),d=n(15)(t),p=n(268)(t),g=n(269)(t);function v(e,n){var r,i,o="";for(i=0;i<e.length;i++)r=t.config._migrate_buttons[e[i]]?t.config._migrate_buttons[e[i]]:e[i],o+="<div "+t._waiAria.lightboxButtonAttrString(r)+" class='gantt_btn_set gantt_left_btn_set "+r+"_set'"+(n?" style='float:right;'":"")+"><div dhx_button='1' data-dhx-button='1' class='"+r+"'></div><div>"+t.locale.labels[r]+"</div></div>";return o}function _(e,n,r){var i,o,a,s,u,l,c="";switch(r.timeFormat[n]){case"%Y":for(e._time_format_order[2]=n,e._time_format_order.size++,e.year_range&&(isNaN(e.year_range)?e.year_range.push&&(a=e.year_range[0],s=e.year_range[1]):i=e.year_range),i=i||10,o=o||Math.floor(i/2),a=a||r.date.getFullYear()-o,s=s||t.getState().max_date.getFullYear()+o,u=a;u<s;u++)c+="<option value='"+u+"'>"+u+"</option>";break;case"%m":for(e._time_format_order[1]=n,e._time_format_order.size++,u=0;u<12;u++)c+="<option value='"+u+"'>"+t.locale.date.month_full[u]+"</option>";break;case"%d":for(e._time_format_order[0]=n,e._time_format_order.size++,u=1;u<32;u++)c+="<option value='"+u+"'>"+u+"</option>";break;case"%H:%i":for(e._time_format_order[3]=n,e._time_format_order.size++,u=r.first,l=r.date.getDate(),e._time_values=[];u<r.last;)c+="<option value='"+u+"'>"+t.templates.time_picker(r.date)+"</option>",e._time_values.push(u),r.date.setTime(r.date.valueOf()+60*t._get_timepicker_step()*1e3),u=24*(r.date.getDate()!=l?1:0)*60+60*r.date.getHours()+r.date.getMinutes()}return c}t._lightbox_methods={},t._lightbox_template="<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span></div><div class='gantt_cal_larea'></div>",t.$services.getService("state").registerProvider("lightbox",(function(){return{lightbox:t._lightbox_id}})),t.showLightbox=function(t){if(this.callEvent("onBeforeLightbox",[t])){var e=this.getTask(t),n=this.getLightbox(this.getTaskType(e.type));this._center_lightbox(n),this.showCover(),this._fill_lightbox(t,n),this._waiAria.lightboxVisibleAttr(n),this.callEvent("onLightbox",[t])}},t._get_timepicker_step=function(){if(this.config.round_dnd_dates){var e;if(function(t){var e=t.$ui.getView("timeline");return!(!e||!e.isVisible())}(this)){var n=t.getScale();e=i.getSecondsInUnit(n.unit)*n.step/60}return(!e||e>=1440)&&(e=this.config.time_step),e}return this.config.time_step},t.getLabel=function(t,e){for(var n=this._get_typed_lightbox_config(),r=0;r<n.length;r++)if(n[r].map_to==t)for(var i=n[r].options,o=0;o<i.length;o++)if(i[o].key==e)return i[o].label;return""},t.updateCollection=function(e,n){n=n.slice(0);var r=t.serverList(e);if(!r)return!1;r.splice(0,r.length),r.push.apply(r,n||[]),t.resetLightbox()},t.getLightboxType=function(){return this.getTaskType(this._lightbox_type)},t.getLightbox=function(e){var n,r,i,o,a,s="";if(void 0===e&&(e=this.getLightboxType()),!this._lightbox||this.getLightboxType()!=this.getTaskType(e)){this._lightbox_type=this.getTaskType(e),n=document.createElement("div"),s="gantt_cal_light",r=this._is_lightbox_timepicker(),(t.config.wide_form||r)&&(s+=" gantt_cal_light_wide"),r&&(t.config.wide_form=!0,s+=" gantt_cal_light_full"),n.className=s,n.style.visibility="hidden",i=this._lightbox_template,i+=v(this.config.buttons_left),i+=v(this.config.buttons_right,!0),n.innerHTML=i,t._waiAria.lightboxAttr(n),t.config.drag_lightbox&&(n.firstChild.onmousedown=t._ready_to_dnd,n.firstChild.onselectstart=function(){return!1},n.firstChild.style.cursor="pointer",t._init_dnd_events()),this._lightbox&&this.resetLightbox(),document.body.insertBefore(n,document.body.firstChild),this._lightbox=n,o=this._get_typed_lightbox_config(e),i=this._render_sections(o);var u=(a=n.querySelector("div.gantt_cal_larea")).style.overflow;a.style.overflow="hidden",a.innerHTML=i,function(e){var n,r,i,o,a,s;for(s=0;s<e.length;s++)n=e[s],i=document.getElementById(n.id),n.id&&i&&(r=i.querySelector("label"),(o=i.nextSibling)&&(a=o.querySelector("input, select, textarea"))&&(a.id=a.id||"input_"+t.uid(),n.inputId=a.id,r.setAttribute("for",n.inputId)))}(o),this.resizeLightbox(),a.style.overflow=u,this._init_lightbox_events(this),n.style.display="none",n.style.visibility="visible"}return this._lightbox},t._render_sections=function(t){for(var e="",n=0;n<t.length;n++){var r=this.form_blocks[t[n].type];if(r){t[n].id="area_"+this.uid();var i=t[n].hidden?" style='display:none'":"",o="";t[n].button&&(o="<div class='gantt_custom_button' data-index='"+n+"'><div class='gantt_custom_button_"+t[n].button+"'></div><div class='gantt_custom_button_label'>"+this.locale.labels["button_"+t[n].button]+"</div></div>"),this.config.wide_form&&(e+="<div class='gantt_wrap_section' "+i+">"),e+="<div id='"+t[n].id+"' class='gantt_cal_lsection'><label>"+o+this.locale.labels["section_"+t[n].name]+"</label></div>"+r.render.call(this,t[n]),e+="</div>"}}return e},t.resizeLightbox=function(){if(this._lightbox){var t=this._lightbox.querySelector(".gantt_cal_larea");t.style.height="0px",t.style.height=t.scrollHeight+"px",this._lightbox.style.height=t.scrollHeight+this.config.lightbox_additional_height+"px",t.style.height=t.scrollHeight+"px"}},t._center_lightbox=function(t){if(t){t.style.display="block";var e=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,n=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,r=window.innerHeight||document.documentElement.clientHeight;t.style.top=e?Math.round(e+Math.max((r-t.offsetHeight)/2,0))+"px":Math.round(Math.max((r-t.offsetHeight)/2,0)+9)+"px",document.documentElement.scrollWidth>document.body.offsetWidth?t.style.left=Math.round(n+(document.body.offsetWidth-t.offsetWidth)/2)+"px":t.style.left=Math.round((document.body.offsetWidth-t.offsetWidth)/2)+"px"}},t.showCover=function(){this._cover||(this._cover=document.createElement("DIV"),this._cover.className="gantt_cal_cover",document.body.appendChild(this._cover))},t.event(window,"deviceorientation",(function(){t.getState().lightbox&&t._center_lightbox(t.getLightbox())})),t._init_lightbox_events=function(){t.lightbox_events={},t.lightbox_events.gantt_save_btn=function(){t._save_lightbox()},t.lightbox_events.gantt_delete_btn=function(){t._lightbox_new_type=null,t.callEvent("onLightboxDelete",[t._lightbox_id])&&(t.isTaskExists(t._lightbox_id)?t.$click.buttons.delete(t._lightbox_id):t.hideLightbox())},t.lightbox_events.gantt_cancel_btn=function(){t._cancel_lightbox()},t.lightbox_events.default=function(n,r){if(r.getAttribute("data-dhx-button"))t.callEvent("onLightboxButton",[r.className,r,n]);else{var i,o,a=e.getClassName(r);if(-1!=a.indexOf("gantt_custom_button"))if(-1!=a.indexOf("gantt_custom_button_"))for(i=r.parentNode.getAttribute("data-index"),o=r;o&&-1==e.getClassName(o).indexOf("gantt_cal_lsection");)o=o.parentNode;else i=r.getAttribute("data-index"),o=r.parentNode,r=r.firstChild;var s=t._get_typed_lightbox_config();i&&(i*=1,t.form_blocks[s[1*i].type].button_click(i,r,o,o.nextSibling))}},this.event(t.getLightbox(),"click",(function(n){n=n||window.event;var r=e.getTargetNode(n),i=e.getClassName(r);return i||(r=r.previousSibling,i=e.getClassName(r)),r&&i&&0===i.indexOf("gantt_btn_set")&&(r=r.firstChild,i=e.getClassName(r)),!(!r||!i)&&(t.defined(t.lightbox_events[r.className])?t.lightbox_events[r.className]:t.lightbox_events.default)(n,r)})),t.getLightbox().onkeydown=function(n){var r=n||window.event,i=n.target||n.srcElement,o=e.getClassName(i).indexOf("gantt_btn_set")>-1;switch((n||r).keyCode){case t.constants.KEY_CODES.SPACE:if((n||r).shiftKey)return;o&&i.click&&i.click();break;case t.keys.edit_save:if((n||r).shiftKey)return;o&&i.click?i.click():t._save_lightbox();break;case t.keys.edit_cancel:t._cancel_lightbox()}}},t._cancel_lightbox=function(){var e=this.getLightboxValues();this.callEvent("onLightboxCancel",[this._lightbox_id,e.$new]),t.isTaskExists(e.id)&&e.$new&&this.silent((function(){t.$data.tasksStore.removeItem(e.id),t._update_flags(e.id,null)})),this.refreshData(),this.hideLightbox()},t._save_lightbox=function(){var t=this.getLightboxValues();this.callEvent("onLightboxSave",[this._lightbox_id,t,!!t.$new])&&(t.$new?(delete t.$new,this.addTask(t,t.parent,this.getTaskIndex(t.id))):this.isTaskExists(t.id)&&(this.mixin(this.getTask(t.id),t,!0),this.refreshTask(t.id),this.updateTask(t.id)),this.refreshData(),this.hideLightbox())},t._resolve_default_mapping=function(t){var e=t.map_to;return{time:!0,time_optional:!0,duration:!0,duration_optional:!0}[t.type]?"auto"==t.map_to?e={start_date:"start_date",end_date:"end_date",duration:"duration"}:"string"==typeof t.map_to&&(e={start_date:t.map_to}):"constraint"===t.type&&(t.map_to&&"string"!=typeof t.map_to||(e={constraint_type:"constraint_type",constraint_date:"constraint_date"})),e},t.getLightboxValues=function(){var e={};t.isTaskExists(this._lightbox_id)&&(e=this.mixin({},this.getTask(this._lightbox_id)));for(var n=this._get_typed_lightbox_config(),i=0;i<n.length;i++){var o=document.getElementById(n[i].id);o=o?o.nextSibling:o;var a=this.form_blocks[n[i].type];if(a){var s=a.get_value.call(this,o,e,n[i]),u=t._resolve_default_mapping(n[i]);if("string"==typeof u&&"auto"!=u)e[u]=s;else if("object"==r(u))for(var l in u)u[l]&&(e[u[l]]=s[l])}}return"task"==t._lightbox_new_type&&(e.type=t.config.types.task,t._lightbox_new_type=null),e},t.hideLightbox=function(){var t=this.getLightbox();t&&(t.style.display="none"),this._waiAria.lightboxHiddenAttr(t),this._lightbox_id=null,this.hideCover(),this.callEvent("onAfterLightbox",[])},t.hideCover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},t.resetLightbox=function(){t._lightbox&&!t._custom_lightbox&&t._lightbox.parentNode.removeChild(t._lightbox),t._lightbox=null,t.hideCover()},t._set_lightbox_values=function(e,n){var r=e,i=n.getElementsByTagName("span"),o=[];t.templates.lightbox_header?(o.push(""),o.push(t.templates.lightbox_header(r.start_date,r.end_date,r)),i[1].innerHTML="",i[2].innerHTML=t.templates.lightbox_header(r.start_date,r.end_date,r)):(o.push(this.templates.task_time(r.start_date,r.end_date,r)),o.push(String(this.templates.task_text(r.start_date,r.end_date,r)||"").substr(0,70)),i[1].innerHTML=this.templates.task_time(r.start_date,r.end_date,r),i[2].innerHTML=String(this.templates.task_text(r.start_date,r.end_date,r)||"").substr(0,70)),i[1].innerHTML=o[0],i[2].innerHTML=o[1],t._waiAria.lightboxHeader(n,o.join(" "));for(var a=this._get_typed_lightbox_config(this.getLightboxType()),s=0;s<a.length;s++){var u=a[s];if(this.form_blocks[u.type]){var l=document.getElementById(u.id).nextSibling,c=this.form_blocks[u.type],h=t._resolve_default_mapping(a[s]),f=this.defined(r[h])?r[h]:u.default_value;c.set_value.call(t,l,f,r,u),u.focus&&c.focus.call(t,l)}}t.isTaskExists(e.id)&&(t._lightbox_id=e.id)},t._fill_lightbox=function(t,e){var n=this.getTask(t);this._set_lightbox_values(n,e)},t.getLightboxSection=function(e){for(var n=this._get_typed_lightbox_config(),r=0;r<n.length&&n[r].name!=e;r++);var i=n[r];if(!i)return null;this._lightbox||this.getLightbox();var o=document.getElementById(i.id),a=o.nextSibling,s={section:i,header:o,node:a,getValue:function(e){return t.form_blocks[i.type].get_value.call(t,a,e||{},i)},setValue:function(e,n){return t.form_blocks[i.type].set_value.call(t,a,e,n||{},i)}},u=this._lightbox_methods["get_"+i.type+"_control"];return u?u(s):s},t._lightbox_methods.get_template_control=function(t){return t.control=t.node,t},t._lightbox_methods.get_select_control=function(t){return t.control=t.node.getElementsByTagName("select")[0],t},t._lightbox_methods.get_textarea_control=function(t){return t.control=t.node.getElementsByTagName("textarea")[0],t},t._lightbox_methods.get_time_control=function(t){return t.control=t.node.getElementsByTagName("select"),t},t._init_dnd_events=function(){var e=document.body;this.event(e,"mousemove",t._move_while_dnd),this.event(e,"mouseup",t._finish_dnd),t._init_dnd_events=function(){}},t._move_while_dnd=function(e){if(t._dnd_start_lb){document.gantt_unselectable||(document.body.className+=" gantt_unselectable",document.gantt_unselectable=!0);var n=t.getLightbox(),r=[e.pageX,e.pageY];n.style.top=t._lb_start[1]+r[1]-t._dnd_start_lb[1]+"px",n.style.left=t._lb_start[0]+r[0]-t._dnd_start_lb[0]+"px"}},t._ready_to_dnd=function(e){var n=t.getLightbox();t._lb_start=[parseInt(n.style.left,10),parseInt(n.style.top,10)],t._dnd_start_lb=[e.pageX,e.pageY]},t._finish_dnd=function(){t._lb_start&&(t._lb_start=t._dnd_start_lb=!1,document.body.className=document.body.className.replace(" gantt_unselectable",""),document.gantt_unselectable=!1)},t._focus=function(e,n){if(e&&e.focus)if(t.config.touch);else try{n&&e.select&&e.select(),e.focus()}catch(t){}},t.form_blocks={getTimePicker:function(e,n){var r,o,a,s="",u=this.config,l={first:0,last:1440,date:this.date.date_part(new Date(t._min_date.valueOf())),timeFormat:function(e){var n,r,o;return e.time_format?e.time_format:(o=["%d","%m","%Y"],r=(n=t.getScale())?n.unit:t.config.duration_unit,i.getSecondsInUnit(r)<i.getSecondsInUnit("day")&&o.push("%H:%i"),o)}(e)};for(e._time_format_order={size:0},t.config.limit_time_select&&(l.first=60*u.first_hour,l.last=60*u.last_hour+1,l.date.setHours(u.first_hour)),r=0;r<l.timeFormat.length;r++)r>0&&(s+=" "),(o=_(e,r,l))&&(a=t._waiAria.lightboxSelectAttrString(l.timeFormat[r]),s+="<select "+(e.readonly?"disabled='disabled'":"")+(n?" style='display:none' ":"")+a+">"+o+"</select>");return s},getTimePickerValue:function(e,n,r){var i,o=n._time_format_order,a=0,s=0,u=r||0;return t.defined(o[3])&&(i=parseInt(e[o[3]+u].value,10),a=Math.floor(i/60),s=i%60),new Date(e[o[2]+u].value,e[o[1]+u].value,e[o[0]+u].value,a,s)},_fill_lightbox_select:function(e,n,r,i){if(e[n+i[0]].value=r.getDate(),e[n+i[1]].value=r.getMonth(),e[n+i[2]].value=r.getFullYear(),t.defined(i[3])){var o=60*r.getHours()+r.getMinutes();o=Math.round(o/t._get_timepicker_step())*t._get_timepicker_step();var a=e[n+i[3]];a.value=o,a.setAttribute("data-value",o)}},template:new o,textarea:new a,select:new u,time:new s,duration:new h,parent:new f,radio:new c,checkbox:new l,resources:new d,constraint:new p,typeselect:new g},t._is_lightbox_timepicker=function(){for(var t=this._get_typed_lightbox_config(),e=0;e<t.length;e++)if("time"==t[e].name&&"time"==t[e].type)return!0;return!1},t._dhtmlx_confirm=function(e,n,r,i){if(!e)return r();var o={text:e};n&&(o.title=n),i&&(o.ok=i),r&&(o.callback=function(t){t&&r()}),t.confirm(o)},t._get_typed_lightbox_config=function(e){void 0===e&&(e=this.getLightboxType());var n=function(t){for(var e in this.config.types)if(this.config.types[e]==t)return e;return"task"}.call(this,e);return t.config.lightbox[n+"_sections"]?t.config.lightbox[n+"_sections"]:t.config.lightbox.sections},t._silent_redraw_lightbox=function(t){var e=this.getLightboxType();if(this.getState().lightbox){var n=this.getState().lightbox,r=this.getLightboxValues(),i=this.copy(this.getTask(n));this.resetLightbox();var o=this.mixin(i,r,!0),a=this.getLightbox(t||void 0);this._center_lightbox(this.getLightbox()),this._set_lightbox_values(o,a),this.showCover()}else this.resetLightbox(),this.getLightbox(t||void 0);this.callEvent("onLightboxChange",[e,this.getLightboxType()])}}},function(t,e,n){var r=n(3);t.exports=function(t){var e=n(6)(t);function i(){return e.apply(this,arguments)||this}return r(i,e),i.prototype.render=function(t){return"<div class='gantt_cal_ltext gantt_cal_template' style='height:"+(t.height||"30")+"px;'></div>"},i.prototype.set_value=function(t,e){t.innerHTML=e||""},i.prototype.get_value=function(t){return t.innerHTML||""},i.prototype.focus=function(){},i}},function(t,e,n){var r=n(3);t.exports=function(t){var e=n(6)(t);function i(){return e.apply(this,arguments)||this}return r(i,e),i.prototype.render=function(t){return"<div class='gantt_cal_ltext' style='height:"+(t.height||"130")+"px;'><textarea></textarea></div>"},i.prototype.set_value=function(e,n){t.form_blocks.textarea._get_input(e).value=n||""},i.prototype.get_value=function(e){return t.form_blocks.textarea._get_input(e).value},i.prototype.focus=function(e){var n=t.form_blocks.textarea._get_input(e);t._focus(n,!0)},i.prototype._get_input=function(t){return t.querySelector("textarea")},i}},function(t,e,n){var r=n(3);t.exports=function(t){var e=n(6)(t);function i(){return e.apply(this,arguments)||this}return r(i,e),i.prototype.render=function(e){var n=t.form_blocks.getTimePicker.call(this,e),r="<div style='height:"+(e.height||30)+"px;padding-top:0px;font-size:inherit;text-align:center;' class='gantt_section_time'>";return r+=n,e.single_date?(n=t.form_blocks.getTimePicker.call(this,e,!0),r+="<span></span>"):r+="<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>",(r+=n)+"</div>"},i.prototype.set_value=function(e,n,r,i){var o=i,a=e.getElementsByTagName("select"),s=i._time_format_order;if(o.auto_end_date)for(var u=function(){h=new Date(a[s[2]].value,a[s[1]].value,a[s[0]].value,0,0),f=t.calculateEndDate({start_date:h,duration:1,task:r}),t.form_blocks._fill_lightbox_select(a,s.size,f,s,o)},l=0;l<4;l++)a[l].onchange=u;var c=t._resolve_default_mapping(i);"string"==typeof c&&(c={start_date:c});var h=r[c.start_date]||new Date,f=r[c.end_date]||t.calculateEndDate({start_date:h,duration:1,task:r});t.form_blocks._fill_lightbox_select(a,0,h,s,o),t.form_blocks._fill_lightbox_select(a,s.size,f,s,o)},i.prototype.get_value=function(e,n,r){var i,o=e.getElementsByTagName("select"),a=r._time_format_order;return i=t.form_blocks.getTimePickerValue(o,r),"string"==typeof t._resolve_default_mapping(r)?i:{start_date:i,end_date:function(e,n,i){var o=t.form_blocks.getTimePickerValue(e,r,n.size);return o<=i&&(!1!==r.autofix_end||r.single_date)?t.date.add(i,t._get_timepicker_step(),"minute"):o}(o,a,i)}},i.prototype.focus=function(e){t._focus(e.getElementsByTagName("select")[0])},i}},function(t,e,n){var r=n(2),i=n(3);t.exports=function(t){var e=n(6)(t);function o(){return e.apply(this,arguments)||this}return i(o,e),o.prototype.render=function(t){var e="<div class='gantt_cal_ltext' style='height:"+(t.height||"23")+"px;'>";if(t.options&&t.options.length)for(var n=0;n<t.options.length;n++)e+="<label><input type='checkbox' value='"+t.options[n].key+"' name='"+t.name+"'>"+t.options[n].label+"</label>";else t.single_value=!0,e+="<label><input type='checkbox' name='"+t.name+"'></label>";return e+"</div>"},o.prototype.set_value=function(t,e,n,i){var o=Array.prototype.slice.call(t.querySelectorAll("input[type=checkbox]"));!t._dhx_onchange&&i.onchange&&(t.onchange=i.onchange,t._dhx_onchange=!0),i.single_value?o[0].checked=!!e:r.forEach(o,(function(t){t.checked=!!e&&e.indexOf(t.value)>=0}))},o.prototype.get_value=function(t,e,n){return n.single_value?t.querySelector("input[type=checkbox]").checked:r.arrayMap(Array.prototype.slice.call(t.querySelectorAll("input[type=checkbox]:checked")),(function(t){return t.value}))},o.prototype.focus=function(e){t._focus(e.querySelector("input[type=checkbox]"))},o}},function(t,e,n){var r=n(3);t.exports=function(t){var e=n(6)(t);function i(){return e.apply(this,arguments)||this}return r(i,e),i.prototype.render=function(t){var e="<div class='gantt_cal_ltext' style='height:"+(t.height||"23")+"px;'>";if(t.options&&t.options.length)for(var n=0;n<t.options.length;n++)e+="<label><input type='radio' value='"+t.options[n].key+"' name='"+t.name+"'>"+t.options[n].label+"</label>";return e+"</div>"},i.prototype.set_value=function(t,e,n,r){var i;r.options&&r.options.length&&(i=t.querySelector("input[type=radio][value='"+e+"']")||t.querySelector("input[type=radio][value='"+r.default_value+"']"))&&(!t._dhx_onchange&&r.onchange&&(t.onchange=r.onchange,t._dhx_onchange=!0),i.checked=!0)},i.prototype.get_value=function(t,e){var n=t.querySelector("input[type=radio]:checked");return n?n.value:""},i.prototype.focus=function(e){t._focus(e.querySelector("input[type=radio]"))},i}},function(t,e,n){var r=n(3),i=n(37).default;t.exports=function(t){var e=n(6)(t);function o(){return e.apply(this,arguments)||this}function a(t){return t.formatter||new i}function s(e,n){var r=e.getElementsByTagName("select"),i=n._time_format_order,o=0,a=0;if(t.defined(i[3])){var s=r[i[3]],u=parseInt(s.value,10);isNaN(u)&&s.hasAttribute("data-value")&&(u=parseInt(s.getAttribute("data-value"),10)),o=Math.floor(u/60),a=u%60}return new Date(r[i[2]].value,r[i[1]].value,r[i[0]].value,o,a)}function u(t,e){var n=t.getElementsByTagName("input")[1];return(n=a(e).parse(n.value))&&!window.isNaN(n)||(n=1),n<0&&(n*=-1),n}return r(o,e),o.prototype.render=function(e){var n="<div class='gantt_time_selects'>"+t.form_blocks.getTimePicker.call(this,e)+"</div>",r=" "+t.locale.labels[t.config.duration_unit+"s"]+" ",i=e.single_date?" style='display:none'":"",o=e.readonly?" disabled='disabled'":"",a=t._waiAria.lightboxDurationInputAttrString(e),s="gantt_duration_value";e.formatter&&(r="",s+=" gantt_duration_value_formatted");var u="<div class='gantt_duration' "+i+"><input type='button' class='gantt_duration_dec' value='\u2212'"+o+"><input type='text' value='5days' class='"+s+"'"+o+" "+a+"><input type='button' class='gantt_duration_inc' value='+'"+o+">"+r+"<span></span></div>";return"<div style='height:"+(e.height||30)+"px;padding-top:0px;font-size:inherit;' class='gantt_section_time'>"+n+" "+u+"</div>"},o.prototype.set_value=function(e,n,r,i){var o,l,c,h,f=e.getElementsByTagName("select"),d=e.getElementsByTagName("input"),p=d[1],g=[d[0],d[2]],v=e.getElementsByTagName("span")[0],_=i._time_format_order;function m(){var n=s.call(t,e,i),o=u.call(t,e,i),a=t.calculateEndDate({start_date:n,duration:o,task:r}),l=t.templates.task_end_date||t.templates.task_date;v.innerHTML=l(a)}function y(t){var e=p.value;e=a(i).parse(e),window.isNaN(e)&&(e=0),(e+=t)<1&&(e=1),p.value=a(i).format(e),m()}g[0].onclick=t.bind((function(){y(-1*t.config.duration_step)}),this),g[1].onclick=t.bind((function(){y(1*t.config.duration_step)}),this),f[0].onchange=m,f[1].onchange=m,f[2].onchange=m,f[3]&&(f[3].onchange=m),p.onkeydown=t.bind((function(e){var n;return(n=(e=e||window.event).charCode||e.keyCode||e.which)==t.constants.KEY_CODES.DOWN?(y(-1*t.config.duration_step),!1):n==t.constants.KEY_CODES.UP?(y(1*t.config.duration_step),!1):void window.setTimeout(m,1)}),this),p.onchange=t.bind(m,this),"string"==typeof(o=t._resolve_default_mapping(i))&&(o={start_date:o}),l=r[o.start_date]||new Date,c=r[o.end_date]||t.calculateEndDate({start_date:l,duration:1,task:r}),h=Math.round(r[o.duration])||t.calculateDuration({start_date:l,end_date:c,task:r}),h=a(i).format(h),t.form_blocks._fill_lightbox_select(f,0,l,_,i),p.value=h,m()},o.prototype.get_value=function(e,n,r){var i=s(e,r),o=u(e,r),a=t.calculateEndDate({start_date:i,duration:o,task:n});return"string"==typeof t._resolve_default_mapping(r)?i:{start_date:i,end_date:a,duration:o}},o.prototype.focus=function(e){t._focus(e.getElementsByTagName("select")[0])},o}},function(t,e,n){var r=n(3);t.exports=function(t){var e=n(15)(t);function i(){return e.apply(this,arguments)||this}function o(e,n){var r=[],i=[];n&&(r=t.getTaskByTime(),e.allow_root&&r.unshift({id:t.config.root_id,text:e.root_label||""}),r=function(e,n,r){var i=n.filter||function(){return!0};e=e.slice(0);for(var o=0;o<e.length;o++){var a=e[o];(a.id==r||t.isChildOf(a.id,r)||!1===i(a.id,a))&&(e.splice(o,1),o--)}return e}(r,e,n),e.sort&&r.sort(e.sort));for(var o=e.template||t.templates.task_text,a=0;a<r.length;a++){var s=o.apply(t,[r[a].start_date,r[a].end_date,r[a]]);void 0===s&&(s=""),i.push({key:r[a].id,label:s})}return e.options=i,e.map_to=e.map_to||"parent",t.form_blocks.select.render.apply(this,arguments)}return r(i,e),i.prototype.render=function(t){return o(t,!1)},i.prototype.set_value=function(e,n,r,i){0===n&&(n="0");var a=document.createElement("div");a.innerHTML=o(i,r.id);var s=a.removeChild(a.firstChild);return e.onselect=null,e.parentNode.replaceChild(s,e),t.form_blocks.select.set_value.apply(t,[s,n,r,i])},i}},function(t,e,n){var r=n(3),i=n(43);t.exports=function(t){var e=n(6)(t);function o(){return e.apply(this,arguments)||this}function a(e){return!e||e===t.config.constraint_types.ASAP||e===t.config.constraint_types.ALAP}function s(t,e){for(var n=a(e),r=0;r<t.length;r++)t[r].disabled=n}return r(o,e),o.prototype.render=function(e){var n=(e.height||30)+"px",r="<div class='gantt_cal_ltext gantt_section_"+e.name+"' style='height:"+n+";'>",o=[];for(var a in t.config.constraint_types)o.push({key:t.config.constraint_types[a],label:t.locale.labels[t.config.constraint_types[a]]});return e.options=e.options||o,r+="<span data-constraint-type-select>"+i.getHtmlSelect(e.options,[{key:"data-type",value:"constraint-type"}])+"</span>",(r+="<label data-constraint-time-select>"+(t.locale.labels.constraint_date||"Constraint date")+": "+t.form_blocks.getTimePicker.call(this,e)+"</label>")+"</div>"},o.prototype.set_value=function(e,n,r,i){var o=e.querySelector("[data-constraint-type-select] select"),a=e.querySelectorAll("[data-constraint-time-select] select"),u=i._time_format_order,l=t._resolve_default_mapping(i);o._eventsInitialized||(o.addEventListener("change",(function(t){s(a,t.target.value)})),o._eventsInitialized=!0);var c=r[l.constraint_date]||new Date;t.form_blocks._fill_lightbox_select(a,0,c,u,i);var h=r[l.constraint_type]||t.getConstraintType(r);o.value=h,s(a,h)},o.prototype.get_value=function(e,n,r){var i=e.querySelector("[data-constraint-type-select] select"),o=e.querySelectorAll("[data-constraint-time-select] select"),s=i.value,u=null;return a(s)||(u=t.form_blocks.getTimePickerValue(o,r)),{constraint_type:s,constraint_date:u}},o.prototype.focus=function(e){t._focus(e.querySelector("select"))},o}},function(t,e,n){var r=n(3);t.exports=function(t){var e=n(15)(t);function i(){return e.apply(this,arguments)||this}return r(i,e),i.prototype.render=function(n){var r=t.config.types,i=t.locale.labels,o=[],a=n.filter||function(t,e){return!r.placeholder||e!==r.placeholder};for(var s in r)0==!a(s,r[s])&&o.push({key:r[s],label:i["type_"+s]});n.options=o;var u=n.onchange;return n.onchange=function(){t.changeLightboxType(this.value),this.value===t.config.types.task&&(t._lightbox_new_type="task"),"function"==typeof u&&u.apply(this,arguments)},e.prototype.render.apply(this,arguments)},i}},function(t,e){t.exports=function(t){t._extend_to_optional=function(e){var n=e,r={render:n.render,focus:n.focus,set_value:function(e,i,o,a){var s=t._resolve_default_mapping(a);if(!o[s.start_date]||"start_date"==s.start_date&&this._isAllowedUnscheduledTask(o)){r.disable(e,a);var u={};for(var l in s)u[s[l]]=o[l];return n.set_value.call(t,e,i,u,a)}return r.enable(e,a),n.set_value.call(t,e,i,o,a)},get_value:function(e,r,i){return i.disabled?{start_date:null}:n.get_value.call(t,e,r,i)},update_block:function(e,n){if(t.callEvent("onSectionToggle",[t._lightbox_id,n]),e.style.display=n.disabled?"none":"block",n.button){var r=e.previousSibling.querySelector(".gantt_custom_button_label"),i=t.locale.labels,o=n.disabled?i[n.name+"_enable_button"]:i[n.name+"_disable_button"];r.innerHTML=o}t.resizeLightbox()},disable:function(t,e){e.disabled=!0,r.update_block(t,e)},enable:function(t,e){e.disabled=!1,r.update_block(t,e)},button_click:function(e,n,i,o){if(!1!==t.callEvent("onSectionButton",[t._lightbox_id,i])){var a=t._get_typed_lightbox_config()[e];a.disabled?r.enable(o,a):r.disable(o,a)}}};return r},t.form_blocks.duration_optional=t._extend_to_optional(t.form_blocks.duration),t.form_blocks.time_optional=t._extend_to_optional(t.form_blocks.time)}},function(t,e){t.exports=function(t){var e=new RegExp("<(?:.|\n)*?>","gm"),n=new RegExp(" +","gm");function r(t){return(t+"").replace(e," ").replace(n," ")}var i=new RegExp("'","gm");function o(t){return(t+"").replace(i,"&#39;")}for(var a in t._waiAria={getAttributeString:function(t){var e=[" "];for(var n in t){var i=o(r(t[n]));e.push(n+"='"+i+"'")}return e.push(" "),e.join(" ")},getTimelineCellAttr:function(e){return t._waiAria.getAttributeString({"aria-label":e})},_taskCommonAttr:function(e,n){e.start_date&&e.end_date&&(n.setAttribute("aria-label",r(t.templates.tooltip_text(e.start_date,e.end_date,e))),e.$dataprocessor_class&&n.setAttribute("aria-busy",!0),n.setAttribute("aria-selected",t.isSelectedTask(e.id)?"true":"false"))},setTaskBarAttr:function(e,n){this._taskCommonAttr(e,n),!t.isReadonly(e)&&t.config.drag_move&&(e.id!=t.getState("tasksDnd").drag_id?n.setAttribute("aria-grabbed",!1):n.setAttribute("aria-grabbed",!0))},taskRowAttr:function(e,n){this._taskCommonAttr(e,n),!t.isReadonly(e)&&t.config.order_branch&&n.setAttribute("aria-grabbed",!1),n.setAttribute("role","row"),n.setAttribute("aria-level",e.$level),t.hasChild(e.id)&&n.setAttribute("aria-expanded",e.$open?"true":"false")},linkAttr:function(e,n){var i=t.config.links,o=e.type==i.finish_to_start||e.type==i.start_to_start,a=e.type==i.start_to_start||e.type==i.start_to_finish,s=t.locale.labels.link+" "+t.templates.drag_link(e.source,a,e.target,o);n.setAttribute("aria-label",r(s)),t.isReadonly(e)&&n.setAttribute("aria-readonly",!0)},gridSeparatorAttr:function(t){t.setAttribute("role","separator")},lightboxHiddenAttr:function(t){t.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(t){t.setAttribute("aria-hidden","false")},lightboxAttr:function(t){t.setAttribute("role","dialog"),t.setAttribute("aria-hidden","true"),t.firstChild.setAttribute("role","heading")},lightboxButtonAttrString:function(e){return this.getAttributeString({role:"button","aria-label":t.locale.labels[e],tabindex:"0"})},lightboxHeader:function(t,e){t.setAttribute("aria-label",e)},lightboxSelectAttrString:function(e){var n="";switch(e){case"%Y":n=t.locale.labels.years;break;case"%m":n=t.locale.labels.months;break;case"%d":n=t.locale.labels.days;break;case"%H:%i":n=t.locale.labels.hours+t.locale.labels.minutes}return t._waiAria.getAttributeString({"aria-label":n})},lightboxDurationInputAttrString:function(e){return this.getAttributeString({"aria-label":t.locale.labels.column_duration,"aria-valuemin":"0"})},gridAttrString:function(){return[" role='treegrid'",t.config.multiselect?"aria-multiselectable='true'":"aria-multiselectable='false'"," "].join(" ")},gridScaleRowAttrString:function(){return"role='row'"},gridScaleCellAttrString:function(e,n){var r="";if("add"==e.name)r=this.getAttributeString({role:"button","aria-label":t.locale.labels.new_task});else{var i={role:"columnheader","aria-label":n};t._sort&&t._sort.name==e.name&&("asc"==t._sort.direction?i["aria-sort"]="ascending":i["aria-sort"]="descending"),r=this.getAttributeString(i)}return r},gridDataAttrString:function(){return"role='rowgroup'"},gridCellAttrString:function(e,n,r){var i={role:"gridcell","aria-label":n};return e.editor&&!t.isReadonly(r)||(i["aria-readonly"]=!0),this.getAttributeString(i)},gridAddButtonAttrString:function(e){return this.getAttributeString({role:"button","aria-label":t.locale.labels.new_task})},messageButtonAttrString:function(t){return"tabindex='0' role='button' aria-label='"+t+"'"},messageInfoAttr:function(t){t.setAttribute("role","alert")},messageModalAttr:function(t,e){t.setAttribute("role","dialog"),e&&t.setAttribute("aria-labelledby",e)},quickInfoAttr:function(t){t.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' "},quickInfoHeader:function(t,e){t.setAttribute("aria-label",e)},quickInfoButtonAttrString:function(e){return t._waiAria.getAttributeString({role:"button","aria-label":e,tabindex:"0"})},tooltipAttr:function(t){t.setAttribute("role","tooltip")},tooltipVisibleAttr:function(t){t.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(t){t.setAttribute("aria-hidden","true")}},t._waiAria)t._waiAria[a]=function(e){return function(){return t.config.wai_aria_attributes?e.apply(this,arguments):""}}(t._waiAria[a])}}])},110:function(t,e,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&t(e,i,r)}var a=c(n);h&&(a=a.concat(h(n)));for(var s=u(e),g=u(n),v=0;v<a.length;++v){var _=a[v];if(!o[_]&&(!r||!r[_])&&(!g||!g[_])&&(!s||!s[_])){var m=f(n,_);try{l(e,_,m)}catch(y){}}}}return e}},746:function(t,e){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,_=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case c:case h:case o:case s:case a:case d:return t;default:switch(t=t&&t.$$typeof){case l:case f:case v:case g:case u:return t;default:return e}}case i:return e}}}function k(t){return w(t)===h}e.AsyncMode=c,e.ConcurrentMode=h,e.ContextConsumer=l,e.ContextProvider=u,e.Element=r,e.ForwardRef=f,e.Fragment=o,e.Lazy=v,e.Memo=g,e.Portal=i,e.Profiler=s,e.StrictMode=a,e.Suspense=d,e.isAsyncMode=function(t){return k(t)||w(t)===c},e.isConcurrentMode=k,e.isContextConsumer=function(t){return w(t)===l},e.isContextProvider=function(t){return w(t)===u},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return w(t)===f},e.isFragment=function(t){return w(t)===o},e.isLazy=function(t){return w(t)===v},e.isMemo=function(t){return w(t)===g},e.isPortal=function(t){return w(t)===i},e.isProfiler=function(t){return w(t)===s},e.isStrictMode=function(t){return w(t)===a},e.isSuspense=function(t){return w(t)===d},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===o||t===h||t===s||t===a||t===d||t===p||"object"===typeof t&&null!==t&&(t.$$typeof===v||t.$$typeof===g||t.$$typeof===u||t.$$typeof===l||t.$$typeof===f||t.$$typeof===m||t.$$typeof===y||t.$$typeof===b||t.$$typeof===_)},e.typeOf=w},309:function(t,e,n){"use strict";t.exports=n(746)},888:function(t,e,n){"use strict";var r=n(47);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},7:function(t,e,n){t.exports=n(888)()},47:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(t,e,n){"use strict";var r=n(791),i=n(296);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(t,e){l(t,e),l(t+"Capture",e)}function l(t,e){for(s[t]=e,t=0;t<e.length;t++)a.add(e[t])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function g(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){v[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];v[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){v[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){v[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){v[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){v[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){v[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){v[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){v[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var _=/[\-:]([a-z])/g;function m(t){return t[1].toUpperCase()}function y(t,e,n,r){var i=v.hasOwnProperty(e)?v[e]:null;(null!==i?0!==i.type:r||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!h.call(p,t)||!h.call(d,t)&&(f.test(t)?p[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(_,m);v[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(_,m);v[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(_,m);v[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){v[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){v[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),$=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function M(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=O&&t[O]||t["@@iterator"])?t:null}var L,R=Object.assign;function j(t){if(void 0===L)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var F=!1;function H(t,e){if(!t||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?j(t):""}function V(t){switch(t.tag){case 5:return j(t.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return t=H(t.type,!1);case 11:return t=H(t.type.render,!1);case 1:return t=H(t.type,!0);default:return""}}function z(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case k:return"Portal";case E:return"Profiler";case T:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case I:return(t.displayName||"Context")+".Consumer";case x:return(t._context.displayName||"Context")+".Provider";case C:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case D:return null!==(e=t.displayName||null)?e:z(t.type)||"Memo";case $:e=t._payload,t=t._init;try{return z(t(e))}catch(n){}}return null}function U(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(e);case 8:return e===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function B(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function W(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function q(t){t._valueTracker||(t._valueTracker=function(t){var e=W(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function G(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=W(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function K(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Y(t,e){var n=e.checked;return R({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function J(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=B(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function X(t,e){null!=(e=e.checked)&&y(t,"checked",e,!1)}function Q(t,e){X(t,e);var n=B(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,B(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&K(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+B(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function rt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return R({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(et(n)){if(1<n.length)throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:B(n)}}function ot(t,e){var n=B(e.value),r=B(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var lt,ct,ht=(ct=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((lt=lt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return ct(t,e)}))}:ct);function ft(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||dt.hasOwnProperty(t)&&dt[t]?(""+e).trim():e+"px"}function vt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=gt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(dt).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dt[e]=dt[t]}))}));var _t=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mt(t,e){if(e){if(_t[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function yt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function wt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var kt=null,St=null,Tt=null;function Et(t){if(t=yi(t)){if("function"!==typeof kt)throw Error(o(280));var e=t.stateNode;e&&(e=wi(e),kt(t.stateNode,t.type,e))}}function xt(t){St?Tt?Tt.push(t):Tt=[t]:St=t}function It(){if(St){var t=St,e=Tt;if(Tt=St=null,Et(t),e)for(t=0;t<e.length;t++)Et(e[t])}}function Ct(t,e){return t(e)}function Nt(){}var At=!1;function Dt(t,e,n){if(At)return t(e,n);At=!0;try{return Ct(t,e,n)}finally{At=!1,(null!==St||null!==Tt)&&(Nt(),It())}}function $t(t,e){var n=t.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(o(231,e,typeof n));return n}var Pt=!1;if(c)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){Pt=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch(ct){Pt=!1}function Mt(t,e,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Lt=!1,Rt=null,jt=!1,Ft=null,Ht={onError:function(t){Lt=!0,Rt=t}};function Vt(t,e,n,r,i,o,a,s,u){Lt=!1,Rt=null,Mt.apply(Ht,arguments)}function zt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Ut(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Bt(t){if(zt(t)!==t)throw Error(o(188))}function Wt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=zt(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Bt(i),t;if(a===r)return Bt(i),e;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t))?qt(t):null}function qt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=qt(t);if(null!==e)return e;t=t.sibling}return null}var Gt=i.unstable_scheduleCallback,Kt=i.unstable_cancelCallback,Yt=i.unstable_shouldYield,Jt=i.unstable_requestPaint,Xt=i.unstable_now,Qt=i.unstable_getCurrentPriorityLevel,Zt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,ne=i.unstable_LowPriority,re=i.unstable_IdlePriority,ie=null,oe=null;var ae=Math.clz32?Math.clz32:function(t){return 0===(t>>>=0)?32:31-(se(t)/ue|0)|0},se=Math.log,ue=Math.LN2;var le=64,ce=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fe(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=he(s):0!==(o&=a)&&(r=he(o))}else 0!==(a=n&~i)?r=he(a):0!==o&&(r=he(o));if(0===r)return 0;if(0!==e&&e!==r&&0===(e&i)&&((i=r&-r)>=(o=e&-e)||16===i&&0!==(4194240&o)))return e;if(0!==(4&r)&&(r|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-ae(e)),r|=t[n],e&=~i;return r}function de(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=le;return 0===(4194240&(le<<=1))&&(le=64),t}function ve(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _e(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=n}function me(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ae(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ye=0;function be(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var we,ke,Se,Te,Ee,xe=!1,Ie=[],Ce=null,Ne=null,Ae=null,De=new Map,$e=new Map,Pe=[],Oe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Me(t,e){switch(t){case"focusin":case"focusout":Ce=null;break;case"dragenter":case"dragleave":Ne=null;break;case"mouseover":case"mouseout":Ae=null;break;case"pointerover":case"pointerout":De.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$e.delete(e.pointerId)}}function Le(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==e&&(null!==(e=yi(e))&&ke(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function Re(t){var e=mi(t.target);if(null!==e){var n=zt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Ut(n)))return t.blockedOn=e,void Ee(t.priority,(function(){Se(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function je(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ye(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=yi(n))&&ke(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);bt=r,n.target.dispatchEvent(r),bt=null,e.shift()}return!0}function Fe(t,e,n){je(t)&&n.delete(e)}function He(){xe=!1,null!==Ce&&je(Ce)&&(Ce=null),null!==Ne&&je(Ne)&&(Ne=null),null!==Ae&&je(Ae)&&(Ae=null),De.forEach(Fe),$e.forEach(Fe)}function Ve(t,e){t.blockedOn===e&&(t.blockedOn=null,xe||(xe=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,He)))}function ze(t){function e(e){return Ve(e,t)}if(0<Ie.length){Ve(Ie[0],t);for(var n=1;n<Ie.length;n++){var r=Ie[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Ce&&Ve(Ce,t),null!==Ne&&Ve(Ne,t),null!==Ae&&Ve(Ae,t),De.forEach(e),$e.forEach(e),n=0;n<Pe.length;n++)(r=Pe[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Pe.length&&null===(n=Pe[0]).blockedOn;)Re(n),null===n.blockedOn&&Pe.shift()}var Ue=b.ReactCurrentBatchConfig,Be=!0;function We(t,e,n,r){var i=ye,o=Ue.transition;Ue.transition=null;try{ye=1,Ge(t,e,n,r)}finally{ye=i,Ue.transition=o}}function qe(t,e,n,r){var i=ye,o=Ue.transition;Ue.transition=null;try{ye=4,Ge(t,e,n,r)}finally{ye=i,Ue.transition=o}}function Ge(t,e,n,r){if(Be){var i=Ye(t,e,n,r);if(null===i)Br(t,e,r,Ke,n),Me(t,r);else if(function(t,e,n,r,i){switch(e){case"focusin":return Ce=Le(Ce,t,e,n,r,i),!0;case"dragenter":return Ne=Le(Ne,t,e,n,r,i),!0;case"mouseover":return Ae=Le(Ae,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return De.set(o,Le(De.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,$e.set(o,Le($e.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r))r.stopPropagation();else if(Me(t,r),4&e&&-1<Oe.indexOf(t)){for(;null!==i;){var o=yi(i);if(null!==o&&we(o),null===(o=Ye(t,e,n,r))&&Br(t,e,r,Ke,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Br(t,e,r,null,n)}}var Ke=null;function Ye(t,e,n,r){if(Ke=null,null!==(t=mi(t=wt(r))))if(null===(e=zt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Ut(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ke=t,null}function Je(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qt()){case Zt:return 1;case te:return 4;case ee:case ne:return 16;case re:return 536870912;default:return 16}default:return 16}}var Xe=null,Qe=null,Ze=null;function tn(){if(Ze)return Ze;var t,e,n=Qe,r=n.length,i="value"in Xe?Xe.value:Xe.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Ze=i.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function on(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return R(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var an,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(ln),hn=R({},ln,{view:0,detail:0}),fn=on(hn),dn=R({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==un&&(un&&"mousemove"===t.type?(an=t.screenX-un.screenX,sn=t.screenY-un.screenY):sn=an=0,un=t),an)},movementY:function(t){return"movementY"in t?t.movementY:sn}}),pn=on(dn),gn=on(R({},dn,{dataTransfer:0})),vn=on(R({},hn,{relatedTarget:0})),_n=on(R({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=R({},ln,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yn=on(mn),bn=on(R({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function En(){return Tn}var xn=R({},hn,{key:function(t){if(t.key){var e=wn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?kn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),In=on(xn),Cn=on(R({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(R({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=on(R({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=R({},dn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$n=on(Dn),Pn=[9,13,27,32],On=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Mn,Rn=c&&(!On||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Fn=!1;function Hn(t,e){switch(t){case"keyup":return-1!==Pn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var zn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Un[t.type]:"textarea"===e}function Wn(t,e,n,r){xt(r),0<(e=qr(e,"onChange")).length&&(n=new cn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qn=null,Gn=null;function Kn(t){jr(t,0)}function Yn(t){if(G(bi(t)))return t}function Jn(t,e){if("change"===t)return e}var Xn=!1;if(c){var Qn;if(c){var Zn="oninput"in document;if(!Zn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Zn="function"===typeof tr.oninput}Qn=Zn}else Qn=!1;Xn=Qn&&(!document.documentMode||9<document.documentMode)}function er(){qn&&(qn.detachEvent("onpropertychange",nr),Gn=qn=null)}function nr(t){if("value"===t.propertyName&&Yn(Gn)){var e=[];Wn(e,Gn,t,wt(t)),Dt(Kn,e)}}function rr(t,e,n){"focusin"===t?(er(),Gn=n,(qn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Yn(Gn)}function or(t,e){if("click"===t)return Yn(e)}function ar(t,e){if("input"===t||"change"===t)return Yn(e)}var sr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function ur(t,e){if(sr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(e,i)||!sr(t[i],e[i]))return!1}return!0}function lr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cr(t,e){var n,r=lr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=lr(r)}}function hr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function fr(){for(var t=window,e=K();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=K((t=e.contentWindow).document)}return e}function dr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pr(t){var e=fr(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,_r=null,mr=null,yr=!1;function br(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==vr||vr!==K(r)||("selectionStart"in(r=vr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&ur(mr,r)||(mr=r,0<(r=qr(_r,"onSelect")).length&&(e=new cn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vr)))}function wr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Tr={};function Er(t){if(Sr[t])return Sr[t];if(!kr[t])return t;var e,n=kr[t];for(e in n)if(n.hasOwnProperty(e)&&e in Tr)return Sr[t]=n[e];return t}c&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var xr=Er("animationend"),Ir=Er("animationiteration"),Cr=Er("animationstart"),Nr=Er("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(t,e){Ar.set(t,e),u(e,[t])}for(var Pr=0;Pr<Dr.length;Pr++){var Or=Dr[Pr];$r(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}$r(xr,"onAnimationEnd"),$r(Ir,"onAnimationIteration"),$r(Cr,"onAnimationStart"),$r("dblclick","onDoubleClick"),$r("focusin","onFocus"),$r("focusout","onBlur"),$r(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Rr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,a,s,u,l){if(Vt.apply(this,arguments),Lt){if(!Lt)throw Error(o(198));var c=Rt;Lt=!1,Rt=null,jt||(jt=!0,Ft=c)}}(r,e,void 0,t),t.currentTarget=null}function jr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break t;Rr(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break t;Rr(i,s,l),o=u}}}if(jt)throw t=Ft,jt=!1,Ft=null,t}function Fr(t,e){var n=e[gi];void 0===n&&(n=e[gi]=new Set);var r=t+"__bubble";n.has(r)||(Ur(e,t,2,!1),n.add(r))}function Hr(t,e,n){var r=0;e&&(r|=4),Ur(n,t,r,e)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(t){if(!t[Vr]){t[Vr]=!0,a.forEach((function(e){"selectionchange"!==e&&(Lr.has(e)||Hr(e,!1,t),Hr(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Vr]||(e[Vr]=!0,Hr("selectionchange",!1,e))}}function Ur(t,e,n,r){switch(Je(e)){case 1:var i=We;break;case 4:i=qe;break;default:i=Ge}n=i.bind(null,e,n,t),i=void 0,!Pt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Br(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=mi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue t}s=s.parentNode}}r=r.return}Dt((function(){var r=o,i=wt(n),a=[];t:{var s=Ar.get(t);if(void 0!==s){var u=cn,l=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":u=In;break;case"focusin":l="focus",u=vn;break;case"focusout":l="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case xr:case Ir:case Cr:u=_n;break;case Nr:u=An;break;case"scroll":u=fn;break;case"wheel":u=$n;break;case"copy":case"cut":case"paste":u=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var c=0!==(4&e),h=!c&&"scroll"===t,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var g=(d=p).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==f&&(null!=(g=$t(p,f))&&c.push(Wr(p,g,d)))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||n===bt||!(l=n.relatedTarget||n.fromElement)||!mi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?mi(l):null)&&(l!==(h=zt(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(c=Cn,g="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:bi(u),d=null==l?s:bi(l),(s=new c(g,p+"leave",u,n,i)).target=h,s.relatedTarget=d,g=null,mi(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=d,c.relatedTarget=h,g=c),h=g,u&&l)t:{for(f=l,p=0,d=c=u;d;d=Gr(d))p++;for(d=0,g=f;g;g=Gr(g))d++;for(;0<p-d;)c=Gr(c),p--;for(;0<d-p;)f=Gr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break t;c=Gr(c),f=Gr(f)}c=null}else c=null;null!==u&&Kr(a,s,u,c,!1),null!==l&&null!==h&&Kr(a,h,l,c,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Jn;else if(Bn(s))if(Xn)v=ar;else{v=ir;var _=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=or);switch(v&&(v=v(t,r))?Wn(a,v,n,i):(_&&_(t,s,r),"focusout"===t&&(_=s._wrapperState)&&_.controlled&&"number"===s.type&&tt(s,"number",s.value)),_=r?bi(r):window,t){case"focusin":(Bn(_)||"true"===_.contentEditable)&&(vr=_,_r=r,mr=null);break;case"focusout":mr=_r=vr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":br(a,n,i)}var m;if(On)t:{switch(t){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else zn?Hn(t,n)&&(y="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(y="onCompositionStart");y&&(Rn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==y?"onCompositionEnd"===y&&zn&&(m=tn()):(Qe="value"in(Xe=i)?Xe.value:Xe.textContent,zn=!0)),0<(_=qr(r,y)).length&&(y=new bn(y,t,null,n,i),a.push({event:y,listeners:_}),m?y.data=m:null!==(m=Vn(n))&&(y.data=m))),(m=Ln?function(t,e){switch(t){case"compositionend":return Vn(e);case"keypress":return 32!==e.which?null:(Fn=!0,jn);case"textInput":return(t=e.data)===jn&&Fn?null:t;default:return null}}(t,n):function(t,e){if(zn)return"compositionend"===t||!On&&Hn(t,e)?(t=tn(),Ze=Qe=Xe=null,zn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}jr(a,e)}))}function Wr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=$t(t,n))&&r.unshift(Wr(t,o,i)),null!=(o=$t(t,e))&&r.push(Wr(t,o,i))),t=t.return}return r}function Gr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Kr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=$t(n,o))&&a.unshift(Wr(n,u,s)):i||null!=(u=$t(n,o))&&a.push(Wr(n,u,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(t){return("string"===typeof t?t:""+t).replace(Yr,"\n").replace(Jr,"")}function Qr(t,e,n){if(e=Xr(e),Xr(t)!==e&&n)throw Error(o(425))}function Zr(){}var ti=null,ei=null;function ni(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(t){return oi.resolve(null).then(t).catch(si)}:ri;function si(t){setTimeout((function(){throw t}))}function ui(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return t.removeChild(i),void ze(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);ze(e)}function li(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ci(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,vi="__reactListeners$"+hi,_i="__reactHandles$"+hi;function mi(t){var e=t[fi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pi]||n[fi]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ci(t);null!==t;){if(n=t[fi])return n;t=ci(t)}return e}n=(t=n).parentNode}return null}function yi(t){return!(t=t[fi]||t[pi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function bi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function wi(t){return t[di]||null}var ki=[],Si=-1;function Ti(t){return{current:t}}function Ei(t){0>Si||(t.current=ki[Si],ki[Si]=null,Si--)}function xi(t,e){Si++,ki[Si]=t.current,t.current=e}var Ii={},Ci=Ti(Ii),Ni=Ti(!1),Ai=Ii;function Di(t,e){var n=t.type.contextTypes;if(!n)return Ii;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function $i(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Pi(){Ei(Ni),Ei(Ci)}function Oi(t,e,n){if(Ci.current!==Ii)throw Error(o(168));xi(Ci,e),xi(Ni,n)}function Mi(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,U(t)||"Unknown",i));return R({},n,r)}function Li(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ii,Ai=Ci.current,xi(Ci,t),xi(Ni,Ni.current),!0}function Ri(t,e,n){var r=t.stateNode;if(!r)throw Error(o(169));n?(t=Mi(t,e,Ai),r.__reactInternalMemoizedMergedChildContext=t,Ei(Ni),Ei(Ci),xi(Ci,t)):Ei(Ni),xi(Ni,n)}var ji=null,Fi=!1,Hi=!1;function Vi(t){null===ji?ji=[t]:ji.push(t)}function zi(){if(!Hi&&null!==ji){Hi=!0;var t=0,e=ye;try{var n=ji;for(ye=1;t<n.length;t++){var r=n[t];do{r=r(!0)}while(null!==r)}ji=null,Fi=!1}catch(i){throw null!==ji&&(ji=ji.slice(t+1)),Gt(Zt,zi),i}finally{ye=e,Hi=!1}}return null}var Ui=[],Bi=0,Wi=null,qi=0,Gi=[],Ki=0,Yi=null,Ji=1,Xi="";function Qi(t,e){Ui[Bi++]=qi,Ui[Bi++]=Wi,Wi=t,qi=e}function Zi(t,e,n){Gi[Ki++]=Ji,Gi[Ki++]=Xi,Gi[Ki++]=Yi,Yi=t;var r=Ji;t=Xi;var i=32-ae(r)-1;r&=~(1<<i),n+=1;var o=32-ae(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ji=1<<32-ae(e)+i|n<<i|r,Xi=o+t}else Ji=1<<o|n<<i|r,Xi=t}function to(t){null!==t.return&&(Qi(t,1),Zi(t,1,0))}function eo(t){for(;t===Wi;)Wi=Ui[--Bi],Ui[Bi]=null,qi=Ui[--Bi],Ui[Bi]=null;for(;t===Yi;)Yi=Gi[--Ki],Gi[Ki]=null,Xi=Gi[--Ki],Gi[Ki]=null,Ji=Gi[--Ki],Gi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function ao(t,e){var n=Dl(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function so(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,no=t,ro=li(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,no=t,ro=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Yi?{id:Ji,overflow:Xi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Dl(18,null,null,0)).stateNode=e,n.return=t,t.child=n,no=t,ro=null,!0);default:return!1}}function uo(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function lo(t){if(io){var e=ro;if(e){var n=e;if(!so(t,e)){if(uo(t))throw Error(o(418));e=li(n.nextSibling);var r=no;e&&so(t,e)?ao(r,n):(t.flags=-4097&t.flags|2,io=!1,no=t)}}else{if(uo(t))throw Error(o(418));t.flags=-4097&t.flags|2,io=!1,no=t}}}function co(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;no=t}function ho(t){if(t!==no)return!1;if(!io)return co(t),io=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ni(t.type,t.memoizedProps)),e&&(e=ro)){if(uo(t))throw fo(),Error(o(418));for(;e;)ao(t,e),e=li(e.nextSibling)}if(co(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ro=li(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ro=null}}else ro=no?li(t.stateNode.nextSibling):null;return!0}function fo(){for(var t=ro;t;)t=li(t.nextSibling)}function po(){ro=no=null,io=!1}function go(t){null===oo?oo=[t]:oo.push(t)}var vo=b.ReactCurrentBatchConfig;function _o(t,e){if(t&&t.defaultProps){for(var n in e=R({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var mo=Ti(null),yo=null,bo=null,wo=null;function ko(){wo=bo=yo=null}function So(t){var e=mo.current;Ei(mo),t._currentValue=e}function To(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Eo(t,e){yo=t,wo=bo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(bs=!0),t.firstContext=null)}function xo(t){var e=t._currentValue;if(wo!==t)if(t={context:t,memoizedValue:e,next:null},null===bo){if(null===yo)throw Error(o(308));bo=t,yo.dependencies={lanes:0,firstContext:t}}else bo=bo.next=t;return e}var Io=null;function Co(t){null===Io?Io=[t]:Io.push(t)}function No(t,e,n,r){var i=e.interleaved;return null===i?(n.next=n,Co(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ao(t,r)}function Ao(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Do=!1;function $o(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Po(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Oo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mo(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ao(t,n)}return null===(i=r.interleaved)?(e.next=e,Co(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ao(t,n)}function Lo(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,me(t,n)}}function Ro(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jo(t,e,n,r){var i=t.updateQueue;Do=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===a?o=l:a.next=l,a=u;var c=t.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==o){var h=i.baseState;for(a=0,c=l=u=null,s=o;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var p=t,g=s;switch(f=e,d=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(d,h,f);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(d,h,f):p)||void 0===f)break t;h=R({},h,f);break t;case 2:Do=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=h):c=c.next=d,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(e=i.shared.interleaved)){i=e;do{a|=i.lane,i=i.next}while(i!==e)}else null===o&&(i.shared.lanes=0);Lu|=a,t.lanes=a,t.memoizedState=h}}function Fo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ho=(new r.Component).refs;function Vo(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:R({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var zo={isMounted:function(t){return!!(t=t._reactInternals)&&zt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tl(),i=el(t),o=Oo(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Mo(t,o,i))&&(nl(e,t,i,r),Lo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tl(),i=el(t),o=Oo(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Mo(t,o,i))&&(nl(e,t,i,r),Lo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tl(),r=el(t),i=Oo(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=Mo(t,i,r))&&(nl(e,t,r,n),Lo(e,t,r))}};function Uo(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Bo(t,e,n){var r=!1,i=Ii,o=e.contextType;return"object"===typeof o&&null!==o?o=xo(o):(i=$i(e)?Ai:Ci.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?Di(t,i):Ii),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=zo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Wo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zo.enqueueReplaceState(e,e.state,null)}function qo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Ho,$o(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=xo(o):(o=$i(e)?Ai:Ci.current,i.context=Di(t,o)),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(Vo(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&zo.enqueueReplaceState(i,i.state,null),jo(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308)}function Go(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,t));var i=r,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=i.refs;e===Ho&&(e=i.refs={}),null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function Ko(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yo(t){return(0,t._init)(t._payload)}function Jo(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Pl(t,e)).index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=2,n):r:(e.flags|=2,n):(e.flags|=1048576,n)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Rl(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){var o=n.type;return o===S?h(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===$&&Yo(o)===e.type)?((r=i(e,n.props)).ref=Go(t,e,n),r.return=t,r):((r=Ol(n.type,n.key,n.props,null,t.mode,r)).ref=Go(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=jl(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Ml(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Rl(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case w:return(n=Ol(e.type,e.key,e.props,null,t.mode,n)).ref=Go(t,null,e),n.return=t,n;case k:return(e=jl(e,t.mode,n)).return=t,e;case $:return f(t,(0,e._init)(e._payload),n)}if(et(e)||M(e))return(e=Ml(e,t.mode,n,null)).return=t,e;Ko(t,e)}return null}function d(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(t,e,n,r):null;case k:return n.key===i?c(t,e,n,r):null;case $:return d(t,e,(i=n._init)(n._payload),r)}if(et(n)||M(n))return null!==i?null:h(t,e,n,r,null);Ko(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i);case k:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i);case $:return p(t,e,n,(0,r._init)(r._payload),i)}if(et(r)||M(r))return h(e,t=t.get(n)||null,r,i,null);Ko(e,r)}return null}function g(i,o,s,u){for(var l=null,c=null,h=o,g=o=0,v=null;null!==h&&g<s.length;g++){h.index>g?(v=h,h=null):v=h.sibling;var _=d(i,h,s[g],u);if(null===_){null===h&&(h=v);break}t&&h&&null===_.alternate&&e(i,h),o=a(_,o,g),null===c?l=_:c.sibling=_,c=_,h=v}if(g===s.length)return n(i,h),io&&Qi(i,g),l;if(null===h){for(;g<s.length;g++)null!==(h=f(i,s[g],u))&&(o=a(h,o,g),null===c?l=h:c.sibling=h,c=h);return io&&Qi(i,g),l}for(h=r(i,h);g<s.length;g++)null!==(v=p(h,i,g,s[g],u))&&(t&&null!==v.alternate&&h.delete(null===v.key?g:v.key),o=a(v,o,g),null===c?l=v:c.sibling=v,c=v);return t&&h.forEach((function(t){return e(i,t)})),io&&Qi(i,g),l}function v(i,s,u,l){var c=M(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var h=c=null,g=s,v=s=0,_=null,m=u.next();null!==g&&!m.done;v++,m=u.next()){g.index>v?(_=g,g=null):_=g.sibling;var y=d(i,g,m.value,l);if(null===y){null===g&&(g=_);break}t&&g&&null===y.alternate&&e(i,g),s=a(y,s,v),null===h?c=y:h.sibling=y,h=y,g=_}if(m.done)return n(i,g),io&&Qi(i,v),c;if(null===g){for(;!m.done;v++,m=u.next())null!==(m=f(i,m.value,l))&&(s=a(m,s,v),null===h?c=m:h.sibling=m,h=m);return io&&Qi(i,v),c}for(g=r(i,g);!m.done;v++,m=u.next())null!==(m=p(g,i,v,m.value,l))&&(t&&null!==m.alternate&&g.delete(null===m.key?v:m.key),s=a(m,s,v),null===h?c=m:h.sibling=m,h=m);return t&&g.forEach((function(t){return e(i,t)})),io&&Qi(i,v),c}return function t(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:t:{for(var l=a.key,c=o;null!==c;){if(c.key===l){if((l=a.type)===S){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break t}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===$&&Yo(l)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=Go(r,c,a),o.return=r,r=o;break t}n(r,c);break}e(r,c),c=c.sibling}a.type===S?((o=Ml(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Ol(a.type,a.key,a.props,null,r.mode,u)).ref=Go(r,o,a),u.return=r,r=u)}return s(r);case k:t:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break t}n(r,o);break}e(r,o),o=o.sibling}(o=jl(a,r.mode,u)).return=r,r=o}return s(r);case $:return t(r,o,(c=a._init)(a._payload),u)}if(et(a))return g(r,o,a,u);if(M(a))return v(r,o,a,u);Ko(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Rl(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Xo=Jo(!0),Qo=Jo(!1),Zo={},ta=Ti(Zo),ea=Ti(Zo),na=Ti(Zo);function ra(t){if(t===Zo)throw Error(o(174));return t}function ia(t,e){switch(xi(na,e),xi(ea,t),xi(ta,Zo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ut(null,"");break;default:e=ut(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Ei(ta),xi(ta,e)}function oa(){Ei(ta),Ei(ea),Ei(na)}function aa(t){ra(na.current);var e=ra(ta.current),n=ut(e,t.type);e!==n&&(xi(ea,t),xi(ta,n))}function sa(t){ea.current===t&&(Ei(ta),Ei(ea))}var ua=Ti(0);function la(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ca=[];function ha(){for(var t=0;t<ca.length;t++)ca[t]._workInProgressVersionPrimary=null;ca.length=0}var fa=b.ReactCurrentDispatcher,da=b.ReactCurrentBatchConfig,pa=0,ga=null,va=null,_a=null,ma=!1,ya=!1,ba=0,wa=0;function ka(){throw Error(o(321))}function Sa(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function Ta(t,e,n,r,i,a){if(pa=a,ga=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fa.current=null===t||null===t.memoizedState?ss:us,t=n(r,i),ya){a=0;do{if(ya=!1,ba=0,25<=a)throw Error(o(301));a+=1,_a=va=null,e.updateQueue=null,fa.current=ls,t=n(r,i)}while(ya)}if(fa.current=as,e=null!==va&&null!==va.next,pa=0,_a=va=ga=null,ma=!1,e)throw Error(o(300));return t}function Ea(){var t=0!==ba;return ba=0,t}function xa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===_a?ga.memoizedState=_a=t:_a=_a.next=t,_a}function Ia(){if(null===va){var t=ga.alternate;t=null!==t?t.memoizedState:null}else t=va.next;var e=null===_a?ga.memoizedState:_a.next;if(null!==e)_a=e,va=t;else{if(null===t)throw Error(o(310));t={memoizedState:(va=t).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===_a?ga.memoizedState=_a=t:_a=_a.next=t}return _a}function Ca(t,e){return"function"===typeof e?e(t):e}function Na(t){var e=Ia(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=va,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,l=null,c=a;do{var h=c.lane;if((pa&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,ga.lanes|=h,Lu|=h}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,sr(r,e.memoizedState)||(bs=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(null!==(t=n.interleaved)){i=t;do{a=i.lane,ga.lanes|=a,Lu|=a,i=i.next}while(i!==t)}else null===i&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Aa(t){var e=Ia(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=t(a,s.action),s=s.next}while(s!==i);sr(a,e.memoizedState)||(bs=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Da(){}function $a(t,e){var n=ga,r=Ia(),i=e(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Ba(Ma.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||null!==_a&&1&_a.memoizedState.tag){if(n.flags|=2048,Fa(9,Oa.bind(null,n,r,i,e),void 0,null),null===Nu)throw Error(o(349));0!==(30&pa)||Pa(n,e,i)}return i}function Pa(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=ga.updateQueue)?(e={lastEffect:null,stores:null},ga.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Oa(t,e,n,r){e.value=n,e.getSnapshot=r,La(e)&&Ra(t)}function Ma(t,e,n){return n((function(){La(e)&&Ra(t)}))}function La(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch(r){return!0}}function Ra(t){var e=Ao(t,1);null!==e&&nl(e,t,1,-1)}function ja(t){var e=xa();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:t},e.queue=t,t=t.dispatch=ns.bind(null,ga,t),[e.memoizedState,t]}function Fa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=ga.updateQueue)?(e={lastEffect:null,stores:null},ga.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Ha(){return Ia().memoizedState}function Va(t,e,n,r){var i=xa();ga.flags|=t,i.memoizedState=Fa(1|e,n,void 0,void 0===r?null:r)}function za(t,e,n,r){var i=Ia();r=void 0===r?null:r;var o=void 0;if(null!==va){var a=va.memoizedState;if(o=a.destroy,null!==r&&Sa(r,a.deps))return void(i.memoizedState=Fa(e,n,o,r))}ga.flags|=t,i.memoizedState=Fa(1|e,n,o,r)}function Ua(t,e){return Va(8390656,8,t,e)}function Ba(t,e){return za(2048,8,t,e)}function Wa(t,e){return za(4,2,t,e)}function qa(t,e){return za(4,4,t,e)}function Ga(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ka(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,za(4,4,Ga.bind(null,e,t),n)}function Ya(){}function Ja(t,e){var n=Ia();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Sa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Xa(t,e){var n=Ia();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Sa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Qa(t,e,n){return 0===(21&pa)?(t.baseState&&(t.baseState=!1,bs=!0),t.memoizedState=n):(sr(n,e)||(n=ge(),ga.lanes|=n,Lu|=n,t.baseState=!0),e)}function Za(t,e){var n=ye;ye=0!==n&&4>n?n:4,t(!0);var r=da.transition;da.transition={};try{t(!1),e()}finally{ye=n,da.transition=r}}function ts(){return Ia().memoizedState}function es(t,e,n){var r=el(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(t))is(e,n);else if(null!==(n=No(t,e,n,r))){nl(n,t,r,tl()),os(n,e,r)}}function ns(t,e,n){var r=el(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(t))is(e,i);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=e.interleaved;return null===u?(i.next=i,Co(e)):(i.next=u.next,u.next=i),void(e.interleaved=i)}}catch(l){}null!==(n=No(t,e,i,r))&&(nl(n,t,r,i=tl()),os(n,e,r))}}function rs(t){var e=t.alternate;return t===ga||null!==e&&e===ga}function is(t,e){ya=ma=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function os(t,e,n){if(0!==(4194240&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,me(t,n)}}var as={readContext:xo,useCallback:ka,useContext:ka,useEffect:ka,useImperativeHandle:ka,useInsertionEffect:ka,useLayoutEffect:ka,useMemo:ka,useReducer:ka,useRef:ka,useState:ka,useDebugValue:ka,useDeferredValue:ka,useTransition:ka,useMutableSource:ka,useSyncExternalStore:ka,useId:ka,unstable_isNewReconciler:!1},ss={readContext:xo,useCallback:function(t,e){return xa().memoizedState=[t,void 0===e?null:e],t},useContext:xo,useEffect:Ua,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Va(4194308,4,Ga.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Va(4194308,4,t,e)},useInsertionEffect:function(t,e){return Va(4,2,t,e)},useMemo:function(t,e){var n=xa();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xa();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=es.bind(null,ga,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},xa().memoizedState=t},useState:ja,useDebugValue:Ya,useDeferredValue:function(t){return xa().memoizedState=t},useTransition:function(){var t=ja(!1),e=t[0];return t=Za.bind(null,t[1]),xa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ga,i=xa();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=e(),null===Nu)throw Error(o(349));0!==(30&pa)||Pa(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,Ua(Ma.bind(null,r,a,t),[t]),r.flags|=2048,Fa(9,Oa.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=xa(),e=Nu.identifierPrefix;if(io){var n=Xi;e=":"+e+"R"+(n=(Ji&~(1<<32-ae(Ji)-1)).toString(32)+n),0<(n=ba++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=wa++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},us={readContext:xo,useCallback:Ja,useContext:xo,useEffect:Ba,useImperativeHandle:Ka,useInsertionEffect:Wa,useLayoutEffect:qa,useMemo:Xa,useReducer:Na,useRef:Ha,useState:function(){return Na(Ca)},useDebugValue:Ya,useDeferredValue:function(t){return Qa(Ia(),va.memoizedState,t)},useTransition:function(){return[Na(Ca)[0],Ia().memoizedState]},useMutableSource:Da,useSyncExternalStore:$a,useId:ts,unstable_isNewReconciler:!1},ls={readContext:xo,useCallback:Ja,useContext:xo,useEffect:Ba,useImperativeHandle:Ka,useInsertionEffect:Wa,useLayoutEffect:qa,useMemo:Xa,useReducer:Aa,useRef:Ha,useState:function(){return Aa(Ca)},useDebugValue:Ya,useDeferredValue:function(t){var e=Ia();return null===va?e.memoizedState=t:Qa(e,va.memoizedState,t)},useTransition:function(){return[Aa(Ca)[0],Ia().memoizedState]},useMutableSource:Da,useSyncExternalStore:$a,useId:ts,unstable_isNewReconciler:!1};function cs(t,e){try{var n="",r=e;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i,digest:null}}function hs(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function fs(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(t,e,n){(n=Oo(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bu||(Bu=!0,Wu=r),fs(0,e)},n}function gs(t,e,n){(n=Oo(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fs(0,e),"function"!==typeof r&&(null===qu?qu=new Set([this]):qu.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function vs(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new ds;var i=new Set;r.set(e,i)}else void 0===(i=r.get(e))&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=El.bind(null,t,e,n),e.then(t,t))}function _s(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ms(t,e,n,r,i){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Oo(-1,1)).tag=2,Mo(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var ys=b.ReactCurrentOwner,bs=!1;function ws(t,e,n,r){e.child=null===t?Qo(e,null,n,r):Xo(e,t.child,n,r)}function ks(t,e,n,r,i){n=n.render;var o=e.ref;return Eo(e,i),r=Ta(t,e,n,r,o,i),n=Ea(),null===t||bs?(io&&n&&to(e),e.flags|=1,ws(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bs(t,e,i))}function Ss(t,e,n,r,i){if(null===t){var o=n.type;return"function"!==typeof o||$l(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Ol(n.type,null,r,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Ts(t,e,o,r,i))}if(o=t.child,0===(t.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&t.ref===e.ref)return Bs(t,e,i)}return e.flags|=1,(t=Pl(o,r)).ref=e.ref,t.return=e,e.child=t}function Ts(t,e,n,r,i){if(null!==t){var o=t.memoizedProps;if(ur(o,r)&&t.ref===e.ref){if(bs=!1,e.pendingProps=r=o,0===(t.lanes&i))return e.lanes=t.lanes,Bs(t,e,i);0!==(131072&t.flags)&&(bs=!0)}}return Is(t,e,n,r,i)}function Es(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Pu,$u),$u|=n;else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xi(Pu,$u),$u|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,xi(Pu,$u),$u|=r}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,xi(Pu,$u),$u|=r;return ws(t,e,i,n),e.child}function xs(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Is(t,e,n,r,i){var o=$i(n)?Ai:Ci.current;return o=Di(e,o),Eo(e,i),n=Ta(t,e,n,r,o,i),r=Ea(),null===t||bs?(io&&r&&to(e),e.flags|=1,ws(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bs(t,e,i))}function Cs(t,e,n,r,i){if($i(n)){var o=!0;Li(e)}else o=!1;if(Eo(e,i),null===e.stateNode)Us(t,e),Bo(e,n,r),qo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=xo(l):l=Di(e,l=$i(n)?Ai:Ci.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&Wo(e,a,r,l),Do=!1;var f=e.memoizedState;a.state=f,jo(e,r,a,i),u=e.memoizedState,s!==r||f!==u||Ni.current||Do?("function"===typeof c&&(Vo(e,n,c,r),u=e.memoizedState),(s=Do||Uo(e,n,s,r,f,u,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Po(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:_o(e.type,s),a.props=l,h=e.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=xo(u):u=Di(e,u=$i(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&Wo(e,a,r,u),Do=!1,f=e.memoizedState,a.state=f,jo(e,r,a,i);var p=e.memoizedState;s!==h||f!==p||Ni.current||Do?("function"===typeof d&&(Vo(e,n,d,r),p=e.memoizedState),(l=Do||Uo(e,n,l,r,f,p,u)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ns(t,e,n,r,o,i)}function Ns(t,e,n,r,i,o){xs(t,e);var a=0!==(128&e.flags);if(!r&&!a)return i&&Ri(e,n,!1),Bs(t,e,o);r=e.stateNode,ys.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=Xo(e,t.child,null,o),e.child=Xo(e,null,s,o)):ws(t,e,s,o),e.memoizedState=r.state,i&&Ri(e,n,!0),e.child}function As(t){var e=t.stateNode;e.pendingContext?Oi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Oi(0,e.context,!1),ia(t,e.containerInfo)}function Ds(t,e,n,r,i){return po(),go(i),e.flags|=256,ws(t,e,n,r),e.child}var $s,Ps,Os,Ms={dehydrated:null,treeContext:null,retryLane:0};function Ls(t){return{baseLanes:t,cachePool:null,transitions:null}}function Rs(t,e,n){var r,i=e.pendingProps,a=ua.current,s=!1,u=0!==(128&e.flags);if((r=u)||(r=(null===t||null!==t.memoizedState)&&0!==(2&a)),r?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),xi(ua,1&a),null===t)return lo(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(u=i.children,t=i.fallback,s?(i=e.mode,s=e.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Ll(u,i,0,null),t=Ml(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ls(n),e.memoizedState=Ms,t):js(e,u));if(null!==(a=t.memoizedState)&&null!==(r=a.dehydrated))return function(t,e,n,r,i,a,s){if(n)return 256&e.flags?(e.flags&=-257,Fs(t,e,s,r=hs(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Ll({mode:"visible",children:r.children},i,0,null),(a=Ml(a,i,s,null)).flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,0!==(1&e.mode)&&Xo(e,t.child,null,s),e.child.memoizedState=Ls(s),e.memoizedState=Ms,a);if(0===(1&e.mode))return Fs(t,e,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Fs(t,e,s,r=hs(a=Error(o(419)),r,void 0))}if(u=0!==(s&t.childLanes),bs||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ao(t,i),nl(r,t,i,-1))}return gl(),Fs(t,e,s,r=hs(Error(o(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=Il.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ro=li(i.nextSibling),no=e,io=!0,oo=null,null!==t&&(Gi[Ki++]=Ji,Gi[Ki++]=Xi,Gi[Ki++]=Yi,Ji=t.id,Xi=t.overflow,Yi=e),(e=js(e,r.children)).flags|=4096,e)}(t,e,u,i,r,a,n);if(s){s=i.fallback,u=e.mode,r=(a=t.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&e.child!==a?((i=e.child).childLanes=0,i.pendingProps=l,e.deletions=null):(i=Pl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Pl(r,s):(s=Ml(s,u,n,null)).flags|=2,s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,u=null===(u=t.child.memoizedState)?Ls(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=t.childLanes&~n,e.memoizedState=Ms,i}return t=(s=t.child).sibling,i=Pl(s,{mode:"visible",children:i.children}),0===(1&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function js(t,e){return(e=Ll({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Fs(t,e,n,r){return null!==r&&go(r),Xo(e,t.child,null,n),(t=js(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Hs(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),To(t.return,e,n)}function Vs(t,e,n,r,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function zs(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ws(t,e,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Hs(t,n,e);else if(19===t.tag)Hs(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xi(ua,r),0===(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===la(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vs(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===la(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vs(e,!0,n,null,o);break;case"together":Vs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Us(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bs(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Lu|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Pl(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Pl(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ws(t,e){if(!io)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qs(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Gs(t,e,n){var r=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(e),null;case 1:case 17:return $i(e.type)&&Pi(),qs(e),null;case 3:return r=e.stateNode,oa(),Ei(Ni),Ei(Ci),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(ho(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==oo&&(al(oo),oo=null))),qs(e),null;case 5:sa(e);var i=ra(na.current);if(n=e.type,null!==t&&null!=e.stateNode)Ps(t,e,n,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(null===e.stateNode)throw Error(o(166));return qs(e),null}if(t=ra(ta.current),ho(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[fi]=e,r[di]=a,t=0!==(1&e.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Fr(Mr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":J(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":it(r,a),Fr("invalid",r)}for(var u in mt(n,a),i=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,l,t),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,l,t),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":q(r),Z(r,a,!0);break;case"textarea":q(r),at(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,e.updateQueue=r,null!==r&&(e.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),"select"===n&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[fi]=e,t[di]=r,$s(t,e),e.stateNode=t;t:{switch(u=yt(n,r),n){case"dialog":Fr("cancel",t),Fr("close",t),i=r;break;case"iframe":case"object":case"embed":Fr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Fr(Mr[i],t);i=r;break;case"source":Fr("error",t),i=r;break;case"img":case"image":case"link":Fr("error",t),Fr("load",t),i=r;break;case"details":Fr("toggle",t),i=r;break;case"input":J(t,r),i=Y(t,r),Fr("invalid",t);break;case"option":default:i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=R({},r,{value:void 0}),Fr("invalid",t);break;case"textarea":it(t,r),i=rt(t,r),Fr("invalid",t)}for(a in mt(n,i),l=i)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?vt(t,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&ht(t,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&ft(t,c):"number"===typeof c&&ft(t,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Fr("scroll",t):null!=c&&y(t,a,c,u))}switch(n){case"input":q(t),Z(t,r,!1);break;case"textarea":q(t),at(t);break;case"option":null!=r.value&&t.setAttribute("value",""+B(r.value));break;case"select":t.multiple=!!r.multiple,null!=(a=r.value)?nt(t,!!r.multiple,a,!1):null!=r.defaultValue&&nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(t.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return qs(e),null;case 6:if(t&&null!=e.stateNode)Os(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ta.current),ho(e)){if(r=e.stateNode,n=e.memoizedProps,r[fi]=e,(a=r.nodeValue!==n)&&null!==(t=no))switch(t.tag){case 3:Qr(r.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&t.mode))}a&&(e.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=e,e.stateNode=r}return qs(e),null;case 13:if(Ei(ua),r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&e.mode)&&0===(128&e.flags))fo(),po(),e.flags|=98560,a=!1;else if(a=ho(e),null!==r&&null!==r.dehydrated){if(null===t){if(!a)throw Error(o(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=e}else po(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;qs(e),a=!1}else null!==oo&&(al(oo),oo=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((r=null!==r)!==(null!==t&&null!==t.memoizedState)&&r&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ua.current)?0===Ou&&(Ou=3):gl())),null!==e.updateQueue&&(e.flags|=4),qs(e),null);case 4:return oa(),null===t&&zr(e.stateNode.containerInfo),qs(e),null;case 10:return So(e.type._context),qs(e),null;case 19:if(Ei(ua),null===(a=e.memoizedState))return qs(e),null;if(r=0!==(128&e.flags),null===(u=a.rendering))if(r)Ws(a,!1);else{if(0!==Ou||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(u=la(t))){for(e.flags|=128,Ws(a,!1),null!==(r=u.updateQueue)&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;null!==n;)t=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xi(ua,1&ua.current|2),e.child}t=t.sibling}null!==a.tail&&Xt()>zu&&(e.flags|=128,r=!0,Ws(a,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=la(u))){if(e.flags|=128,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return qs(e),null}else 2*Xt()-a.renderingStartTime>zu&&1073741824!==n&&(e.flags|=128,r=!0,Ws(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(null!==(n=a.last)?n.sibling=u:e.child=u,a.last=u)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Xt(),e.sibling=null,n=ua.current,xi(ua,r?1&n|2:1&n),e):(qs(e),null);case 22:case 23:return hl(),r=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==r&&(e.flags|=8192),r&&0!==(1&e.mode)?0!==(1073741824&$u)&&(qs(e),6&e.subtreeFlags&&(e.flags|=8192)):qs(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function Ks(t,e){switch(eo(e),e.tag){case 1:return $i(e.type)&&Pi(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return oa(),Ei(Ni),Ei(Ci),ha(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return sa(e),null;case 13:if(Ei(ua),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));po()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Ei(ua),null;case 4:return oa(),null;case 10:return So(e.type._context),null;case 22:case 23:return hl(),null;default:return null}}$s=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ra(ta.current);var o,a=null;switch(n){case"input":i=Y(t,i),r=Y(t,r),a=[];break;case"select":i=R({},i,{value:void 0}),r=R({},r,{value:void 0}),a=[];break;case"textarea":i=rt(t,i),r=rt(t,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(t.onclick=Zr)}for(c in mt(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Fr("scroll",t),a||u===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}},Os=function(t,e,n,r){n!==r&&(e.flags|=4)};var Ys=!1,Js=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Zs(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tl(t,e,r)}else n.current=null}function tu(t,e,n){try{n()}catch(r){Tl(t,e,r)}}var eu=!1;function nu(t,e,n){var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,void 0!==o&&tu(e,n,o)}i=i.next}while(i!==r)}}function ru(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function iu(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function ou(t){var e=t.alternate;null!==e&&(t.alternate=null,ou(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[fi],delete e[di],delete e[gi],delete e[vi],delete e[_i])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function au(t){return 5===t.tag||3===t.tag||4===t.tag}function su(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||au(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function uu(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Zr));else if(4!==r&&null!==(t=t.child))for(uu(t,e,n),t=t.sibling;null!==t;)uu(t,e,n),t=t.sibling}function lu(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(lu(t,e,n),t=t.sibling;null!==t;)lu(t,e,n),t=t.sibling}var cu=null,hu=!1;function fu(t,e,n){for(n=n.child;null!==n;)du(t,e,n),n=n.sibling}function du(t,e,n){if(oe&&"function"===typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(ie,n)}catch(s){}switch(n.tag){case 5:Js||Zs(n,e);case 6:var r=cu,i=hu;cu=null,fu(t,e,n),hu=i,null!==(cu=r)&&(hu?(t=cu,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(hu?(t=cu,n=n.stateNode,8===t.nodeType?ui(t.parentNode,n):1===t.nodeType&&ui(t,n),ze(t)):ui(cu,n.stateNode));break;case 4:r=cu,i=hu,cu=n.stateNode.containerInfo,hu=!0,fu(t,e,n),cu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tu(n,e,a),i=i.next}while(i!==r)}fu(t,e,n);break;case 1:if(!Js&&(Zs(n,e),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tl(n,e,s)}fu(t,e,n);break;case 21:fu(t,e,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,fu(t,e,n),Js=r):fu(t,e,n);break;default:fu(t,e,n)}}function pu(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Xs),e.forEach((function(e){var r=Cl.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function gu(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,u=s;t:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,hu=!1;break t;case 3:case 4:cu=u.stateNode.containerInfo,hu=!0;break t}u=u.return}if(null===cu)throw Error(o(160));du(a,s,i),cu=null,hu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Tl(i,e,c)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)vu(e,t),e=e.sibling}function vu(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gu(e,t),_u(t),4&r){try{nu(3,t,t.return),ru(3,t)}catch(v){Tl(t,t.return,v)}try{nu(5,t,t.return)}catch(v){Tl(t,t.return,v)}}break;case 1:gu(e,t),_u(t),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(gu(e,t),_u(t),512&r&&null!==n&&Zs(n,n.return),32&t.flags){var i=t.stateNode;try{ft(i,"")}catch(v){Tl(t,t.return,v)}}if(4&r&&null!=(i=t.stateNode)){var a=t.memoizedProps,s=null!==n?n.memoizedProps:a,u=t.type,l=t.updateQueue;if(t.updateQueue=null,null!==l)try{"input"===u&&"radio"===a.type&&null!=a.name&&X(i,a),yt(u,s);var c=yt(u,a);for(s=0;s<l.length;s+=2){var h=l[s],f=l[s+1];"style"===h?vt(i,f):"dangerouslySetInnerHTML"===h?ht(i,f):"children"===h?ft(i,f):y(i,h,f,c)}switch(u){case"input":Q(i,a);break;case"textarea":ot(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?nt(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?nt(i,!!a.multiple,a.defaultValue,!0):nt(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(v){Tl(t,t.return,v)}}break;case 6:if(gu(e,t),_u(t),4&r){if(null===t.stateNode)throw Error(o(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(v){Tl(t,t.return,v)}}break;case 3:if(gu(e,t),_u(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{ze(e.containerInfo)}catch(v){Tl(t,t.return,v)}break;case 4:default:gu(e,t),_u(t);break;case 13:gu(e,t),_u(t),8192&(i=t.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=Xt())),4&r&&pu(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Js=(c=Js)||h,gu(e,t),Js=c):gu(e,t),_u(t),8192&r){if(c=null!==t.memoizedState,(t.stateNode.isHidden=c)&&!h&&0!==(1&t.mode))for(Qs=t,h=t.child;null!==h;){for(f=Qs=h;null!==Qs;){switch(p=(d=Qs).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var g=d.stateNode;if("function"===typeof g.componentWillUnmount){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Tl(r,n,v)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){wu(f);continue}}null!==p?(p.return=d,Qs=p):wu(f)}h=h.sibling}t:for(h=null,f=t;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,s=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=gt("display",s))}catch(v){Tl(t,t.return,v)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Tl(t,t.return,v)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===t)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===t)break t;for(;null===f.sibling;){if(null===f.return||f.return===t)break t;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gu(e,t),_u(t),4&r&&pu(t);case 21:}}function _u(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(au(n)){var r=n;break t}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(ft(i,""),r.flags&=-33),lu(t,su(t),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(t,su(t),a);break;default:throw Error(o(161))}}catch(s){Tl(t,t.return,s)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function mu(t,e,n){Qs=t,yu(t,e,n)}function yu(t,e,n){for(var r=0!==(1&t.mode);null!==Qs;){var i=Qs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ys;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Js;s=Ys;var l=Js;if(Ys=a,(Js=u)&&!l)for(Qs=i;null!==Qs;)u=(a=Qs).child,22===a.tag&&null!==a.memoizedState?ku(i):null!==u?(u.return=a,Qs=u):ku(i);for(;null!==o;)Qs=o,yu(o,e,n),o=o.sibling;Qs=i,Ys=s,Js=l}bu(t)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Qs=o):bu(t)}}function bu(t){for(;null!==Qs;){var e=Qs;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Js||ru(5,e);break;case 1:var r=e.stateNode;if(4&e.flags&&!Js)if(null===n)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_o(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&Fo(e,a,r);break;case 3:var s=e.updateQueue;if(null!==s){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Fo(e,s,n)}break;case 5:var u=e.stateNode;if(null===n&&4&e.flags){n=u;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var c=e.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&ze(f)}}}break;default:throw Error(o(163))}Js||512&e.flags&&iu(e)}catch(d){Tl(e,e.return,d)}}if(e===t){Qs=null;break}if(null!==(n=e.sibling)){n.return=e.return,Qs=n;break}Qs=e.return}}function wu(t){for(;null!==Qs;){var e=Qs;if(e===t){Qs=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Qs=n;break}Qs=e.return}}function ku(t){for(;null!==Qs;){var e=Qs;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ru(4,e)}catch(u){Tl(e,n,u)}break;case 1:var r=e.stateNode;if("function"===typeof r.componentDidMount){var i=e.return;try{r.componentDidMount()}catch(u){Tl(e,i,u)}}var o=e.return;try{iu(e)}catch(u){Tl(e,o,u)}break;case 5:var a=e.return;try{iu(e)}catch(u){Tl(e,a,u)}}}catch(u){Tl(e,e.return,u)}if(e===t){Qs=null;break}var s=e.sibling;if(null!==s){s.return=e.return,Qs=s;break}Qs=e.return}}var Su,Tu=Math.ceil,Eu=b.ReactCurrentDispatcher,xu=b.ReactCurrentOwner,Iu=b.ReactCurrentBatchConfig,Cu=0,Nu=null,Au=null,Du=0,$u=0,Pu=Ti(0),Ou=0,Mu=null,Lu=0,Ru=0,ju=0,Fu=null,Hu=null,Vu=0,zu=1/0,Uu=null,Bu=!1,Wu=null,qu=null,Gu=!1,Ku=null,Yu=0,Ju=0,Xu=null,Qu=-1,Zu=0;function tl(){return 0!==(6&Cu)?Xt():-1!==Qu?Qu:Qu=Xt()}function el(t){return 0===(1&t.mode)?1:0!==(2&Cu)&&0!==Du?Du&-Du:null!==vo.transition?(0===Zu&&(Zu=ge()),Zu):0!==(t=ye)?t:t=void 0===(t=window.event)?16:Je(t.type)}function nl(t,e,n,r){if(50<Ju)throw Ju=0,Xu=null,Error(o(185));_e(t,n,r),0!==(2&Cu)&&t===Nu||(t===Nu&&(0===(2&Cu)&&(Ru|=n),4===Ou&&sl(t,Du)),rl(t,r),1===n&&0===Cu&&0===(1&e.mode)&&(zu=Xt()+500,Fi&&zi()))}function rl(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ae(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=de(s,e)):u<=e&&(t.expiredLanes|=s),o&=~s}}(t,e);var r=fe(t,t===Nu?Du:0);if(0===r)null!==n&&Kt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(null!=n&&Kt(n),1===e)0===t.tag?function(t){Fi=!0,Vi(t)}(ul.bind(null,t)):Vi(ul.bind(null,t)),ai((function(){0===(6&Cu)&&zi()})),n=null;else{switch(be(r)){case 1:n=Zt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=re}n=Nl(n,il.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function il(t,e){if(Qu=-1,Zu=0,0!==(6&Cu))throw Error(o(327));var n=t.callbackNode;if(kl()&&t.callbackNode!==n)return null;var r=fe(t,t===Nu?Du:0);if(0===r)return null;if(0!==(30&r)||0!==(r&t.expiredLanes)||e)e=vl(t,r);else{e=r;var i=Cu;Cu|=2;var a=pl();for(Nu===t&&Du===e||(Uu=null,zu=Xt()+500,fl(t,e));;)try{ml();break}catch(u){dl(t,u)}ko(),Eu.current=a,Cu=i,null!==Au?e=0:(Nu=null,Du=0,e=Ou)}if(0!==e){if(2===e&&(0!==(i=pe(t))&&(r=i,e=ol(t,i))),1===e)throw n=Mu,fl(t,0),sl(t,r),rl(t,Xt()),n;if(6===e)sl(t,r);else{if(i=t.current.alternate,0===(30&r)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=vl(t,r))&&(0!==(a=pe(t))&&(r=a,e=ol(t,a))),1===e))throw n=Mu,fl(t,0),sl(t,r),rl(t,Xt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(o(345));case 2:case 5:wl(t,Hu,Uu);break;case 3:if(sl(t,r),(130023424&r)===r&&10<(e=Vu+500-Xt())){if(0!==fe(t,0))break;if(((i=t.suspendedLanes)&r)!==r){tl(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ri(wl.bind(null,t,Hu,Uu),e);break}wl(t,Hu,Uu);break;case 4:if(sl(t,r),(4194240&r)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ae(r);a=1<<s,(s=e[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tu(r/1960))-r)){t.timeoutHandle=ri(wl.bind(null,t,Hu,Uu),r);break}wl(t,Hu,Uu);break;default:throw Error(o(329))}}}return rl(t,Xt()),t.callbackNode===n?il.bind(null,t):null}function ol(t,e){var n=Fu;return t.current.memoizedState.isDehydrated&&(fl(t,e).flags|=256),2!==(t=vl(t,e))&&(e=Hu,Hu=n,null!==e&&al(e)),t}function al(t){null===Hu?Hu=t:Hu.push.apply(Hu,t)}function sl(t,e){for(e&=~ju,e&=~Ru,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ae(e),r=1<<n;t[n]=-1,e&=~r}}function ul(t){if(0!==(6&Cu))throw Error(o(327));kl();var e=fe(t,0);if(0===(1&e))return rl(t,Xt()),null;var n=vl(t,e);if(0!==t.tag&&2===n){var r=pe(t);0!==r&&(e=r,n=ol(t,r))}if(1===n)throw n=Mu,fl(t,0),sl(t,e),rl(t,Xt()),n;if(6===n)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wl(t,Hu,Uu),rl(t,Xt()),null}function ll(t,e){var n=Cu;Cu|=1;try{return t(e)}finally{0===(Cu=n)&&(zu=Xt()+500,Fi&&zi())}}function cl(t){null!==Ku&&0===Ku.tag&&0===(6&Cu)&&kl();var e=Cu;Cu|=1;var n=Iu.transition,r=ye;try{if(Iu.transition=null,ye=1,t)return t()}finally{ye=r,Iu.transition=n,0===(6&(Cu=e))&&zi()}}function hl(){$u=Pu.current,Ei(Pu)}function fl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(eo(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:oa(),Ei(Ni),Ei(Ci),ha();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ei(ua);break;case 10:So(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Nu=t,Au=t=Pl(t.current,null),Du=$u=e,Ou=0,Mu=null,ju=Ru=Lu=0,Hu=Fu=null,null!==Io){for(e=0;e<Io.length;e++)if(null!==(r=(n=Io[e]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Io=null}return t}function dl(t,e){for(;;){var n=Au;try{if(ko(),fa.current=as,ma){for(var r=ga.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ma=!1}if(pa=0,_a=va=ga=null,ya=!1,ba=0,xu.current=null,null===n||null===n.return){Ou=1,Mu=e,Au=null;break}t:{var a=t,s=n.return,u=n,l=e;if(e=Du,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=_s(s);if(null!==p){p.flags&=-257,ms(p,s,u,0,e),1&p.mode&&vs(a,c,e),l=c;var g=(e=p).updateQueue;if(null===g){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break t}if(0===(1&e)){vs(a,c,e),gl();break t}l=Error(o(426))}else if(io&&1&u.mode){var _=_s(s);if(null!==_){0===(65536&_.flags)&&(_.flags|=256),ms(_,s,u,0,e),go(cs(l,u));break t}}a=l=cs(l,u),4!==Ou&&(Ou=2),null===Fu?Fu=[a]:Fu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,Ro(a,ps(0,l,e));break t;case 1:u=l;var m=a.type,y=a.stateNode;if(0===(128&a.flags)&&("function"===typeof m.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===qu||!qu.has(y)))){a.flags|=65536,e&=-e,a.lanes|=e,Ro(a,gs(a,u,e));break t}}a=a.return}while(null!==a)}bl(n)}catch(b){e=b,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function pl(){var t=Eu.current;return Eu.current=as,null===t?as:t}function gl(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Nu||0===(268435455&Lu)&&0===(268435455&Ru)||sl(Nu,Du)}function vl(t,e){var n=Cu;Cu|=2;var r=pl();for(Nu===t&&Du===e||(Uu=null,fl(t,e));;)try{_l();break}catch(i){dl(t,i)}if(ko(),Cu=n,Eu.current=r,null!==Au)throw Error(o(261));return Nu=null,Du=0,Ou}function _l(){for(;null!==Au;)yl(Au)}function ml(){for(;null!==Au&&!Yt();)yl(Au)}function yl(t){var e=Su(t.alternate,t,$u);t.memoizedProps=t.pendingProps,null===e?bl(t):Au=e,xu.current=null}function bl(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Gs(n,e,$u)))return void(Au=n)}else{if(null!==(n=Ks(n,e)))return n.flags&=32767,void(Au=n);if(null===t)return Ou=6,void(Au=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Au=e);Au=e=t}while(null!==e);0===Ou&&(Ou=5)}function wl(t,e,n){var r=ye,i=Iu.transition;try{Iu.transition=null,ye=1,function(t,e,n,r){do{kl()}while(null!==Ku);if(0!==(6&Cu))throw Error(o(327));n=t.finishedWork;var i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ae(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}(t,a),t===Nu&&(Au=Nu=null,Du=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Nl(ee,(function(){return kl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Iu.transition,Iu.transition=null;var s=ye;ye=1;var u=Cu;Cu|=4,xu.current=null,function(t,e){if(ti=Be,dr(t=fr())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break t}var s=0,u=-1,l=-1,c=0,h=0,f=t,d=null;e:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==a||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===t)break e;if(d===n&&++c===i&&(u=s),d===a&&++h===r&&(l=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:t,selectionRange:n},Be=!1,Qs=e;null!==Qs;)if(t=(e=Qs).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Qs=t;else for(;null!==Qs;){e=Qs;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var v=g.memoizedProps,_=g.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:_o(e.type,v),_);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(w){Tl(e,e.return,w)}if(null!==(t=e.sibling)){t.return=e.return,Qs=t;break}Qs=e.return}g=eu,eu=!1}(t,n),vu(n,t),pr(ei),Be=!!ti,ei=ti=null,t.current=n,mu(n,t,i),Jt(),Cu=u,ye=s,Iu.transition=a}else t.current=n;if(Gu&&(Gu=!1,Ku=t,Yu=i),0===(a=t.pendingLanes)&&(qu=null),function(t){if(oe&&"function"===typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(ie,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),rl(t,Xt()),null!==e)for(r=t.onRecoverableError,n=0;n<e.length;n++)r((i=e[n]).value,{componentStack:i.stack,digest:i.digest});if(Bu)throw Bu=!1,t=Wu,Wu=null,t;0!==(1&Yu)&&0!==t.tag&&kl(),0!==(1&(a=t.pendingLanes))?t===Xu?Ju++:(Ju=0,Xu=t):Ju=0,zi()}(t,e,n,r)}finally{Iu.transition=i,ye=r}return null}function kl(){if(null!==Ku){var t=be(Yu),e=Iu.transition,n=ye;try{if(Iu.transition=null,ye=16>t?16:t,null===Ku)var r=!1;else{if(t=Ku,Ku=null,Yu=0,0!==(6&Cu))throw Error(o(331));var i=Cu;for(Cu|=4,Qs=t.current;null!==Qs;){var a=Qs,s=a.child;if(0!==(16&Qs.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Qs=c;null!==Qs;){var h=Qs;switch(h.tag){case 0:case 11:case 15:nu(8,h,a)}var f=h.child;if(null!==f)f.return=h,Qs=f;else for(;null!==Qs;){var d=(h=Qs).sibling,p=h.return;if(ou(h),h===c){Qs=null;break}if(null!==d){d.return=p,Qs=d;break}Qs=p}}}var g=a.alternate;if(null!==g){var v=g.child;if(null!==v){g.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(null!==v)}}Qs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Qs=s;else t:for(;null!==Qs;){if(0!==(2048&(a=Qs).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var m=a.sibling;if(null!==m){m.return=a.return,Qs=m;break t}Qs=a.return}}var y=t.current;for(Qs=y;null!==Qs;){var b=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Qs=b;else t:for(s=y;null!==Qs;){if(0!==(2048&(u=Qs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(k){Tl(u,u.return,k)}if(u===s){Qs=null;break t}var w=u.sibling;if(null!==w){w.return=u.return,Qs=w;break t}Qs=u.return}}if(Cu=i,zi(),oe&&"function"===typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(ie,t)}catch(k){}r=!0}return r}finally{ye=n,Iu.transition=e}}return!1}function Sl(t,e,n){t=Mo(t,e=ps(0,e=cs(n,e),1),1),e=tl(),null!==t&&(_e(t,1,e),rl(t,e))}function Tl(t,e,n){if(3===t.tag)Sl(t,t,n);else for(;null!==e;){if(3===e.tag){Sl(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qu||!qu.has(r))){e=Mo(e,t=gs(e,t=cs(n,t),1),1),t=tl(),null!==e&&(_e(e,1,t),rl(e,t));break}}e=e.return}}function El(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=tl(),t.pingedLanes|=t.suspendedLanes&n,Nu===t&&(Du&n)===n&&(4===Ou||3===Ou&&(130023424&Du)===Du&&500>Xt()-Vu?fl(t,0):ju|=n),rl(t,e)}function xl(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ce,0===(130023424&(ce<<=1))&&(ce=4194304)));var n=tl();null!==(t=Ao(t,e))&&(_e(t,e,n),rl(t,n))}function Il(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),xl(t,n)}function Cl(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(e),xl(t,n)}function Nl(t,e){return Gt(t,e)}function Al(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dl(t,e,n,r){return new Al(t,e,n,r)}function $l(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Pl(t,e){var n=t.alternate;return null===n?((n=Dl(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ol(t,e,n,r,i,a){var s=2;if(r=t,"function"===typeof t)$l(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case S:return Ml(n.children,i,a,e);case T:s=8,i|=8;break;case E:return(t=Dl(12,n,e,2|i)).elementType=E,t.lanes=a,t;case N:return(t=Dl(13,n,e,i)).elementType=N,t.lanes=a,t;case A:return(t=Dl(19,n,e,i)).elementType=A,t.lanes=a,t;case P:return Ll(n,i,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case x:s=10;break t;case I:s=9;break t;case C:s=11;break t;case D:s=14;break t;case $:s=16,r=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Dl(s,n,e,i)).elementType=t,e.type=r,e.lanes=a,e}function Ml(t,e,n,r){return(t=Dl(7,t,r,e)).lanes=n,t}function Ll(t,e,n,r){return(t=Dl(22,t,r,e)).elementType=P,t.lanes=n,t.stateNode={isHidden:!1},t}function Rl(t,e,n){return(t=Dl(6,t,null,e)).lanes=n,t}function jl(t,e,n){return(e=Dl(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fl(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ve(0),this.expirationTimes=ve(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ve(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hl(t,e,n,r,i,o,a,s,u){return t=new Fl(t,e,n,s,u),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Dl(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$o(o),t}function Vl(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function zl(t){if(!t)return Ii;t:{if(zt(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if($i(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var n=t.type;if($i(n))return Mi(t,n,e)}return e}function Ul(t,e,n,r,i,o,a,s,u){return(t=Hl(n,r,!0,t,0,o,0,s,u)).context=zl(null),n=t.current,(o=Oo(r=tl(),i=el(n))).callback=void 0!==e&&null!==e?e:null,Mo(n,o,i),t.current.lanes=i,_e(t,i,r),rl(t,r),t}function Bl(t,e,n,r){var i=e.current,o=tl(),a=el(i);return n=zl(n),null===e.context?e.context=n:e.pendingContext=n,(e=Oo(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),null!==(t=Mo(i,e,a))&&(nl(t,i,a,o),Lo(t,i,a)),a}function Wl(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function ql(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Gl(t,e){ql(t,e),(t=t.alternate)&&ql(t,e)}Su=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Ni.current)bs=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return bs=!1,function(t,e,n){switch(e.tag){case 3:As(e),po();break;case 5:aa(e);break;case 1:$i(e.type)&&Li(e);break;case 4:ia(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;xi(mo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=e.memoizedState))return null!==r.dehydrated?(xi(ua,1&ua.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Rs(t,e,n):(xi(ua,1&ua.current),null!==(t=Bs(t,e,n))?t.sibling:null);xi(ua,1&ua.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(128&t.flags)){if(r)return zs(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(ua,ua.current),r)break;return null;case 22:case 23:return e.lanes=0,Es(t,e,n)}return Bs(t,e,n)}(t,e,n);bs=0!==(131072&t.flags)}else bs=!1,io&&0!==(1048576&e.flags)&&Zi(e,qi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Us(t,e),t=e.pendingProps;var i=Di(e,Ci.current);Eo(e,n),i=Ta(null,e,r,t,i,n);var a=Ea();return e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$i(r)?(a=!0,Li(e)):a=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,$o(e),i.updater=zo,e.stateNode=i,i._reactInternals=e,qo(e,r,t,n),e=Ns(null,e,r,!0,a,n)):(e.tag=0,io&&a&&to(e),ws(null,e,i,n),e=e.child),e;case 16:r=e.elementType;t:{switch(Us(t,e),t=e.pendingProps,r=(i=r._init)(r._payload),e.type=r,i=e.tag=function(t){if("function"===typeof t)return $l(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===C)return 11;if(t===D)return 14}return 2}(r),t=_o(r,t),i){case 0:e=Is(null,e,r,t,n);break t;case 1:e=Cs(null,e,r,t,n);break t;case 11:e=ks(null,e,r,t,n);break t;case 14:e=Ss(null,e,r,_o(r.type,t),n);break t}throw Error(o(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,Is(t,e,r,i=e.elementType===r?i:_o(r,i),n);case 1:return r=e.type,i=e.pendingProps,Cs(t,e,r,i=e.elementType===r?i:_o(r,i),n);case 3:t:{if(As(e),null===t)throw Error(o(387));r=e.pendingProps,i=(a=e.memoizedState).element,Po(t,e),jo(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Ds(t,e,r,n,i=cs(Error(o(423)),e));break t}if(r!==i){e=Ds(t,e,r,n,i=cs(Error(o(424)),e));break t}for(ro=li(e.stateNode.containerInfo.firstChild),no=e,io=!0,oo=null,n=Qo(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){e=Bs(t,e,n);break t}ws(t,e,r,n)}e=e.child}return e;case 5:return aa(e),null===t&&lo(e),r=e.type,i=e.pendingProps,a=null!==t?t.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(e.flags|=32),xs(t,e),ws(t,e,s,n),e.child;case 6:return null===t&&lo(e),null;case 13:return Rs(t,e,n);case 4:return ia(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Xo(e,null,r,n):ws(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,ks(t,e,r,i=e.elementType===r?i:_o(r,i),n);case 7:return ws(t,e,e.pendingProps,n),e.child;case 8:case 12:return ws(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,xi(mo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ni.current){e=Bs(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Oo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),To(a.return,n,e),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),To(s,n,e),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Eo(e,n),r=r(i=xo(i)),e.flags|=1,ws(t,e,r,n),e.child;case 14:return i=_o(r=e.type,e.pendingProps),Ss(t,e,r,i=_o(r.type,i),n);case 15:return Ts(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_o(r,i),Us(t,e),e.tag=1,$i(r)?(t=!0,Li(e)):t=!1,Eo(e,n),Bo(e,r,i),qo(e,r,i,n),Ns(null,e,r,!0,t,n);case 19:return zs(t,e,n);case 22:return Es(t,e,n)}throw Error(o(156,e.tag))};var Kl="function"===typeof reportError?reportError:function(t){console.error(t)};function Yl(t){this._internalRoot=t}function Jl(t){this._internalRoot=t}function Xl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Ql(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Zl(){}function tc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var t=Wl(a);s.call(t)}}Bl(e,a,t,i)}else a=function(t,e,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var t=Wl(a);o.call(t)}}var a=Ul(e,r,t,0,null,!1,0,"",Zl);return t._reactRootContainer=a,t[pi]=a.current,zr(8===t.nodeType?t.parentNode:t),cl(),a}for(;i=t.lastChild;)t.removeChild(i);if("function"===typeof r){var s=r;r=function(){var t=Wl(u);s.call(t)}}var u=Hl(t,0,!1,null,0,!1,0,"",Zl);return t._reactRootContainer=u,t[pi]=u.current,zr(8===t.nodeType?t.parentNode:t),cl((function(){Bl(e,u,n,r)})),u}(n,e,t,i,r);return Wl(a)}Jl.prototype.render=Yl.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Bl(t,e,null,null)},Jl.prototype.unmount=Yl.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;cl((function(){Bl(null,t,null,null)})),e[pi]=null}},Jl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Te();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pe.length&&0!==e&&e<Pe[n].priority;n++);Pe.splice(n,0,t),0===n&&Re(t)}},we=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(me(e,1|n),rl(e,Xt()),0===(6&Cu)&&(zu=Xt()+500,zi()))}break;case 13:cl((function(){var e=Ao(t,1);if(null!==e){var n=tl();nl(e,t,1,n)}})),Gl(t,1)}},ke=function(t){if(13===t.tag){var e=Ao(t,134217728);if(null!==e)nl(e,t,134217728,tl());Gl(t,134217728)}},Se=function(t){if(13===t.tag){var e=el(t),n=Ao(t,e);if(null!==n)nl(n,t,e,tl());Gl(t,e)}},Te=function(){return ye},Ee=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}},kt=function(t,e,n){switch(e){case"input":if(Q(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wi(r);if(!i)throw Error(o(90));G(r),Q(r,i)}}}break;case"textarea":ot(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Ct=ll,Nt=cl;var ec={usingClientEntryPoint:!1,Events:[yi,bi,wi,xt,It,ll]},nc={findFiberByHostInstance:mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Wt(t))?null:t.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{ie=ic.inject(rc),oe=ic}catch(ct){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(e))throw Error(o(200));return Vl(t,e,null,n)},e.createRoot=function(t,e){if(!Xl(t))throw Error(o(299));var n=!1,r="",i=Kl;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Hl(t,1,!1,null,0,n,0,r,i),t[pi]=e.current,zr(8===t.nodeType?t.parentNode:t),new Yl(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=Wt(e))?null:t.stateNode},e.flushSync=function(t){return cl(t)},e.hydrate=function(t,e,n){if(!Ql(e))throw Error(o(200));return tc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Xl(t))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Kl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),e=Ul(e,null,t,1,null!=n?n:null,i,0,a,s),t[pi]=e.current,zr(t),r)for(t=0;t<r.length;t++)i=(i=(n=r[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Jl(e)},e.render=function(t,e,n){if(!Ql(e))throw Error(o(200));return tc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Ql(t))throw Error(o(40));return!!t._reactRootContainer&&(cl((function(){tc(null,null,t,!1,(function(){t._reactRootContainer=null,t[pi]=null}))})),!0)},e.unstable_batchedUpdates=ll,e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ql(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return tc(t,e,n,!1,r)},e.version="18.2.0-next-9e3b772b8-20220608"},250:function(t,e,n){"use strict";var r=n(164);e.createRoot=r.createRoot,e.hydrateRoot=r.hydrateRoot},164:function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(463)},381:function(t){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},239:function(t,e,n){var r=n(381);t.exports=d,t.exports.parse=o,t.exports.compile=function(t,e){return s(o(t,e),e)},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,r=[],o=0,a=0,s="",c=e&&e.delimiter||"/";null!=(n=i.exec(t));){var h=n[0],f=n[1],d=n.index;if(s+=t.slice(a,d),a=d+h.length,f)s+=f[1];else{var p=t[a],g=n[2],v=n[3],_=n[4],m=n[5],y=n[6],b=n[7];s&&(r.push(s),s="");var w=null!=g&&null!=p&&p!==g,k="+"===y||"*"===y,S="?"===y||"*"===y,T=n[2]||c,E=_||m;r.push({name:v||o++,prefix:g||"",delimiter:T,optional:S,repeat:k,partial:w,asterisk:!!b,pattern:E?l(E):b?".*":"[^"+u(T)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function a(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function s(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"===typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",h(e)));return function(e,i){for(var o="",s=e||{},u=(i||{}).pretty?a:encodeURIComponent,l=0;l<t.length;l++){var c=t[l];if("string"!==typeof c){var h,f=s[c.name];if(null==f){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(f)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(h=u(f[d]),!n[l].test(h))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===d?c.prefix:c.delimiter)+h}}else{if(h=c.asterisk?encodeURI(f).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[l].test(h))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+h+'"');o+=c.prefix+h}}else o+=c}return o}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function c(t,e){return t.keys=e,t}function h(t){return t&&t.sensitive?"":"i"}function f(t,e,n){r(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<t.length;s++){var l=t[s];if("string"===typeof l)a+=u(l);else{var f=u(l.prefix),d="(?:"+l.pattern+")";e.push(l),l.repeat&&(d+="(?:"+f+d+")*"),a+=d=l.optional?l.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var p=u(n.delimiter||"/"),g=a.slice(-p.length)===p;return i||(a=(g?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&g?"":"(?="+p+"|$)",c(new RegExp("^"+a,h(n)),e)}function d(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(t,e)}(t,e):r(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(d(t[i],e,n).source);return c(new RegExp("(?:"+r.join("|")+")",h(n)),e)}(t,e,n):function(t,e,n){return f(o(t,n),e,n)}(t,e,n)}},195:function(t,e){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,_=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case c:case h:case o:case s:case a:case d:return t;default:switch(t=t&&t.$$typeof){case l:case f:case v:case g:case u:return t;default:return e}}case i:return e}}}function k(t){return w(t)===h}},228:function(t,e,n){"use strict";n(195)},374:function(t,e,n){"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(c=e.ref),e)a.call(e,r)&&!u.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:l,ref:c,props:o,_owner:s.current}}e.jsx=l,e.jsxs=l},117:function(t,e){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function _(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||p}function m(){}function y(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||p}_.prototype.isReactComponent={},_.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},_.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},m.prototype=_.prototype;var b=y.prototype=new m;b.constructor=y,g(b,_.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,r){var i,o={},a=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)k.call(e,i)&&!T.hasOwnProperty(i)&&(o[i]=e[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(i in u=t.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:t,key:a,ref:s,props:o,_owner:S.current}}function x(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var I=/\/+/g;function C(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function N(t,e,i,o,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=t),t=""===o?"."+C(u,0):o,w(a)?(i="",null!=t&&(i=t.replace(I,"$&/")+"/"),N(a,e,i,"",(function(t){return t}))):null!=a&&(x(a)&&(a=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+t)),e.push(a)),1;if(u=0,o=""===o?".":o+":",w(t))for(var l=0;l<t.length;l++){var c=o+C(s=t[l],l);u+=N(s,e,i,c,a)}else if(c=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t),"function"===typeof c)for(t=c.call(t),l=0;!(s=t.next()).done;)u+=N(s=s.value,e,i,c=o+C(s,l++),a);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function A(t,e,n){if(null==t)return t;var r=[],i=0;return N(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function D(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var $={current:null},P={transition:null},O={ReactCurrentDispatcher:$,ReactCurrentBatchConfig:P,ReactCurrentOwner:S};e.Children={map:A,forEach:function(t,e,n){A(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return A(t,(function(){e++})),e},toArray:function(t){return A(t,(function(t){return t}))||[]},only:function(t){if(!x(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=_,e.Fragment=i,e.Profiler=a,e.PureComponent=y,e.StrictMode=o,e.Suspense=c,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.cloneElement=function(t,e,r){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=g({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=S.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(l in e)k.call(e,l)&&!T.hasOwnProperty(l)&&(i[l]=void 0===e[l]&&void 0!==u?u[l]:e[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:t.type,key:o,ref:a,props:i,_owner:s}},e.createContext=function(t){return(t={$$typeof:u,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=x,e.lazy=function(t){return{$$typeof:f,_payload:{_status:-1,_result:t},_init:D}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=P.transition;P.transition={};try{t()}finally{P.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return $.current.useCallback(t,e)},e.useContext=function(t){return $.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return $.current.useDeferredValue(t)},e.useEffect=function(t,e){return $.current.useEffect(t,e)},e.useId=function(){return $.current.useId()},e.useImperativeHandle=function(t,e,n){return $.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return $.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return $.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return $.current.useMemo(t,e)},e.useReducer=function(t,e,n){return $.current.useReducer(t,e,n)},e.useRef=function(t){return $.current.useRef(t)},e.useState=function(t){return $.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return $.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return $.current.useTransition()},e.version="18.2.0"},791:function(t,e,n){"use strict";t.exports=n(117)},184:function(t,e,n){"use strict";t.exports=n(374)},813:function(t,e){"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,i=t[r];if(!(0<o(i,e)))break t;t[r]=e,t[n]=i,n=r}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=t[s],l=s+1,c=t[l];if(0>o(u,n))l<i&&0>o(c,u)?(t[r]=c,t[l]=n,r=l):(t[r]=u,t[s]=n,r=s);else{if(!(l<i&&0>o(c,n)))break t;t[r]=c,t[l]=n,r=l}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var l=[],c=[],h=1,f=null,d=3,p=!1,g=!1,v=!1,_="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(t){for(var e=r(c);null!==e;){if(null===e.callback)i(c);else{if(!(e.startTime<=t))break;i(c),e.sortIndex=e.expirationTime,n(l,e)}e=r(c)}}function w(t){if(v=!1,b(t),!g)if(null!==r(l))g=!0,P(k);else{var e=r(c);null!==e&&O(w,e.startTime-t)}}function k(t,n){g=!1,v&&(v=!1,m(x),x=-1),p=!0;var o=d;try{for(b(n),f=r(l);null!==f&&(!(f.expirationTime>n)||t&&!N());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),b(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var h=r(c);null!==h&&O(w,h.startTime-n),u=!1}return u}finally{f=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,T=!1,E=null,x=-1,I=5,C=-1;function N(){return!(e.unstable_now()-C<I)}function A(){if(null!==E){var t=e.unstable_now();C=t;var n=!0;try{n=E(!0,t)}finally{n?S():(T=!1,E=null)}}else T=!1}if("function"===typeof y)S=function(){y(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,$=D.port2;D.port1.onmessage=A,S=function(){$.postMessage(null)}}else S=function(){_(A,0)};function P(t){E=t,T||(T=!0,S())}function O(t,n){x=_((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,P(k))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(t){switch(d){case 1:case 2:case 3:var e=3;break;default:e=d}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_scheduleCallback=function(t,i,o){var a=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:h++,callback:i,priorityLevel:t,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(t.sortIndex=o,n(c,t),null===r(l)&&t===r(c)&&(v?(m(x),x=-1):v=!0,O(w,o-a))):(t.sortIndex=s,n(l,t),g||p||(g=!0,P(k))),t},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(t){var e=d;return function(){var n=d;d=e;try{return t.apply(this,arguments)}finally{d=n}}}},296:function(t,e,n){"use strict";t.exports=n(813)}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.m=t,n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,r){return n.f[r](t,e),e}),[]))},n.u=function(t){return"static/js/"+t+".f15a6aeb.chunk.js"},n.miniCssF=function(t){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={},e="gantt-webview:";n.l=function(r,i,o,a){if(t[r])t[r].push(i);else{var s,u;if(void 0!==o)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var h=l[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==e+o){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",e+o),s.src=r),t[r]=[i];var f=function(e,n){s.onerror=s.onload=null,clearTimeout(d);var i=t[r];if(delete t[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(t){return t(n)})),e)return e(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/gantt/",function(){var t={179:0};n.f.j=function(e,r){var i=n.o(t,e)?t[e]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=t[e]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(e),s=new Error;n.l(a,(function(r){if(n.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+e,e)}};var e=function(e,r){var i,o,a=r[0],s=r[1],u=r[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(e&&e(r);l<a.length;l++)o=a[l],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0},r=self.webpackChunkgantt_webview=self.webpackChunkgantt_webview||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}(),function(){"use strict";var t=n(791),e=n(250);function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){if(e&&("object"===l(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Qg){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function f(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,a(t,e)}function d(){return d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d.apply(this,arguments)}function p(t){return"/"===t.charAt(0)}function g(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}var v=function(t,e){void 0===e&&(e="");var n,r=t&&t.split("/")||[],i=e&&e.split("/")||[],o=t&&p(t),a=e&&p(e),s=o||a;if(t&&p(t)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var l=0,c=i.length;c>=0;c--){var h=i[c];"."===h?g(i,c):".."===h?(g(i,c),l++):l&&(g(i,c),l--)}if(!s)for(;l--;l)i.unshift("..");!s||""===i[0]||i[0]&&p(i[0])||i.unshift("");var f=i.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f},_="Invariant failed";function m(t,e){if(!t)throw new Error(_)}function y(t){return"/"===t.charAt(0)?t:"/"+t}function b(t){return"/"===t.charAt(0)?t.substr(1):t}function w(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function k(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function S(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function T(t,e,n,r){var i;"string"===typeof t?(i=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t),i.state=e):(void 0===(i=d({},t)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==e&&void 0===i.state&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(Qg){throw Qg instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):Qg}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=v(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function E(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"===typeof t?t(e,n):t;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter((function(t){return t!==r}))}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach((function(t){return t.apply(void 0,n)}))}}}var x=!("undefined"===typeof window||!window.document||!window.document.createElement);function I(t,e){e(window.confirm(t))}var C="popstate",N="hashchange";function A(){try{return window.history.state||{}}catch(Qg){return{}}}function D(t){void 0===t&&{},x||m(!1);var e=window.history,n=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=t,o=i.forceRefresh,a=void 0!==o&&o,s=i.getUserConfirmation,u=void 0===s?I:s,l=i.keyLength,c=void 0===l?6:l,h=t.basename?k(y(t.basename)):"";function f(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return h&&w(o,h),T(o,r,n)}function p(){return Math.random().toString(36).substr(2,c)}var g=E();function v(t){d(H,t),H.length=e.length,g.notifyListeners(H.location,H.action)}function _(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||$(f(t.state))}function b(){$(f(A()))}var D=!1;function $(t){if(D)!1,v();else{g.confirmTransitionTo(t,"POP",u,(function(e){e?v({action:"POP",location:t}):function(t){var e=H.location,n=O.indexOf(e.key);-1===n&&0;var r=O.indexOf(t.key);-1===r&&0;var i=n-r;i&&(!0,L(i))}(t)}))}}var P=f(A()),O=[P.key];function M(t){return h+S(t)}function L(t){e.go(t)}var R=0;function j(t){1===(R+=t)&&1===t?(window.addEventListener(C,_),r&&window.addEventListener(N,b)):0===R&&(window.removeEventListener(C,_),r&&window.removeEventListener(N,b))}var F=!1;var H={length:e.length,action:"POP",location:P,createHref:M,push:function(t,r){var i="PUSH",o=T(t,r,p(),H.location);g.confirmTransitionTo(o,i,u,(function(t){if(t){var r=M(o),s=o.key,u=o.state;if(n)if(e.pushState({key:s,state:u},null,r),a)window.location.href=r;else{var l=O.indexOf(H.location.key),c=O.slice(0,l+1);c.push(o.key),c,v({action:i,location:o})}else window.location.href=r}}))},replace:function(t,r){var i="REPLACE",o=T(t,r,p(),H.location);g.confirmTransitionTo(o,i,u,(function(t){if(t){var r=M(o),s=o.key,u=o.state;if(n)if(e.replaceState({key:s,state:u},null,r),a)window.location.replace(r);else{var l=O.indexOf(H.location.key);-1!==l&&(O[l]=o.key),v({action:i,location:o})}else window.location.replace(r)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(t){void 0===t&&!1;var e=g.setPrompt(t);return F||(j(1),!0),function(){return F&&(!1,j(-1)),e()}},listen:function(t){var e=g.appendListener(t);return j(1),function(){j(-1),e()}}};return H}var $="hashchange",P={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+b(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:b,decodePath:y},slash:{encodePath:y,decodePath:y}};function O(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function M(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function L(t){window.location.replace(O(window.location.href)+"#"+t)}function R(t){void 0===t&&(t={}),x||m(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),r=n.getUserConfirmation,i=void 0===r?I:r,o=n.hashType,a=void 0===o?"slash":o,s=t.basename?k(y(t.basename)):"",u=P[a],l=u.encodePath,c=u.decodePath;function h(){var t=c(M());return s&&(t=w(t,s)),T(t)}var f=E();function p(t){d(H,t),H.length=e.length,f.notifyListeners(H.location,H.action)}var g=!1,v=null;function _(){var t,e,n=M(),r=l(n);if(n!==r)L(r);else{var o=h(),a=H.location;if(!g&&(e=o,(t=a).pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(v===S(o))return;v=null,function(t){if(g)g=!1,p();else{var e="POP";f.confirmTransitionTo(t,e,i,(function(n){n?p({action:e,location:t}):function(t){var e=H.location,n=A.lastIndexOf(S(e));-1===n&&(n=0);var r=A.lastIndexOf(S(t));-1===r&&(r=0);var i=n-r;i&&(g=!0,D(i))}(t)}))}}(o)}}var b=M(),C=l(b);b!==C&&L(C);var N=h(),A=[S(N)];function D(t){e.go(t)}var R=0;function j(t){1===(R+=t)&&1===t?window.addEventListener($,_):0===R&&window.removeEventListener($,_)}var F=!1;var H={length:e.length,action:"POP",location:N,createHref:function(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=O(window.location.href)),n+"#"+l(s+S(t))},push:function(t,e){var n="PUSH",r=T(t,void 0,void 0,H.location);f.confirmTransitionTo(r,n,i,(function(t){if(t){var e=S(r),i=l(s+e);if(M()!==i){v=e,function(t){window.location.hash=t}(i);var o=A.lastIndexOf(S(H.location)),a=A.slice(0,o+1);a.push(e),A=a,p({action:n,location:r})}else p()}}))},replace:function(t,e){var n="REPLACE",r=T(t,void 0,void 0,H.location);f.confirmTransitionTo(r,n,i,(function(t){if(t){var e=S(r),i=l(s+e);M()!==i&&(v=e,L(i));var o=A.indexOf(S(H.location));-1!==o&&(A[o]=e),p({action:n,location:r})}}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(t){void 0===t&&(t=!1);var e=f.setPrompt(t);return F||(j(1),F=!0),function(){return F&&(F=!1,j(-1)),e()}},listen:function(t){var e=f.appendListener(t);return j(1),function(){j(-1),e()}}};return H}function j(t,e,n){return Math.min(Math.max(t,e),n)}function F(t){void 0===t&&{};var e=t,n=e.getUserConfirmation,r=e.initialEntries,i=void 0===r?["/"]:r,o=e.initialIndex,a=void 0===o?0:o,s=e.keyLength,u=void 0===s?6:s,l=E();function c(t){d(_,t),_.length=_.entries.length,l.notifyListeners(_.location,_.action)}function h(){return Math.random().toString(36).substr(2,u)}var f=j(a,0,i.length-1),p=i.map((function(t){return T(t,void 0,"string"===typeof t?h():t.key||h())})),g=S;function v(t){var e=j(_.index+t,0,_.entries.length-1),r=_.entries[e];l.confirmTransitionTo(r,"POP",n,(function(t){t?c({action:"POP",location:r,index:e}):c()}))}var _={length:p.length,action:"POP",location:p[f],index:f,entries:p,createHref:g,push:function(t,e){var r="PUSH",i=T(t,e,h(),_.location);l.confirmTransitionTo(i,r,n,(function(t){if(t){var e=_.index+1,n=_.entries.slice(0);n.length>e?n.splice(e,n.length-e,i):n.push(i),c({action:r,location:i,index:e,entries:n})}}))},replace:function(t,e){var r="REPLACE",i=T(t,e,h(),_.location);l.confirmTransitionTo(i,r,n,(function(t){t&&(_.entries[_.index]=i,c({action:r,location:i}))}))},go:v,goBack:function(){v(-1)},goForward:function(){v(1)},canGo:function(t){var e=_.index+t;return e>=0&&e<_.entries.length},block:function(t){return void 0===t&&!1,l.setPrompt(t)},listen:function(t){return l.appendListener(t)}};return _}var H=n(7),V=n.n(H),z=1073741823,U="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function B(t){var e=[];return{on:function(t){e.push(t)},off:function(t){e=e.filter((function(e){return e!==t}))},get:function(){return t},set:function(n,r){t=n,e.forEach((function(e){return e(t,r)}))}}}var W=t.createContext||function(e,n){var r,i,o="__create-react-context-"+function(){var t="__global_unique_id__";return U[t]=(U[t]||0)+1}()+"__",a=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).emitter=B(e.props.value),e}f(e,t);var r=e.prototype;return r.getChildContext=function(){var t;return(t={})[o]=this.emitter,t},r.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var e,r=this.props.value,i=t.value;!function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}(r,i)?(e="function"===typeof n?n(r,i):z,0!==(e|=0)&&this.emitter.set(t.value,e)):e=0}},r.render=function(){return this.props.children},e}(t.Component);a.childContextTypes=((r={})[o]=V().object.isRequired,r);var s=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}f(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=void 0===e||null===e?z:e},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=void 0===t||null===t?z:t},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(t.Component);return s.contextTypes=((i={})[o]=V().object,i),{Provider:a,Consumer:s}},q=W,G=n(239),K=n.n(G);n(228);function Y(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var J=n(110),X=n.n(J),Q=function(t){var e=q();return e.displayName=t,e},Z=Q("Router-History"),tt=Q("Router"),et=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(t){n._pendingLocation=t}))),n}f(n,e),n.computeRootMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}};var r=n.prototype;return r.componentDidMount=function(){var t=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(e){t._isMounted&&t.setState({location:e})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(tt.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(Z.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var nt={},rt=0;function it(t,e){void 0===e&&(e={}),("string"===typeof e||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,l=void 0!==u&&u;return[].concat(r).reduce((function(e,n){if(!n&&""!==n)return null;if(e)return e;var r=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=nt[n]||(nt[n]={});if(r[t])return r[t];var i=[],o={regexp:K()(t,i,e),keys:i};return rt<1e4&&(r[t]=o,rt++),o}(n,{end:o,strict:s,sensitive:l}),i=r.regexp,a=r.keys,u=i.exec(t);if(!u)return null;var c=u[0],h=u.slice(1),f=t===c;return o&&!f?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:f,params:a.reduce((function(t,e,n){return t[e.name]=h[n],t}),{})}}),null)}var ot=function(e){function n(){return e.apply(this,arguments)||this}return f(n,e),n.prototype.render=function(){var e=this;return t.createElement(tt.Consumer,null,(function(n){n||m(!1);var r=e.props.location||n.location,i=d({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?it(r.pathname,e.props):n.match}),o=e.props,a=o.children,s=o.component,u=o.render;return Array.isArray(a)&&function(e){return 0===t.Children.count(e)}(a)&&(a=null),t.createElement(tt.Provider,{value:i},i.match?a?"function"===typeof a?a(i):a:s?t.createElement(s,i):u?u(i):null:"function"===typeof a?a(i):null)}))},n}(t.Component);function at(t){return"/"===t.charAt(0)?t:"/"+t}function st(t,e){if(!t)return e;var n=at(t);return 0!==e.pathname.indexOf(n)?e:d({},e,{pathname:e.pathname.substr(n.length)})}function ut(t){return"string"===typeof t?t:S(t)}function lt(t){return function(){m(!1)}}function ct(){}t.Component;var ht=function(e){function n(){return e.apply(this,arguments)||this}return f(n,e),n.prototype.render=function(){var e=this;return t.createElement(tt.Consumer,null,(function(n){n||m(!1);var r,i,o=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var a=e.props.path||e.props.from;i=a?it(o.pathname,d({},e.props,{path:a})):n.match}})),i?t.cloneElement(r,{location:o,computedMatch:i}):null}))},n}(t.Component);function ft(e){var n="withRouter("+(e.displayName||e.name)+")",r=function(n){var r=n.wrappedComponentRef,i=Y(n,["wrappedComponentRef"]);return t.createElement(tt.Consumer,null,(function(n){return n||m(!1),t.createElement(e,d({},i,n,{ref:r}))}))};return r.displayName=n,r.WrappedComponent=e,X()(r,e)}t.useContext;t.Component;var dt=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=R(t.props),t}return f(n,e),n.prototype.render=function(){return t.createElement(et,{history:this.history,children:this.props.children})},n}(t.Component);var pt=function(t,e){return"function"===typeof t?t(e):t},gt=function(t,e){return"string"===typeof t?T(t,null,null,e):t},vt=function(t){return t},_t=t.forwardRef;"undefined"===typeof _t&&(_t=vt);var mt=_t((function(e,n){var r=e.innerRef,i=e.navigate,o=e.onClick,a=Y(e,["innerRef","navigate","onClick"]),s=a.target,u=d({},a,{onClick:function(t){try{o&&o(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||s&&"_self"!==s||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||(t.preventDefault(),i())}});return u.ref=vt!==_t&&n||r,t.createElement("a",u)}));var yt=_t((function(e,n){var r=e.component,i=void 0===r?mt:r,o=e.replace,a=e.to,s=e.innerRef,u=Y(e,["component","replace","to","innerRef"]);return t.createElement(tt.Consumer,null,(function(e){e||m(!1);var r=e.history,l=gt(pt(a,e.location),e.location),c=l?r.createHref(l):"",h=d({},u,{href:c,navigate:function(){var t=pt(a,e.location),n=S(e.location)===S(gt(t));(o||n?r.replace:r.push)(t)}});return vt!==_t?h.ref=n||s:h.innerRef=s,t.createElement(i,h)}))})),bt=function(t){return t},wt=t.forwardRef;"undefined"===typeof wt&&(wt=bt);wt((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,o=e.activeClassName,a=void 0===o?"active":o,s=e.activeStyle,u=e.className,l=e.exact,c=e.isActive,h=e.location,f=e.sensitive,p=e.strict,g=e.style,v=e.to,_=e.innerRef,y=Y(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(tt.Consumer,null,(function(e){e||m(!1);var r=h||e.location,o=gt(pt(v,r),r),b=o.pathname,w=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=w?it(r.pathname,{path:w,exact:l,sensitive:f,strict:p}):null,S=!!(c?c(k,r):k),T="function"===typeof u?u(S):u,E="function"===typeof g?g(S):g;S&&(T=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return t})).join(" ")}(T,a),E=d({},E,s));var x=d({"aria-current":S&&i||null,className:T,style:E,to:o},y);return bt!==wt?x.ref=n||_:x.innerRef=_,t.createElement(yt,x)}))}));function kt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function St(t,e){if(t){if("string"===typeof t)return kt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(t,e):void 0}}function Tt(t){return function(t){if(Array.isArray(t))return kt(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||St(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||St(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xt=function(){return xt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},xt.apply(this,arguments)};function It(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ct=function(t,e){return Ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Ct(t,e)};var Nt=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e};function At(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&Dt(n)&&(t[n]=At(t[n],e[n]));return t}function Dt(t){return"__proto__"!==t}var $t=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function Pt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ot(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Qg){return!1}}var Mt=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Lt.prototype.create),o}return function(t,e){function n(){this.constructor=t}Ct(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),Lt=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?Rt(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new Mt(i,s,r);return u},t}();function Rt(t,e){return t.replace(jt,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var jt=/\{\$([^}]+)}/g;function Ft(t,e){return Object.prototype.hasOwnProperty.call(t,e)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=c^u&(l^c),a=1518500249):(o=u^l^c,a=1859775393):r<60?(o=u&l|c&(u|l),a=2400959708):(o=u^l^c,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=c,c=l,l=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();function Ht(t,e){var n=new Vt(t,e);return n.subscribe.bind(n)}var Vt=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=zt),void 0===r.error&&(r.error=zt),void 0===r.complete&&(r.complete=zt);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(Qg){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(Qg){"undefined"!==typeof console&&console.error&&console.error(Qg)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function zt(){}var Ut=function(){return Ut=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ut.apply(this,arguments)};function Bt(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(Qg){o(Qg)}}function s(t){try{u(r.throw(t))}catch(Qg){o(Qg)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function Wt(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(Qg){o=[6,Qg],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function qt(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gt(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Kt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Gt(arguments[e]));return t}var Yt=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),Jt="[DEFAULT]",Xt=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=Jt);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new $t;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(Qg){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Ut({identifier:Jt,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(Qg){if(r)return null;throw Qg}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(Jt)}catch(Qg){}try{for(var r=qt(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Gt(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var l=this.getOrInitializeService(u);s.resolve(l)}catch(Qg){}}}catch(c){e={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=Jt),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Bt(this,void 0,void 0,(function(){var t;return Wt(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Kt(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===Jt?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:Jt:t},t}();var Qt,Zt=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Xt(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function te(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var ee,ne=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(ee||(ee={}));var re,ie={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},oe=ee.INFO,ae=((Qt={})[ee.DEBUG]="log",Qt[ee.VERBOSE]="log",Qt[ee.INFO]="info",Qt[ee.WARN]="warn",Qt[ee.ERROR]="error",Qt),se=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=ae[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,te(["["+i+"]  "+t.name+":"],n))}},ue=function(){function t(t){this.name=t,this._logLevel=oe,this._logHandler=se,this._userLogHandler=null,ne.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ee))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?ie[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,te([this,ee.DEBUG],t)),this._logHandler.apply(this,te([this,ee.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,te([this,ee.VERBOSE],t)),this._logHandler.apply(this,te([this,ee.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,te([this,ee.INFO],t)),this._logHandler.apply(this,te([this,ee.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,te([this,ee.WARN],t)),this._logHandler.apply(this,te([this,ee.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,te([this,ee.ERROR],t)),this._logHandler.apply(this,te([this,ee.ERROR],t))},t}();function le(t){ne.forEach((function(e){e.setLogLevel(t)}))}var ce,he=((re={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",re["bad-app-name"]="Illegal App name: '{$appName}",re["duplicate-app"]="Firebase App named '{$appName}' already exists",re["app-deleted"]="Firebase App named '{$appName}' already deleted",re["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",re["invalid-log-argument"]="First argument to `onLog` must be null or a function.",re),fe=new Lt("app","Firebase",he),de="@firebase/app",pe="[DEFAULT]",ge=((ce={})[de]="fire-core",ce["@firebase/analytics"]="fire-analytics",ce["@firebase/auth"]="fire-auth",ce["@firebase/database"]="fire-rtdb",ce["@firebase/functions"]="fire-fn",ce["@firebase/installations"]="fire-iid",ce["@firebase/messaging"]="fire-fcm",ce["@firebase/performance"]="fire-perf",ce["@firebase/remote-config"]="fire-rc",ce["@firebase/storage"]="fire-gcs",ce["@firebase/firestore"]="fire-fst",ce["fire-js"]="fire-js",ce["firebase-wrapper"]="fire-js-all",ce),ve=new ue("@firebase/app"),_e=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=At(void 0,t),this.container=new Zt(e.name),this._addComponent(new Yt("app",(function(){return o}),"PUBLIC"));try{for(var a=It(this.firebase_.INTERNAL.components.values()),s=a.next();!s.done;s=a.next()){var u=s.value;this._addComponent(u)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=pe),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=pe),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(Qg){ve.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,Qg)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw fe.create("app-deleted",{appName:this.name_})},t}();_e.prototype.name&&_e.prototype.options||_e.prototype.delete||console.log("dc");function me(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=pe);var a=o.name;if("string"!==typeof a||!a)throw fe.create("bad-app-name",{appName:String(a)});if(Ft(e,a))throw fe.create("duplicate-app",{appName:a});var s=new t(n,o,r);return e[a]=s,s},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=ge[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void ve.warn(u.join(" "))}o(new Yt(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:le,onLog:function(t,e){if(null!==t&&"function"!==typeof t)throw fe.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=ie[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:ee[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=ne;r<i.length;r++)n(i[r])}(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!Ft(e,t=t||pe))throw fe.create("no-app",{appName:t});return e[t]}function o(o){var a,s,u=o.name;if(n.has(u))return ve.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var l=function(t){if(void 0===t&&(t=i()),"function"!==typeof t[u])throw fe.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&At(l,o.serviceProps),r[u]=l,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,u);return n.apply(this,o.multipleInstances?t:[])}}try{for(var c=It(Object.keys(e)),h=c.next();!h.done;h=c.next()){var f=h.value;e[f]._addComponent(o)}}catch(d){a={error:d}}finally{try{h&&!h.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}var ye=function t(){var e=me(_e);return e.INTERNAL=xt(xt({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){At(e,t)},createSubscribe:Ht,ErrorFactory:Lt,deepExtend:At}),e}(),be=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ve.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var we=self.firebase.SDK_VERSION;we&&we.indexOf("LITE")>=0&&ve.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ke=ye.initializeApp;ye.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ot()&&ve.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),ke.apply(void 0,t)};var Se=ye;!function(t,e){t.INTERNAL.registerComponent(new Yt("platform-logger",(function(t){return new be(t)}),"PRIVATE")),t.registerVersion(de,"0.6.13",e),t.registerVersion("fire-js","")}(Se);var Te=Se;Te.registerVersion("firebase","8.2.3","app"),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var r=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,n){if(n){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[t=t[t.length-1]]))!=o&&null!=n&&e(i,t,{configurable:!0,writable:!0,value:n})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(Pe){e.reject(Pe)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=r.setTimeout;n.prototype.c=function(t){a(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(je){this.f(je)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.i(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(Pe){return void this.g(Pe)}"function"==typeof e?this.u(e,t):this.i(t)},e.prototype.g=function(t){this.h(2,t)},e.prototype.i=function(t){this.h(1,t)},e.prototype.h=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(je){n.reject(je)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=o(t),a=r.next();!a.done;a=r.next())i(a.value).Pa(e,n)}))},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Pa(o(a.length-1),e),r=n.next()}while(!r.done)}))},e}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,l=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function h(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function d(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function v(t){return Object.prototype.hasOwnProperty.call(t,_)&&t[_]||(t[_]=++m)}var _="closure_uid_"+(1e9*Math.random()>>>0),m=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:b).apply(null,arguments)}function k(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var S=Date.now;function T(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t){return t}function x(t,e,n){this.code=N+t,this.message=e||A[t]||"",this.a=n||null}function I(t){var e=t&&t.code;return e?new x(e.substring(N.length),t.message,t.serverResponse):null}T(x,Error),x.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},x.prototype.toJSON=function(){return this.w()};var C,N="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},D={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function $(t){for(var e in D)if(D[e].id===t)return{firebaseEndpoint:(t=D[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function P(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function O(t){if(Error.captureStackTrace)Error.captureStackTrace(this,O);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function M(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");O.call(this,n+t[r])}function L(t,e){throw new M("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function R(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function j(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function F(){this.b=this.a=null}C=$("__EID__")?"__EID__":void 0,T(O,Error),O.prototype.name="CustomError",T(M,O),M.prototype.name="AssertionError",R.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var H=new R((function(){return new z}),(function(t){t.reset()}));function V(){var t=ye,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function z(){this.next=this.b=this.a=null}F.prototype.add=function(t,e){var n=H.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},z.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},z.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},B=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var W=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"===typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},q=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function K(t,e){return 0<=U(t,e)}function Y(t,e){var n;return(n=0<=(e=U(t,e)))&&Array.prototype.splice.call(t,e,1),n}function J(t,e){!function(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function X(t){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,at=/\x00/g,st=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function lt(t,e){return t<e?-1:t>e?1:0}t:{var ct=s.navigator;if(ct){var ht=ct.userAgent;if(ht){Z=ht;break t}}Z=""}function ft(t){return ut(Z,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function gt(t){var e,n={};for(e in t)n[e]=t[e];return n}var vt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _t(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<vt.length;o++)n=vt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function yt(t,e){this.a=t===St&&e||"",this.b=kt}function bt(t){return t instanceof yt&&t.constructor===yt&&t.b===kt?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.sa=!0,yt.prototype.ra=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt,kt={},St={};function Tt(){if(void 0===wt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(n){s.console&&s.console.error(n.message)}wt=t}else wt=t}return wt}function Et(t,e){this.a=e===At?t:""}function xt(t){return t instanceof Et&&t.constructor===Et?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function It(t,e){var n=bt(t);if(!Nt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Tt();return new Et(t=e?e.createScriptURL(t):t,At)}(t=n.replace(Ct,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof yt?bt(t):encodeURIComponent(String(t))})))}Et.prototype.sa=!0,Et.prototype.ra=function(){return this.a.toString()},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ct=/%{(\w+)}/g,Nt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={};function Dt(t,e){this.a=e===jt?t:""}function $t(t){return t instanceof Dt&&t.constructor===Dt?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Dt.prototype.sa=!0,Dt.prototype.ra=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Ot=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Mt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Lt(t){if(t instanceof Dt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Mt.test(t))t=new Dt(t,jt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Ot);t=e&&Pt.test(e[1])?new Dt(t,jt):null}return t}function Rt(t){return t instanceof Dt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Mt.test(t)||(t="about:invalid#zClosurez"),new Dt(t,jt))}var jt={},Ft=new Dt("about:invalid#zClosurez",jt);function Ht(t,e,n){this.a=n===Vt?t:""}Ht.prototype.sa=!0,Ht.prototype.ra=function(){return this.a.toString()},Ht.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Vt={};function zt(t,e,n,r){return t=t instanceof Dt?t:Rt(t),e=e||s,n=n instanceof yt?bt(n):n||"",e.open($t(t),n,r,void 0)}function Ut(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Bt(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(at,"&#0;"))),t}function Wt(t){return Wt[" "](t),t}Wt[" "]=h;var qt,Gt=ft("Opera"),Kt=ft("Trident")||ft("MSIE"),Yt=ft("Edge"),Jt=Yt||Kt,Xt=ft("Gecko")&&!(ut(Z.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),Qt=ut(Z.toLowerCase(),"webkit")&&!ft("Edge");function Zt(){var t=s.document;return t?t.documentMode:void 0}t:{var te="",ee=function(){var t=Z;return Xt?/rv:([^\);]+)(\)|;)/.exec(t):Yt?/Edge\/([\d\.]+)/.exec(t):Kt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Qt?/WebKit\/(\S+)/.exec(t):Gt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(ee&&(te=ee?ee[1]:""),Kt){var ne=Zt();if(null!=ne&&ne>parseFloat(te)){qt=String(ne);break t}}qt=te}var re,ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=tt(String(qt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=lt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||lt(0==a[2].length,0==s[2].length)||lt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(s.document&&Kt){var ae=Zt();re=ae||(parseInt(qt,10)||void 0)}else re=void 0;var se=re;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(ga){}var ue=!Kt||9<=Number(se);function le(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function ce(t,e){dt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var he,fe,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function pe(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||g(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(g(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){a="function"==typeof o.item;break t}}a=!1}B(a?Q(o):o,r)}}}function ge(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ve(t){s.setTimeout((function(){throw t}),0)}function _e(t,e){fe||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);fe=function(){t.then(be)}}else fe=function(){var t=be;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!ft("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(he||(he=function(){var t=s.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t=ge(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!ft("Trident")&&!ft("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),he(t)):s.setImmediate(t)}}(),me||(fe(),me=!0),ye.add(t,e)}var me=!1,ye=new F;function be(){for(var t;t=V();){try{t.a.call(t.b)}catch(e){ve(e)}j(H,t)}me=!1}function we(t,e){if(this.a=ke,this.h=void 0,this.f=this.b=this.c=null,this.g=this.i=!1,t!=h)try{var n=this;t.call(e,(function(t){Fe(n,Se,t)}),(function(t){if(!(t instanceof qe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(Qg){}Fe(n,Ee,t)}))}catch(r){Fe(this,Ee,r)}}var ke=0,Se=2,Ee=3;function xe(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}xe.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ce=new R((function(){return new xe}),(function(t){t.reset()}));function Ne(t,e,n){var r=Ce.get();return r.g=t,r.b=e,r.f=n,r}function Ae(t){if(t instanceof we)return t;var e=new we(h);return Fe(e,Se,t),e}function De(t){return new we((function(e,n){n(t)}))}function $e(t,e,n){He(t,e,n,null)||_e(k(e,t))}function Oe(t){return new we((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)$e(t[o],k(i,o,!0),k(i,o,!1));else e(r)}))}function Me(t,e){if(t.a==ke)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==ke&&1==r?Me(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):ze(n),Ue(n,i,Ee,e)))}t.c=null}else Fe(t,Ee,e)}function Le(t,e){t.b||t.a!=Se&&t.a!=Ee||Ve(t),t.f?t.f.next=e:t.b=e,t.f=e}function Re(t,e,n,r){var i=Ne(null,null,null);return i.a=new we((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(je){o(je)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof qe?o(e):t(i)}catch(je){o(je)}}:o})),i.a.c=t,Le(t,i),i.a}function Fe(t,e,n){t.a==ke&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,He(n,t.Zc,t.$c,t)||(t.h=n,t.a=e,t.c=null,Ve(t),e!=Ee||n instanceof qe||function(t,e){t.g=!0,_e((function(){t.g&&We.call(null,e)}))}(t,n)))}function He(t,e,n,r){if(t instanceof we)return Le(t,Ne(e||h,n||null,r)),!0;if(P(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(Pe){o(Pe)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Ve(t){t.i||(t.i=!0,_e(t.fc,t))}function ze(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ue(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Be(e,n,r);else try{e.c?e.g.call(e.f):Be(e,n,r)}catch(Qg){We.call(null,Qg)}j(Ce,e)}function Be(t,e,n){e==Se?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}we.prototype.then=function(t,e,n){return Re(this,p(t)?t:null,p(e)?e:null,n)},we.prototype.$goog_Thenable=!0,(t=we.prototype).na=function(t,e){return(t=Ne(t,t,e)).c=!0,Le(this,t),this},t.o=function(t,e){return Re(this,null,t,e)},t.cancel=function(t){if(this.a==ke){var e=new qe(t);_e((function(){Me(this,e)}),this)}},t.Zc=function(t){this.a=ke,Fe(this,Se,t)},t.$c=function(t){this.a=ke,Fe(this,Ee,t)},t.fc=function(){for(var t;t=ze(this);)Ue(this,t,this.a,this.h);this.i=!1};var We=ve;function qe(t){O.call(this,t)}function Ge(){0!=Ke&&(Ye[v(this)]=this),this.xa=this.xa,this.oa=this.oa}T(qe,O),qe.prototype.name="cancel";var Ke=0,Ye={};function Je(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=Ke)){var e=v(t);if(0!=Ke&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ye[e]}}Ge.prototype.xa=!1,Ge.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Xe=Object.freeze||function(t){return t},Qe=!Kt||9<=Number(se),Ze=Kt&&!oe("9"),tn=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",h,e),s.removeEventListener("test",h,e)}catch(n){}return t}();function en(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function nn(t,e){if(en.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{Wt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:rn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}en.prototype.preventDefault=function(){this.defaultPrevented=!0},T(nn,en);var rn=Xe({2:"touch",3:"pen",4:"mouse"});nn.prototype.preventDefault=function(){nn.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ze)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},nn.prototype.g=function(){return this.a};var on="closure_listenable_"+(1e6*Math.random()|0),an=0;function sn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++an,this.va=this.Oa=!1}function un(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function ln(t){this.src=t,this.a={},this.b=0}function cn(t,e){var n=e.type;n in t.a&&Y(t.a[n],e)&&(un(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function hn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}ln.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=hn(t,e,r,i);return-1<a?(e=t[a],n||(e.Oa=!1)):((e=new sn(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var fn="closure_lm_"+(1e6*Math.random()|0),dn={};function pn(t,e,n,r,i){if(r&&r.once)vn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)pn(t,e[o],n,r,i);else n=En(n),t&&t[on]?In(t,e,n,g(r)?!!r.capture:!!r,i):gn(t,e,n,!1,r,i)}function gn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,s=Sn(t);if(s||(t[fn]=s=new ln(t)),!(n=s.add(e,n,r,a,o)).proxy){if(r=function(){var t=kn,e=Qe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)tn||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function vn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)vn(t,e[o],n,r,i);else n=En(n),t&&t[on]?Cn(t,e,n,g(r)?!!r.capture:!!r,i):gn(t,e,n,!0,r,i)}function _n(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)_n(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=En(n),t&&t[on]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=hn(o=t.a[e],n,r,i))&&(un(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Sn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=hn(e,n,r,i)),(n=-1<t?e[t]:null)&&mn(n))}function mn(t){if("number"!==typeof t&&t&&!t.va){var e=t.src;if(e&&e[on])cn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Sn(e))?(cn(n,t),0==n.b&&(n.src=null,e[fn]=null)):un(t)}}}function yn(t){return t in dn?dn[t]:dn[t]="on"+t}function bn(t,e,n,r){var i=!0;if((t=Sn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=wn(o,r),i=i&&!1!==o)}return i}function wn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&mn(t),n.call(r,e)}function kn(t,e){if(t.va)return!0;if(!Qe){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new nn(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=bn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=bn(r[i],t,!1,e),n=n&&o}return n}return wn(t,new nn(e,this))}function Sn(t){return(t=t[fn])instanceof ln?t:null}var Tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(t){return p(t)?t:(t[Tn]||(t[Tn]=function(e){return t.handleEvent(e)}),t[Tn])}function xn(){Ge.call(this),this.v=new ln(this),this.$b=this,this.fb=null}function In(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Cn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Nn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Ua||a.src;a.Oa&&cn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function An(t,e,n){if(p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Dn(t){var e=null;return new we((function(n,r){-1==(e=An((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function $n(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"===typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Pn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(d(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function On(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof On)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Mn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ln(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ln(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ln(t,e){return Object.prototype.hasOwnProperty.call(t,e)}T(xn,Ge),xn.prototype[on]=!0,xn.prototype.addEventListener=function(t,e,n,r){pn(this,t,e,n,r)},xn.prototype.removeEventListener=function(t,e,n,r){_n(this,t,e,n,r)},xn.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"===typeof t)t=new en(t,n);else if(t instanceof en)t.target=t.target||n;else{var i=t;_t(t=new en(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=Nn(a,r,!0,t)&&i}if(i=Nn(a=t.b=n,r,!0,t)&&i,i=Nn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Nn(a=t.b=e[o],r,!1,t)&&i;return i},xn.prototype.Da=function(){if(xn.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)un(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=On.prototype).V=function(){Mn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Mn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Ln(this.b,t)?this.b[t]:e},t.set=function(t,e){Ln(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jn(t,e){var n;this.a=this.l=this.f="",this.g=null,this.i=this.c="",this.h=!1,t instanceof jn?(this.h=void 0!==e?e:t.h,Fn(this,t.f),this.l=t.l,this.a=t.a,Hn(this,t.g),this.c=t.c,Vn(this,ar(t.b)),this.i=t.i):t&&(n=String(t).match(Rn))?(this.h=!!e,Fn(this,n[1]||"",!0),this.l=qn(n[2]||""),this.a=qn(n[3]||"",!0),Hn(this,n[4]),this.c=qn(n[5]||"",!0),Vn(this,n[6]||"",!0),this.i=qn(n[7]||"")):(this.h=!!e,this.b=new tr(null,this.h))}function Fn(t,e,n){t.f=n?qn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Hn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Vn(t,e,n){e instanceof tr?(t.b=e,function(t,e){e&&!t.f&&(er(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(rr(this,e),or(this,n,t))}),t)),t.f=e}(t.b,t.h)):(n||(e=Gn(e,Qn)),t.b=new tr(e,t.h))}function zn(t,e,n){t.b.set(e,n)}function Un(t,e){return t.b.get(e)}function Bn(t){return t instanceof jn?new jn(t):new jn(t,void 0)}function Wn(t,e,n,r){var i=new jn(null,void 0);return t&&Fn(i,t),e&&(i.a=e),n&&Hn(i,n),r&&(i.c=r),i}function qn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Gn(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Kn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Kn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}jn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Gn(e,Yn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Gn(e,Yn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Gn(n,"/"==n.charAt(0)?Xn:Jn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Gn(n,Zn)),t.join("")},jn.prototype.resolve=function(t){var e=new jn(this),n=!!t.f;n?Fn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Hn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ut(i,"./")||ut(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?Vn(e,ar(t.b)):n=!!t.i,n&&(e.i=t.i),e};var Yn=/[#\/\?@]/g,Jn=/[#\?:]/g,Xn=/[#\?]/g,Qn=/[#\?@]/g,Zn=/#/g;function tr(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function er(t){t.a||(t.a=new On,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function nr(t){var e=Pn(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new tr(null,void 0);t=$n(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?or(n,i,o):n.add(i,o)}return n}function rr(t,e){er(t),e=sr(t,e),Ln(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ln((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Mn(t)))}function ir(t,e){return er(t),e=sr(t,e),Ln(t.a.b,e)}function or(t,e,n){rr(t,e),0<n.length&&(t.c=null,t.a.set(sr(t,e),Q(n)),t.b+=n.length)}function ar(t){var e=new tr;return e.c=t.c,t.a&&(e.a=new On(t.a),e.b=t.b),e}function sr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function ur(t){var e=[];return cr(new lr,t,e),e.join("")}function lr(){}function cr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),cr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),dr(r,n),n.push(":"),cr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":dr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=tr.prototype).add=function(t,e){er(this),this.c=null,t=sr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){er(this),this.a.forEach((function(n,r){B(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){er(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){er(this);var e=[];if("string"===typeof t)ir(this,t)&&(e=X(e,this.a.get(sr(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=X(e,t[n])}return e},t.set=function(t,e){return er(this),this.c=null,ir(this,t=sr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var hr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},fr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function dr(t,e){e.push('"',t.replace(fr,(function(t){var e=hr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),hr[t]=e),e})),'"')}function pr(){var t=Or();return Kt&&!!se&&11==se||/Edge\/\d+/.test(t)}function gr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function vr(t,e){e=e||s.window;var n="about:blank";t&&(n=$t(Lt(t)||Ft)),e.location.href=n}function _r(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<_r(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function mr(t){return!!((t=(t||Or()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function yr(t){t=t||s.window;try{t.close()}catch(e){}}function br(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Or().toLowerCase(),r&&(e.target=r,ut(n,"crios/")&&(e.target="_blank")),Dr(Or())==Nr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Dt?n:Lt("undefined"!=typeof n.href?n.href:String(n))||Ft,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(mt(a=ge(document,"A"),"HTMLAnchorElement"),e=e instanceof Dt?e:Rt(e),a.href=$t(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=zt("",r,n,a),t=$t(e),a&&(Jt&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Bt(t)+'">',t=new Ht(t=(r=Tt())?r.createHTML(t):t,null,Vt),r=a.document)&&(r.write(function(t){return t instanceof Ht&&t.constructor===Ht?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(a=zt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(Ie){}return a}var wr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kr=/^[^@]+@[^@]+$/;function Sr(){var t=null;return new we((function(e){"complete"==s.document.readyState?e():(t=function(){e()},vn(window,"load",t))})).o((function(e){throw _n(window,"load",t),e}))}function Tr(t){return t=t||Or(),!("file:"!==Fr()&&"ionic:"!==Fr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Er(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function xr(){return"undefined"!==typeof s.WorkerGlobalScope&&"function"===typeof s.importScripts}function Ir(){return Te.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Te.INTERNAL.hasOwnProperty("node")?"Node":xr()?"Worker":"Browser"}function Cr(){var t=Ir();return"ReactNative"===t||"Node"===t}var Nr="Firefox",Ar="Chrome";function Dr(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?Nr:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Ar:"Safari"}var $r={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Pr(t,e){e=e||[];var n,r=[],i={};for(n in $r)i[$r[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Ir())?r=Dr(i=Or()):"Worker"===r&&(r=Dr(i=Or())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Or(){return s.navigator&&s.navigator.userAgent||""}function Mr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Lr(){try{var t=s.localStorage,e=Br();if(t)return t.setItem(e,"1"),t.removeItem(e),!pr()||!!s.indexedDB}catch(n){return xr()&&!!s.indexedDB}return!1}function Rr(){return(jr()||"chrome-extension:"===Fr()||Tr())&&!Cr()&&Lr()&&!xr()}function jr(){return"http:"===Fr()||"https:"===Fr()}function Fr(){return s.location&&s.location.protocol||null}function Hr(t){return!mr(t=t||Or())&&Dr(t)!=Nr}function Vr(t){return"undefined"===typeof t?null:ur(t)}function zr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Ur(t){if(null!==t)return JSON.parse(t)}function Br(t){return t||Math.floor(1e9*Math.random()).toString()}function Wr(t){return"Safari"!=Dr(t=t||Or())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function qr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Gr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Or(),e=Ir(),this.b=mr(t)||"ReactNative"===e}function Kr(){var t=s.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function Yr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Jr(){return!(!Mr("fireauth.oauthhelper",s)&&!Mr("fireauth.iframe",s))}Gr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!==typeof t.onLine||!jr()&&"chrome-extension:"!==Fr()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Xr,Qr={};function Zr(t){Qr[t]||(Qr[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var ti={};Object.defineProperty(ti,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(ti,"abcd",{configurable:!0,enumerable:!0,value:2}),Xr=2==ti.abcd}catch(ga){Xr=!1}function ei(t,e,n){Xr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function ni(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&ei(t,n,e[n])}function ri(t){var e={};return ni(e,t),e}function ii(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)ei(e,n,ii(t[n]));return e}function oi(t){var e=t&&(t[ci]?"phone":null);if(!(e&&t&&t[li]))throw new x("internal-error","Internal assert: invalid MultiFactorInfo object");ei(this,"uid",t[li]),ei(this,"displayName",t[si]||null);var n=null;t[ui]&&(n=new Date(t[ui]).toUTCString()),ei(this,"enrollmentTime",n),ei(this,"factorId",e)}function ai(t){try{var e=new hi(t)}catch(n){e=null}return e}oi.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var si="displayName",ui="enrolledAt",li="mfaEnrollmentId",ci="phoneInfo";function hi(t){oi.call(this,t),ei(this,"phoneNumber",t[ci])}function fi(t){var e={},n=t[vi],r=t[mi],i=t[yi];if(t=ai(t[_i]),!i||i!=pi&&i!=gi&&!n||i==gi&&!r||i==di&&!t)throw Error("Invalid checkActionCode response!");i==gi?(e[wi]=n||null,e[Si]=n||null,e[bi]=r):(e[wi]=r||null,e[Si]=r||null,e[bi]=n||null),e[ki]=t||null,ei(this,Ei,i),ei(this,Ti,ii(e))}T(hi,oi),hi.prototype.w=function(){var t=hi.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var di="REVERT_SECOND_FACTOR_ADDITION",pi="EMAIL_SIGNIN",gi="VERIFY_AND_CHANGE_EMAIL",vi="email",_i="mfaInfo",mi="newEmail",yi="requestType",bi="email",wi="fromEmail",ki="multiFactorInfo",Si="previousEmail",Ti="data",Ei="operation";function xi(t){var e=Un(t=Bn(t),Ii)||null,n=Un(t,Ci)||null,r=Un(t,Di)||null;if(r=r&&Pi[r]||null,!e||!n||!r)throw new x("argument-error",Ii+", "+Ci+"and "+Di+" are required in a valid action code URL.");ni(this,{apiKey:e,operation:r,code:n,continueUrl:Un(t,Ni)||null,languageCode:Un(t,Ai)||null,tenantId:Un(t,$i)||null})}var Ii="apiKey",Ci="oobCode",Ni="continueUrl",Ai="languageCode",Di="mode",$i="tenantId",Pi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:di,signIn:pi,verifyAndChangeEmail:gi,verifyEmail:"VERIFY_EMAIL"};function Oi(t){try{return new xi(t)}catch(e){return null}}function Mi(t){var e=t[Hi];if("undefined"===typeof e)throw new x("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new x("invalid-continue-uri");this.i=e,this.b=this.a=null,this.g=!1;var n=t[Li];if(n&&"object"===typeof n){e=n[Ui];var r=n[Vi];if(n=n[zi],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new x("argument-error",Vi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new x("argument-error",zi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new x("argument-error",Ui+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new x("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new x("argument-error",Li+" property must be a non null object when specified.");if(this.f=null,(e=t[Fi])&&"object"===typeof e){if("string"===typeof(e=e[Bi])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new x("argument-error",Bi+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new x("argument-error",Fi+" property must be a non null object when specified.");if("undefined"!==typeof(e=t[ji])&&"boolean"!==typeof e)throw new x("argument-error",ji+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!==typeof(t=t[Ri])&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new x("argument-error",Ri+" property must be a non empty string when specified.");this.h=t||null}var Li="android",Ri="dynamicLinkDomain",ji="handleCodeInApp",Fi="iOS",Hi="url",Vi="installApp",zi="minimumVersion",Ui="packageName",Bi="bundleId";function Wi(t){var e={};for(var n in e.continueUrl=t.i,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.h,e)null===e[n]&&delete e[n];return e}var qi=null;function Gi(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=qi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!qi){qi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===qi[o]&&(qi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function Ki(t){var e=Ji(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.i=t,this.a=e.exp,this.h=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Yi(t){try{return new Ki(t)}catch(e){return null}}function Ji(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Gi(t))}catch(r){}return null}Ki.prototype.S=function(){return this.f},Ki.prototype.l=function(){return this.c},Ki.prototype.toString=function(){return this.i};var Xi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Qi=["client_id","response_type","scope","redirect_uri","state"],Zi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Qi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Qi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Qi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Xi},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function to(t){for(var e in Zi)if(Zi[e].fa==t)return Zi[e];return null}function eo(t){var e={};e["facebook.com"]=ao,e["google.com"]=uo,e["github.com"]=so,e["twitter.com"]=lo;var n=t&&t[ro];try{if(n)return e[n]?new e[n](t):new oo(t);if("undefined"!==typeof t[no])return new io(t)}catch(r){}return null}var no="idToken",ro="providerId";function io(t){var e=t[ro];if(!e&&t[no]){var n=Yi(t[no]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),ei(this,"providerId",e),ei(this,"isNewUser",n)}function oo(t){io.call(this,t),ei(this,"profile",ii((t=Ur(t.rawUserInfo||"{}"))||{}))}function ao(t){if(oo.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function so(t){if(oo.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");ei(this,"username",this.profile&&this.profile.login||null)}function uo(t){if(oo.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function lo(t){if(oo.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");ei(this,"username",t.screenName||null)}function co(t){var e=Bn(t),n=Un(e,"link"),r=Un(Bn(n),"link");return e=Un(e,"deep_link_id"),Un(Bn(e),"link")||e||r||n||t}function ho(t,e){if(!t&&!e)throw new x("internal-error","Internal assert: no raw session string available");if(t&&e)throw new x("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?fo:po}T(oo,io),T(ao,oo),T(so,oo),T(uo,oo),T(lo,oo);var fo="enroll",po="signin";function go(){}function vo(t,e){return t.then((function(t){if(t[os]){var n=Yi(t[os]);if(!n||e!=n.h)throw new x("user-mismatch");return t}throw new x("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==N+"user-not-found"?new x("user-mismatch"):t}))}function _o(t,e){if(!e)throw new x("internal-error","failed to construct a credential");this.a=e,ei(this,"providerId",t),ei(this,"signInMethod",t)}function mo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function yo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new _o(t.providerId,t.pendingToken)}catch(e){}return null}function bo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&ei(this,"idToken",e.idToken),e.accessToken&&ei(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&ei(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new x("internal-error","failed to construct a credential");ei(this,"accessToken",e.oauthToken),ei(this,"secret",e.oauthTokenSecret)}ei(this,"providerId",t),ei(this,"signInMethod",n)}function wo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:nr(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function ko(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new bo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function So(t,e){this.Pc=e||[],ni(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(to(t)||{}).Ja||null,this.nb=null}function To(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new x("argument-error",'SAML provider IDs must be prefixed with "saml."');So.call(this,t,[])}function Eo(t){So.call(this,t,Qi),this.a=[]}function xo(){Eo.call(this,"facebook.com")}function Io(t){if(!t)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new xo).credential({accessToken:e})}function Co(){Eo.call(this,"github.com")}function No(t){if(!t)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new Co).credential({accessToken:e})}function Ao(){Eo.call(this,"google.com"),this.Ca("profile")}function Do(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new Ao).credential({idToken:n,accessToken:e})}function $o(){So.call(this,"twitter.com",Xi)}function Po(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new x("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new bo("twitter.com",n,"twitter.com")}function Oo(t,e,n){this.a=t,this.f=e,ei(this,"providerId","password"),ei(this,"signInMethod",n===Lo.EMAIL_LINK_SIGN_IN_METHOD?Lo.EMAIL_LINK_SIGN_IN_METHOD:Lo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Mo(t){return t&&t.email&&t.password?new Oo(t.email,t.password,t.signInMethod):null}function Lo(){ni(this,{providerId:"password",isOAuthProvider:!1})}function Ro(t,e){if(!(e=jo(e)))throw new x("argument-error","Invalid email link!");return new Oo(t,e.code,Lo.EMAIL_LINK_SIGN_IN_METHOD)}function jo(t){return(t=Oi(t=co(t)))&&t.operation===pi?t:null}function Fo(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new x("internal-error");this.a=t,ei(this,"providerId","phone"),this.fa="phone",ei(this,"signInMethod","phone")}function Ho(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Fo(e)}return null}function Vo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function zo(t){try{this.a=t||Te.auth()}catch(e){throw new x("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ni(this,{providerId:"phone",isOAuthProvider:!1})}function Uo(t,e){if(!t)throw new x("missing-verification-id");if(!e)throw new x("missing-verification-code");return new Fo({cb:t,bb:e})}function Bo(t){if(t.temporaryProof&&t.phoneNumber)return new Fo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Do(o,n);case"facebook.com":return Io(n);case"github.com":return No(n);case"twitter.com":return Po(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new _o(e,a):new bo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Eo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(Ie){return null}}function Wo(t){if(!t.isOAuthProvider)throw new x("invalid-oauth-provider")}function qo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.h=o||null,this.i=a||null,this.a=i||null,!this.g&&!this.a)throw new x("invalid-auth-event");if(this.g&&this.a)throw new x("invalid-auth-event");if(this.g&&!this.f)throw new x("invalid-auth-event")}function Go(t){return(t=t||{}).type?new qo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&I(t.error),t.postBody,t.tenantId):null}function Ko(){this.b=null,this.a=[]}ho.prototype.Ha=function(){return this.a?Ae(this.a):Ae(this.b)},ho.prototype.w=function(){return this.type==fo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},go.prototype.ja=function(){},go.prototype.b=function(){},go.prototype.c=function(){},go.prototype.w=function(){},_o.prototype.ja=function(t){return Is(t,mo(this))},_o.prototype.b=function(t,e){var n=mo(this);return n.idToken=e,Cs(t,n)},_o.prototype.c=function(t,e){return vo(Ns(t,mo(this)),e)},_o.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},bo.prototype.ja=function(t){return Is(t,wo(this))},bo.prototype.b=function(t,e){var n=wo(this);return n.idToken=e,Cs(t,n)},bo.prototype.c=function(t,e){return vo(Ns(t,wo(this)),e)},bo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},So.prototype.Ka=function(t){return this.Hb=gt(t),this},T(To,So),T(Eo,So),Eo.prototype.Ca=function(t){return K(this.a,t)||this.a.push(t),this},Eo.prototype.Pb=function(){return Q(this.a)},Eo.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new x("argument-error","credential failed: must provide the ID token and/or the access token.");return new bo(this.providerId,n,this.providerId)},T(xo,Eo),ei(xo,"PROVIDER_ID","facebook.com"),ei(xo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(Co,Eo),ei(Co,"PROVIDER_ID","github.com"),ei(Co,"GITHUB_SIGN_IN_METHOD","github.com"),T(Ao,Eo),ei(Ao,"PROVIDER_ID","google.com"),ei(Ao,"GOOGLE_SIGN_IN_METHOD","google.com"),T($o,So),ei($o,"PROVIDER_ID","twitter.com"),ei($o,"TWITTER_SIGN_IN_METHOD","twitter.com"),Oo.prototype.ja=function(t){return this.signInMethod==Lo.EMAIL_LINK_SIGN_IN_METHOD?cu(t,Rs,{email:this.a,oobCode:this.f}):cu(t,ou,{email:this.a,password:this.f})},Oo.prototype.b=function(t,e){return this.signInMethod==Lo.EMAIL_LINK_SIGN_IN_METHOD?cu(t,js,{idToken:e,email:this.a,oobCode:this.f}):cu(t,Xs,{idToken:e,email:this.a,password:this.f})},Oo.prototype.c=function(t,e){return vo(this.ja(t),e)},Oo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ni(Lo,{PROVIDER_ID:"password"}),ni(Lo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ni(Lo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Fo.prototype.ja=function(t){return t.eb(Vo(this))},Fo.prototype.b=function(t,e){var n=Vo(this);return n.idToken=e,cu(t,su,n)},Fo.prototype.c=function(t,e){var n=Vo(this);return n.operation="REAUTH",vo(t=cu(t,uu,n),e)},Fo.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},zo.prototype.eb=function(t,e){var n=this.a.a;return Ae(e.verify()).then((function(r){if("string"!==typeof r)throw new x("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===e.type){var i,o=g(t)?t.session:null,a=g(t)?t.phoneNumber:t;return i=o&&o.type==fo?o.Ha().then((function(t){return function(t,e){return cu(t,Zs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==po?o.Ha().then((function(e){return function(t,e){return cu(t,tu,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return cu(t,Ys,e)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}))}throw new x("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},ni(zo,{PROVIDER_ID:"phone"}),ni(zo,{PHONE_SIGN_IN_METHOD:"phone"}),qo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.i&&t.push(this.i),t.join("-")},qo.prototype.S=function(){return this.i},qo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.h,tenantId:this.i,error:this.a&&this.a.w()}};var Yo,Jo=null;function Xo(t){var e="unauthorized-domain",n=void 0,r=Bn(t);t=r.a,"chrome-extension"==(r=r.f)?n=Ut("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ut("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",x.call(this,e,n)}function Qo(t,e,n){x.call(this,t,n),(t=e||{}).Ib&&ei(this,"email",t.Ib),t.ea&&ei(this,"phoneNumber",t.ea),t.credential&&ei(this,"credential",t.credential),t.Yb&&ei(this,"tenantId",t.Yb)}function Zo(t){if(t.code){var e=t.code||"";0==e.indexOf(N)&&(e=e.substring(N.length));var n={credential:Bo(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new x(e,t.message||void 0);return new Qo(e,n,t.message)}return null}function ta(){}function ea(t){return t.c||(t.c=t.b())}function na(){}function ra(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(Qg){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function ia(){}function oa(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.pc,this),this.a.onerror=w(this.Rb,this),this.a.onprogress=w(this.qc,this),this.a.ontimeout=w(this.uc,this)}function aa(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function sa(t,e,n){this.reset(t,e,n,void 0,void 0)}T(Xo,x),T(Qo,x),Qo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&_t(t,e),t},Qo.prototype.toJSON=function(){return this.w()},ta.prototype.c=null,T(na,ta),na.prototype.a=function(){var t=ra(this);return t?new ActiveXObject(t):new XMLHttpRequest},na.prototype.b=function(){var t={};return ra(this)&&(t[0]=!0,t[1]=!0),t},Yo=new na,T(ia,ta),ia.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new oa;throw Error("Unsupported browser")},ia.prototype.b=function(){return{}},(t=oa.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,aa(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",aa(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,aa(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},sa.prototype.a=null;function ua(t){this.f=t,this.b=this.c=this.a=null}function la(t,e){this.name=t,this.value=e}sa.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||S(),delete this.a},la.prototype.toString=function(){return this.name};var ca=new la("SEVERE",1e3),ha=new la("WARNING",900),fa=new la("CONFIG",700),da=new la("FINE",500);function pa(t){return t.c?t.c:t.a?pa(t.a):(L("Root logger has no level set."),null)}ua.prototype.log=function(t,e,n){if(t.value>=pa(this).value)for(p(e)&&(e=e()),t=new sa(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ga,va={},_a=null;function ma(t){var e;if(_a||(_a=new ua(""),va[""]=_a,_a.c=fa),!(e=va[t])){e=new ua(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ma(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,va[t]=e}return e}function ya(t,e){t&&t.log(da,e,void 0)}function ba(t){this.f=t}function wa(t){xn.call(this),this.u=t,this.i=void 0,this.readyState=ka,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.h=ma("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}T(ba,ta),ba.prototype.a=function(){return new wa(this.f)},ba.prototype.b=(ga={},function(){return ga}),T(wa,xn);var ka=0;function Sa(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function Ta(t){t.readyState=4,t.g=null,t.c=null,t.m=null,Ea(t)}function Ea(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function xa(t){xn.call(this),this.headers=new On,this.O=t||null,this.c=!1,this.A=this.a=null,this.i=this.P=this.l="",this.f=this.N=this.h=this.G=!1,this.g=0,this.s=null,this.m=Ia,this.u=this.R=!1}(t=wa.prototype).open=function(t,e){if(this.readyState!=ka)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,Ea(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.i,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ta(this)),this.readyState=ka},t.tc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,Ea(this)),this.a&&(this.readyState=3,Ea(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):"undefined"!==typeof s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,Sa(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Ta(this):Ea(this),3==this.readyState&&Sa(this)}},t.sc=function(t){this.a&&(this.response=this.responseText=t,Ta(this))},t.rc=function(t){this.a&&(this.response=t,Ta(this))},t.Ta=function(t){var e=this.h;e&&e.log(ha,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&Ta(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(ha,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(ha,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(wa.prototype,"withCredentials",{get:function(){return"include"===this.i},set:function(t){this.i=t?"include":"same-origin"}}),T(xa,xn);var Ia="";xa.prototype.b=ma("goog.net.XhrIo");var Ca=/^https?$/i,Na=["POST","PUT"];function Aa(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.i="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():Yo.a(),t.A=t.O?ea(t.O):ea(Yo),t.a.onreadystatechange=w(t.Ub,t);try{ya(t.b,Fa(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(a){return ya(t.b,Fa(t,"Error opening Xhr: "+a.message)),void $a(t,a)}e=r||"";var o=new On(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"===typeof t)B(t,e,void 0);else for(var n=Pn(t),r=$n(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Da,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!K(Na,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{La(t),0<t.g&&(t.u=function(t){return Kt&&oe(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(t.a),ya(t.b,Fa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.s=An(t.Ma,t.g,t)),ya(t.b,Fa(t,"Sending request")),t.h=!0,t.a.send(e),t.h=!1}catch(a){ya(t.b,Fa(t,"Send error: "+a.message)),$a(t,a)}}function Da(t){return"content-type"==t.toLowerCase()}function $a(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.i=e,Pa(t),Ma(t)}function Pa(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Oa(t){if(t.c&&"undefined"!=typeof a)if(t.A[1]&&4==Ra(t)&&2==ja(t))ya(t.b,Fa(t,"Local request error detected and ignored"));else if(t.h&&4==Ra(t))An(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==Ra(t)){ya(t.b,Fa(t,"Request complete")),t.c=!1;try{var e,n=ja(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Rn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Ca.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var l=2<Ra(t)?t.a.statusText:""}catch(Pe){ya(t.b,"Can not get status: "+Pe.message),l=""}t.i=l+" ["+ja(t)+"]",Pa(t)}}finally{Ma(t)}}}function Ma(t,e){if(t.a){La(t);var n=t.a,r=t.A[0]?h:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(Qg){(t=t.b)&&t.log(ca,"Problem encountered resetting onreadystatechange: "+Qg.message,void 0)}}}function La(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Ra(t){return t.a?t.a.readyState:0}function ja(t){try{return 2<Ra(t)?t.a.status:-1}catch(e){return-1}}function Fa(t,e){return e+" ["+t.P+" "+t.l+" "+ja(t)+"]"}function Ha(t){var e=Xa;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.h=!1,this.i=0,this.b=null,this.l=0}function Va(t,e,n){t.a=!0,t.c=n,t.f=!e,Wa(t)}function za(t){if(t.a){if(!t.m)throw new qa(t);t.m=!1}}function Ua(t,e,n,r){t.g.push([e,n,r]),t.a&&Wa(t)}function Ba(t){return G(t.g,(function(t){return p(t[1])}))}function Wa(t){if(t.i&&t.a&&Ba(t)){var e=t.i,n=Ya[e];n&&(s.clearTimeout(n.a),delete Ya[e]),t.i=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.h;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(P(e)||"function"===typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.h=!0)}catch(Pe){e=Pe,t.f=!0,Ba(t)||(n=!0)}}t.c=e,r&&(u=w(t.v,t,!0),r=w(t.v,t,!1),e instanceof Ha?(Ua(e,u,r),e.A=!0):e.then(u,r)),n&&(e=new Ka(e),Ya[e.a]=e,t.i=e.a)}function qa(){O.call(this)}function Ga(){O.call(this)}function Ka(t){this.a=s.setTimeout(w(this.c,this),0),this.b=t}(t=xa.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.i="Timed out after "+this.g+"ms, aborting",ya(this.b,Fa(this,this.i)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ya(this.b,Fa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ma(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ma(this,!0)),xa.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.h||this.f?Oa(this):this.Ic())},t.Ic=function(){Oa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ia:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ca,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ya(this.b,"Can not get response: "+e.message),null}},Ha.prototype.cancel=function(t){if(this.a)this.c instanceof Ha&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.m=!0,this.a||(t=new Ga(this),za(this),Va(this,!1,t))}},Ha.prototype.v=function(t,e){this.h=!1,Va(this,t,e)},Ha.prototype.then=function(t,e,n){var r,i,o=new we((function(t,e){r=t,i=e}));return Ua(this,r,(function(t){t instanceof Ga?o.cancel():i(t)})),o.then(t,e,n)},Ha.prototype.$goog_Thenable=!0,T(qa,O),qa.prototype.message="Deferred has already fired",qa.prototype.name="AlreadyCalledError",T(Ga,O),Ga.prototype.message="Deferred was canceled",Ga.prototype.name="CanceledError",Ka.prototype.c=function(){throw delete Ya[this.a],this.b};var Ya={};function Ja(t){var e={},n=e.document||document,r=xt(t).toString(),i=ge(document,"SCRIPT"),o={Vb:i,Ma:void 0},a=new Ha(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){Qa(i,!0);var t=new es(ts,"Timeout reached for loading script "+r);za(a),Va(a,!1,t)}),h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Qa(i,e.wd||!1,u),za(a),Va(a,!0,null))},i.onerror=function(){Qa(i,!0,u);var t=new es(Za,"Error while loading script "+r);za(a),Va(a,!1,t)},_t(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ce(i,o),function(t,e){mt(t,"HTMLScriptElement"),t.src=xt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=c(e.document):(null===l&&(l=c(s.document)),e=l),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Xa(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&Qa(t,!0,this.Ma)}}function Qa(t,e,n){null!=n&&s.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Za=0,ts=1;function es(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),O.call(this,n),this.code=t}function ns(t){this.f=t}function rs(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||as,this.g=gt(t.secureTokenHeaders||ss),this.i=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||us,this.a=gt(t.firebaseHeaders||ls),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Ir(),!(n=s.XMLHttpRequest||n&&Te.INTERNAL.node&&Te.INTERNAL.node.XMLHttpRequest)&&!xr())throw new x("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,xr()?this.f=new ba(self):Cr()?this.f=new ns(n):this.f=new ia,this.b=null}T(es,O),T(ns,ta),ns.prototype.a=function(){return new this.f},ns.prototype.b=function(){return{}};var is,os="idToken",as=new Gr(3e4,6e4),ss={"Content-Type":"application/x-www-form-urlencoded"},us=new Gr(3e4,6e4),ls={"Content-Type":"application/json"};function cs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function hs(t,e){e&&(t.l=fs("https://securetoken.googleapis.com/v1/token",e),t.i=fs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.h=fs("https://identitytoolkit.googleapis.com/v2/",e))}function fs(t,e){return t=Bn(t),e=Bn(e.url),t.c=t.a+t.c,Fn(t,e.f),t.a=e.a,Hn(t,e.g),t.toString()}function ds(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ps(t,e,n,r,i,o,a){(function(){var t=Or();return!((t=Dr(t)!=Ar?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Kt||!se||9<se)})()||xr()?t=w(t.u,t):(is||(is=new we((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[vs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ua(t,null,e,void 0)}(Ja(It(gs,{onload:vs})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=w(t.s,t)),t(e,n,r,i,o,a)}rs.prototype.S=function(){return this.b},rs.prototype.u=function(t,e,n,r,i,o){if(xr()&&("undefined"===typeof s.fetch||"undefined"===typeof s.Headers||"undefined"===typeof s.Request))throw new x("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new xa(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}In(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ya(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(je){t=null}e&&e(t)})),Cn(a,"ready",(function(){u&&clearTimeout(u),Je(this)})),Cn(a,"timeout",(function(){u&&clearTimeout(u),Je(this),e&&e(null)})),Aa(a,t,n,r,i)};var gs=new yt(St,"https://apis.google.com/js/client.js?onload=%{onload}"),vs="__fcb"+Math.floor(1e6*Math.random()).toString();function _s(t,e,n,r,i,o,a){var s=Bn(e+n);zn(s,"key",t.c),a&&zn(s,"cb",S().toString());var u="GET"==r;if(u)for(var l in i)i.hasOwnProperty(l)&&zn(s,l,i[l]);return new we((function(e,n){ps(t,s.toString(),(function(t){t?t.error?n(fu(t,o||{})):e(t):n(new x("network-request-failed"))}),r,u?void 0:ur(zr(i)),t.a,t.m.get())}))}function ms(t){if("string"!==typeof(t=t.email)||!kr.test(t))throw new x("invalid-email")}function ys(t){"email"in t&&ms(t)}function bs(t){if(!t[os]){if(t.mfaPendingCredential)throw new x("multi-factor-auth-required",null,gt(t));throw new x("internal-error")}}function ws(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new x("internal-error")}else{if(!t.sessionInfo)throw new x("missing-verification-id");if(!t.code)throw new x("missing-verification-code")}}rs.prototype.s=function(t,e,n,r,i){var o=this;is.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},rs.prototype.yb=function(){return cu(this,Qs,{})},rs.prototype.Ab=function(t,e){return cu(this,Js,{idToken:t,email:e})},rs.prototype.Bb=function(t,e){return cu(this,Xs,{idToken:t,password:e})};var ks={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ss(t){if(!t.phoneVerificationInfo)throw new x("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new x("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new x("missing-verification-code")}function Ts(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new x("internal-error")}function Es(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(ir(t=new tr(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function xs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Zo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Zo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Zo(t)):t.errorMessage&&(e=hu(t.errorMessage)),e)throw e;bs(t)}function Is(t,e){return e.returnIdpCredential=!0,cu(t,eu,e)}function Cs(t,e){return e.returnIdpCredential=!0,cu(t,ru,e)}function Ns(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,cu(t,nu,e)}function As(t){if(!t.oobCode)throw new x("invalid-action-code")}(t=rs.prototype).Cb=function(t,e){var n={idToken:t},r=[];return dt(ks,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),cu(this,Js,n)},t.ub=function(t,e){return _t(t={requestType:"PASSWORD_RESET",email:t},e),cu(this,Ws,t)},t.vb=function(t,e){return _t(t={requestType:"EMAIL_SIGNIN",email:t},e),cu(this,zs,t)},t.tb=function(t,e){return _t(t={requestType:"VERIFY_EMAIL",idToken:t},e),cu(this,Us,t)},t.Db=function(t,e,n){return _t(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),cu(this,Bs,t)},t.eb=function(t){return cu(this,au,t)},t.mb=function(t,e){return cu(this,Ks,{oobCode:t,newPassword:e})},t.Qa=function(t){return cu(this,$s,{oobCode:t})},t.ib=function(t){return cu(this,Ds,{oobCode:t})};var Ds={endpoint:"setAccountInfo",B:As,Z:"email",C:!0},$s={endpoint:"resetPassword",B:As,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new x("internal-error")},C:!0},Ps={endpoint:"signupNewUser",B:function(t){if(ms(t),!t.password)throw new x("weak-password")},F:bs,U:!0,C:!0},Os={endpoint:"createAuthUri",C:!0},Ms={endpoint:"deleteAccount",M:["idToken"]},Ls={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if(!Array.isArray(t.deleteProvider))throw new x("internal-error")}},Rs={endpoint:"emailLinkSignin",M:["email","oobCode"],B:ms,F:bs,U:!0,C:!0},js={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:ms,F:bs,U:!0},Fs={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:Ss,F:bs,C:!0,Na:!0},Hs={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:Ss,F:bs,C:!0,Na:!0},Vs={endpoint:"getAccountInfo"},zs={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new x("internal-error");ms(t)},Z:"email",C:!0},Us={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new x("internal-error")},Z:"email",C:!0},Bs={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new x("internal-error")},Z:"email",C:!0},Ws={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new x("internal-error");ms(t)},Z:"email",C:!0},qs={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},Gs={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new x("internal-error")}},Ks={endpoint:"resetPassword",B:As,Z:"email",C:!0},Ys={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Js={endpoint:"setAccountInfo",M:["idToken"],B:ys,U:!0},Xs={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(ys(t),!t.password)throw new x("weak-password")},F:bs,U:!0},Qs={endpoint:"signupNewUser",F:bs,U:!0,C:!0},Zs={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new x("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new x("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new x("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new x("internal-error")},C:!0,Na:!0},tu={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new x("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new x("internal-error")},C:!0,Na:!0},eu={endpoint:"verifyAssertion",B:Ts,Xa:Es,F:xs,U:!0,C:!0},nu={endpoint:"verifyAssertion",B:Ts,Xa:Es,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new x("user-not-found");if(t.errorMessage)throw hu(t.errorMessage);bs(t)},U:!0,C:!0},ru={endpoint:"verifyAssertion",B:function(t){if(Ts(t),!t.idToken)throw new x("internal-error")},Xa:Es,F:xs,U:!0},iu={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new x("invalid-custom-token")},F:bs,U:!0,C:!0},ou={endpoint:"verifyPassword",B:function(t){if(ms(t),!t.password)throw new x("wrong-password")},F:bs,U:!0,C:!0},au={endpoint:"verifyPhoneNumber",B:ws,F:bs,C:!0},su={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new x("internal-error");ws(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Zo(t);bs(t)}},uu={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:ws,F:bs,C:!0},lu={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[os]^!!t.refreshToken)throw new x("internal-error")},C:!0,Na:!0};function cu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.M))return De(new x("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return Ae(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),_s(t,i?t.h:t.i,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new x("internal-error");return r[e.Z]}))}function hu(t){return fu({error:{errors:[{message:t}],code:400,message:t}})}function fu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new x(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",_t(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new x(r[i],e);return!e&&t&&(e=Vr(t)),new x("internal-error",e)}function du(t){this.b=t,this.a=null,this.qb=function(t){return(_u||(_u=new we((function(t,e){function n(){qr(),Mr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){qr(),e(Error("Network Error"))},timeout:gu.get()})}if(Mr("gapi.iframes.Iframe"))t();else if(Mr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Mr("gapi.load")?n():e(Error("Network Error"))},Ae(Ja(r=It(pu,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw _u=null,t})))).then((function(){return new we((function(e,n){Mr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Mr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),vu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var pu=new yt(St,"https://apis.google.com/js/api.js?onload=%{onload}"),gu=new Gr(3e4,6e4),vu=new Gr(5e3,15e3),_u=null;function mu(t,e,n,r){this.l=t,this.i=e,this.h=n,this.g=r,this.f=null,this.g?t=Wn((t=Bn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):t=Wn("https",this.l,null,"/__/auth/iframe"),this.a=t,zn(this.a,"apiKey",this.i),zn(this.a,"appName",this.h),this.b=null,this.c=[]}function yu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.v=r,this.m=o,this.h=this.g=this.l=null,this.a=i,this.i=this.f=null}function bu(t){try{return Te.app(t).auth().Ga()}catch(e){return[]}}function wu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.h=i||null,this.l=this.u=this.A=null,this.i=[],this.v=this.a=null}function ku(t){var e=gr();return function(t){return cu(t,qs,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Bn(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Bn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:wr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Xo(gr())}))}function Su(t){return t.v||(t.v=Sr().then((function(){if(!t.u){var e=t.c,n=t.h,r=bu(t.b),i=new mu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Q(r||[]),t.u=i.toString()}t.m=new du(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,Mr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Go(e.authEvent),n=0;n<t.i.length;n++)r=t.i[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ae(n)}return n.status="ERROR",Ae(n)}))}(t)}))),t.v}function Tu(t){return t.l||(t.A=t.c?Pr(t.c,bu(t.b)):null,t.l=new rs(t.g,$(t.h),t.A),t.f&&hs(t.l,t.f)),t.l}function Eu(t,e,n,r,i,o,a,s,u,l,c,h){return(t=new yu(t,e,n,r,i,h)).l=o,t.g=a,t.h=s,t.b=gt(u||null),t.f=l,t.xb(c).toString()}function xu(t){if(this.a=t||Te.INTERNAL.reactNative&&Te.INTERNAL.reactNative.AsyncStorage,!this.a)throw new x("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Iu(t){this.b=t,this.a={},this.f=w(this.c,this)}mu.prototype.toString=function(){return this.f?zn(this.a,"v",this.f):rr(this.a.b,"v"),this.b?zn(this.a,"eid",this.b):rr(this.a.b,"eid"),this.c.length?zn(this.a,"fw",this.c.join(",")):rr(this.a.b,"fw"),this.a.toString()},yu.prototype.xb=function(t){return this.i=t,this},yu.prototype.toString=function(){if(this.m){var t=Bn(this.m.url);t=Wn(t.f,t.a,t.g,"/emulator/auth/handler")}else t=Wn("https",this.u,null,"/__/auth/handler");if(zn(t,"apiKey",this.s),zn(t,"appName",this.c),zn(t,"authType",this.v),this.a.isOAuthProvider){var e=this.a;try{var n=Te.app(this.c).auth().ka()}catch(Ie){n=null}for(var r in e.nb=n,zn(t,"providerId",this.a.providerId),e=zr((n=this.a).Hb))e[r]=e[r].toString();r=n.Pc,e=gt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.ob&&n.nb&&!e[n.ob]&&(e[n.ob]=n.nb),pt(e)||zn(t,"customParameters",Vr(e))}if("function"===typeof this.a.Pb&&((n=this.a.Pb()).length&&zn(t,"scopes",n.join(","))),this.l?zn(t,"redirectUrl",this.l):rr(t.b,"redirectUrl"),this.g?zn(t,"eventId",this.g):rr(t.b,"eventId"),this.h?zn(t,"v",this.h):rr(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Un(t,a)&&zn(t,a,this.b[a]);return this.i?zn(t,"tid",this.i):rr(t.b,"tid"),this.f?zn(t,"eid",this.f):rr(t.b,"eid"),(a=bu(this.c)).length&&zn(t,"fw",a.join(",")),t.toString()},(t=wu.prototype).Nb=function(t,e,n){var r=new x("popup-closed-by-user"),i=new x("web-storage-unsupported"),o=this,a=!1;return this.la().then((function(){(function(t){var e={type:"webStorageSupport"};return Su(t).then((function(){return function(t,e){return t.qb.then((function(){return new we((function(n){t.a.send(e.type,e,n,Mr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.m,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&yr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new we((function(e){return function n(){Dn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return Dn(n).then((function(){e(r)}))}))},t.Wb=function(){var t=Or();return!Hr(t)&&!Wr(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,a,s){if(!t)return De(new x("popup-blocked"));if(a&&!Hr())return this.la().o((function(e){yr(t),i(e)})),r(),Ae();this.a||(this.a=ku(Tu(this)));var u=this;return this.a.then((function(){var e=u.la().o((function(e){throw yr(t),i(e),e}));return r(),e})).then((function(){(Wo(n),a)||vr(Eu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.h,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Mb=function(t,e,n,r){this.a||(this.a=ku(Tu(this)));var i=this;return this.a.then((function(){Wo(e),vr(Eu(i.s,i.g,i.b,t,e,gr(),n,i.c,void 0,i.h,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.la=function(){var t=this;return Su(this).then((function(){return t.m.qb})).o((function(){throw t.a=null,new x("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(t){this.i.push(t)},t.Ra=function(t){J(this.i,(function(e){return e==t}))},(t=xu.prototype).get=function(t){return Ae(this.a.getItem(t)).then((function(t){return t&&Ur(t)}))},t.set=function(t,e){return Ae(this.a.setItem(t,Vr(e)))},t.T=function(t){return Ae(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Cu,Nu=[];function Au(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Du(t){this.a=t}function $u(t){this.c=t,this.b=!1,this.a=[]}function Pu(t,e,n,r){var i,o,a,s,u=n||{},l=null;if(t.b)return De(Error("connection_unavailable"));var c=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new we((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),c),o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},l={messageChannel:h,onMessage:o},t.a.push(l),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Ou(t,l),e})).o((function(e){throw Ou(t,l),e}))}function Ou(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),J(t.a,(function(t){return t==e}))}}function Mu(){if(!Fu())throw new x("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.v=s.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.l=null,this.s=!1,this.i=null;var t=this;xr()&&self?(this.m=function(){var t=xr()?self:null;if(B(Nu,(function(n){n.b==t&&(e=n)})),!e){var e=new Iu(t);Nu.push(e)}return e}(),Au(this.m,"keyChanged",(function(e,n){return Bu(t).then((function(e){return 0<e.length&&B(t.a,(function(t){t(e)})),{keyProcessed:K(e,n.key)}}))})),Au(this.m,"ping",(function(){return Ae(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Ae().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ae(null)}().then((function(e){(t.i=e)&&(t.g=new $u(new Du(e)),Pu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&K(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Lu(t){return new we((function(e,n){var r=t.v.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new we((function(e,n){var r=t.v.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Lu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Ru(t){return t.h||(t.h=Lu(t)),t.h}function ju(t,e){var n=0;return new we((function r(i,o){Ru(t).then(e).then(i).o((function(e){if(!(3<++n))return Ru(t).then((function(e){return e.close(),t.h=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Fu(){try{return!!s.indexedDB}catch(ga){return!1}}function Hu(t){return t.objectStore("firebaseLocalStorage")}function Vu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function zu(t){return new we((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Uu(t,e){return t.g&&t.i&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.i?Pu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ae()}function Bu(t){return Ru(t).then((function(t){var e=Hu(Vu(t,!1));return e.getAll?zu(e.getAll()):new we((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=_r(t.c,n),t.c=n}return r}))}function Wu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function qu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ae().then((function(){if(Fu()){var t=Br(),r="__sak"+t;return Cu||(Cu=new Mu),(n=Cu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){B(e.a,(function(e){e(t)}))})),t}))}function Gu(){this.a={},this.type="inMemory"}function Ku(){if(!function(){var t="Node"==Ir();if(!(t=Yu()||t&&Te.INTERNAL.node&&Te.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Ir())throw new x("internal-error","The LocalStorage compatibility library was not found.");throw new x("web-storage-unsupported")}this.a=Yu()||Te.INTERNAL.node.localStorage,this.type="localStorage"}function Yu(){try{var t=s.localStorage,e=Br();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Ju(){this.type="nullStorage"}function Xu(){if(!function(){var t="Node"==Ir();if(!(t=Qu()||t&&Te.INTERNAL.node&&Te.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Ir())throw new x("internal-error","The SessionStorage compatibility library was not found.");throw new x("web-storage-unsupported")}this.a=Qu()||Te.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Qu(){try{var t=s.sessionStorage,e=Br();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Zu(){var t={};t.Browser=nl,t.Node=rl,t.ReactNative=il,t.Worker=ol,this.a=t[Ir()]}Iu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];B(r,(function(e){i.push(Ae().then((function(){return e(t.origin,t.data.data)})))})),Oe(i).then((function(r){var i=[];B(r,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),B(i,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Du.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},$u.prototype.close=function(){for(;0<this.a.length;)Ou(this,this.a[0]);this.b=!0},(t=Mu.prototype).set=function(t,e){var n=this,r=!1;return ju(this,(function(e){return zu((e=Hu(Vu(e,!0))).get(t))})).then((function(i){return ju(n,(function(o){if(o=Hu(Vu(o,!0)),i)return i.value=e,zu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,zu(o.add(a))}))})).then((function(){return n.c[t]=e,Uu(n,t)})).na((function(){r&&n.b--}))},t.get=function(t){return ju(this,(function(e){return zu(Hu(Vu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=this,n=!1;return ju(this,(function(r){return n=!0,e.b++,zu(Hu(Vu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Uu(e,t)})).na((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Bu(t).then((function(e){0<e.length&&B(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Wu(t),e()}(this),this.a.push(t)},t.ia=function(t){J(this.a,(function(e){return e==t})),0==this.a.length&&Wu(this)},(t=qu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){J(this.a,(function(e){return e==t}))},(t=Gu.prototype).get=function(t){return Ae(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ae()},t.T=function(t){return delete this.a[t],Ae()},t.ca=function(){},t.ia=function(){},(t=Ku.prototype).get=function(t){var e=this;return Ae().then((function(){return Ur(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ae().then((function(){var r=Vr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&pn(s.window,"storage",t)},t.ia=function(t){s.window&&_n(s.window,"storage",t)},(t=Ju.prototype).get=function(){return Ae(null)},t.set=function(){return Ae()},t.T=function(){return Ae()},t.ca=function(){},t.ia=function(){},(t=Xu.prototype).get=function(t){var e=this;return Ae().then((function(){return Ur(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ae().then((function(){var r=Vr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ae().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var tl,el,nl={D:Ku,ab:Xu},rl={D:Ku,ab:Xu},il={D:xu,ab:Ju},ol={D:Ku,ab:Ju},al={qd:"local",NONE:"none",sd:"session"};function sl(){var t=!(Wr(Or())||!Er()),e=Hr(),n=Lr();this.v=t,this.i=e,this.l=n,this.a={},tl||(tl=new Zu),t=tl;try{this.g=!pr()&&Jr()||!s.indexedDB?new t.a.D:new qu(xr()?new Gu:new t.a.D)}catch(r){this.g=new Gu,this.i=!0}try{this.h=new t.a.ab}catch(r){this.h=new Gu}this.m=new Gu,this.f=w(this.Xb,this),this.b={}}function ul(){return el||(el=new sl),el}function ll(t,e){switch(e){case"session":return t.h;case"none":return t.m;default:return t.g}}function cl(t,e){return"firebase:"+t.name+(e?":"+e:"")}function hl(t,e,n){return n=cl(e,n),"local"==e.D&&(t.b[n]=null),ll(t,e.D).T(n)}function fl(t){t.c&&(clearInterval(t.c),t.c=null)}function dl(t){this.a=t,this.b=ul()}(t=sl.prototype).get=function(t,e){return ll(this,t.D).get(cl(t,e))},t.set=function(t,e,n){var r=cl(t,n),i=this,o=ll(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=cl(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),pt(this.a)&&(ll(this,"local").ca(this.f),this.i||(pr()||!Jr())&&s.indexedDB||!this.l||function(t){fl(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new nn({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=cl(t,e),this.a[t]&&(J(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(ll(this,"local").ia(this.f),fl(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?ll(this,"local").ia(this.f):fl(this),this.v)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.lb(e))},Kt&&se&&10==se&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else B(t,w(this.lb,this))},t.lb=function(t){this.a[t]&&B(this.a[t],(function(t){t()}))};var pl,gl={name:"authEvent",D:"local"};function vl(){this.a=ul()}function _l(t,e){this.b=ml,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.h=t,this.i=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===pl&&(pl=s.Int32Array?new Int32Array(El):El),this.reset()}T(_l,(function(){this.b=-1}));for(var ml=64,yl=ml-1,bl=[],wl=0;wl<yl;wl++)bl[wl]=0;var kl=X(128,bl);function Sl(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],l=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((a=(a=l&c^~l&h)+(0|pl[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=l,l=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+l|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function Tl(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(Sl(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(Sl(t),i=0)}}t.c=i,t.g+=n}_l.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.i):Q(this.i)};var El=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function xl(){_l.call(this,8,Il)}T(xl,_l);var Il=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Cl(t,e,n,r,i,o){this.m=t,this.h=e,this.l=n,this.v=r||null,this.u=i||null,this.s=o,this.i=e+":"+n,this.A=new vl,this.g=new dl(this.i),this.f=null,this.b=[],this.a=this.c=null}function Nl(t){return new x("invalid-cordova-configuration",t)}function Al(t){var e=new xl;Tl(e,t),t=[];var n=8*e.g;56>e.c?Tl(e,kl,56-e.c):Tl(e,kl,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Sl(e),r=n=0;r<e.h;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return q(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Dl(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function $l(t){return t.f||(t.f=t.la().then((function(){return new we((function(e){t.Ea((function n(r){return e(r),t.Ra(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Pl(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=co(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Ur(Un(o=Bn(i),"firebaseError")||null))?I(o):null)?new qo(r.c,r.b,null,null,o,null,r.S()):new qo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}Dl(t,i)}))}var n=new qo("unknown",null,null,null,new x("no-auth-event")),r=!1,i=Dn(500).then((function(){return Pl(t).then((function(){r||Dl(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Mr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(Ie){console.error(Ie)}},Jo||(Jo=new Ko),function(t){var e=Jo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=Mr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Pl(t){var e=null;return function(t){return t.b.get(gl,t.a).then((function(t){return Go(t)}))}(t.g).then((function(n){return e=n,hl((n=t.g).b,gl,n.a)})).then((function(){return e}))}function Ol(t){this.a=t,this.b=ul()}(t=Cl.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(Tr(void 0)?Sr().then((function(){return new we((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):De(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Mr("universalLinks.subscribe",s))throw Nl("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Mr("BuildInfo.packageName",s))throw Nl("cordova-plugin-buildinfo is not installed");if("function"!==typeof Mr("cordova.plugins.browsertab.openUrl",s))throw Nl("cordova-plugin-browsertab is not installed");if("function"!==typeof Mr("cordova.InAppBrowser.open",s))throw Nl("cordova-plugin-inappbrowser is not installed")}),(function(){throw new x("cordova-not-ready")}))},t.Nb=function(t,e){return e(new x("operation-not-supported-in-this-environment")),Ae()},t.Lb=function(){return De(new x("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return De(new x("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,l=null,c=null;return this.c=Ae().then((function(){return Wo(e),$l(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new qo(e,r,null,o,new x("no-auth-event"),null,i),u=Mr("BuildInfo.packageName",s);if("string"!==typeof u)throw new x("invalid-cordova-configuration");var l=Mr("BuildInfo.displayName",s),c={};if(Or().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=u;else{if(!Or().toLowerCase().match(/android/))return De(new x("operation-not-supported-in-this-environment"));c.apn=u}l&&(c.appDisplayName=l),o=Al(o),c.sessionId=o;var h=Eu(t.m,t.h,t.l,e,n,null,r,t.v,c,t.u,i,t.s);return t.la().then((function(){var e=t.i;return t.A.a.set(gl,a.w(),e)})).then((function(){var e=Mr("cordova.plugins.browsertab.isAvailable",s);if("function"!==typeof e)throw new x("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!==typeof(n=Mr("cordova.plugins.browsertab.openUrl",s)))throw new x("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=Mr("cordova.InAppBrowser.open",s)))throw new x("invalid-cordova-configuration");e=Or(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new we((function(t,e){u=function(){var e=Mr("cordova.plugins.browsertab.close",s);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){a||(a=Dn(2e3).then((function(){e(new x("redirect-cancelled-by-user"))})))},c=function(){Kr()&&l()},o.addEventListener("resume",l,!1),Or().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).o((function(t){return Pl(i).then((function(){throw t}))}))})).na((function(){l&&o.removeEventListener("resume",l,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),u&&i.Ra(u),i.c=null}))},t.Ea=function(t){this.b.push(t),$l(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new qo("unknown",null,null,null,new x("no-auth-event")),t(e))}))},t.Ra=function(t){J(this.b,(function(e){return e==t}))};var Ml={name:"pendingRedirect",D:"session"};function Ll(t){return hl(t.b,Ml,t.a)}function Rl(t,e,n,r){this.h={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.i=[],this.f=!1,this.l=w(this.s,this),this.b=new Ql,this.A=new rc,this.g=new Ol(Jl(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=jl(this.O,this.m,this.v,C,this.G)}function jl(t,e,n,r,i){var o=Te.SDK_VERSION||null;return Tr()?new Cl(t,e,n,o,r,i):new wu(t,e,n,o,r,i)}function Fl(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().o((function(n){throw t.a==e&&t.reset(),n}))}function Hl(t){t.a.Wb()&&Fl(t).o((function(e){var n=new qo("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));ql(e)&&t.s(n)})),t.a.Sb()||Zl(t.b)}function Vl(t,e){K(t.i,e)||t.i.push(e),t.f||function(t){return t.b.get(Ml,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Ll(t.g).then((function(){Fl(t).o((function(e){var n=new qo("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));ql(e)&&t.s(n)}))})):Hl(t)})).o((function(){Hl(t)}))}function zl(t,e){J(t.i,(function(t){return t==e}))}Rl.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=jl(this.O,this.m,this.v,null,this.G),this.h={}},Rl.prototype.s=function(t){if(!t)throw new x("invalid-auth-event");if(6e5<=S()-this.u&&(this.h={},this.u=0),t&&t.getUid()&&this.h.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.i.length;n++){var r=this.i[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.i(t,r),t&&(t.f||t.b)&&(this.h[t.getUid()]=!0,this.u=S())),e=!0;break}}return Zl(this.b),e};var Ul=new Gr(2e3,1e4),Bl=new Gr(3e4,6e4);function Wl(t,e,n,r,i,o,a){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function ql(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Gl(t,e,n,r,i){var o;return function(t){return t.b.set(Ml,"pending",t.a)}(t.g).then((function(){return t.a.Mb(e,n,r,i).o((function(e){if(ql(e))throw new x("operation-not-supported-in-this-environment");return o=e,Ll(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new we((function(){})):Ll(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Kl(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),Ul.get())}Rl.prototype.qa=function(){return this.b.qa()};var Yl={};function Jl(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Xl(t,e,n,r){var i=Jl(e,n,r);return Yl[i]||(Yl[i]=new Rl(t,e,n,r)),Yl[i]}function Ql(){this.b=null,this.f=[],this.c=[],this.a=null,this.h=this.g=!1}function Zl(t){t.g||(t.g=!0,nc(t,!1,null,null))}function tc(t){t.g&&!t.h&&nc(t,!1,null,null)}function ec(t,e){if(t.b=function(){return Ae(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function nc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return De(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):ec(t,n):ec(t,{user:null}),t.f=[],t.c=[]}function rc(){}function ic(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function oc(t,e){this.a=e,ei(this,"verificationId",t)}function ac(t,e,n,r){return new zo(t).eb(e,n).then((function(t){return new oc(t,r)}))}function sc(t){var e=Ji(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new x("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ni(this,{token:t,expirationTime:Yr(1e3*e.exp),authTime:Yr(1e3*e.auth_time),issuedAtTime:Yr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function uc(t,e,n){var r=e&&e[cc];if(!r)throw new x("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=n,this.c=new ho(null,r),this.b=[];var i=this;B(e[lc]||[],(function(t){(t=ai(t))&&i.b.push(t)})),ei(this,"auth",this.a),ei(this,"session",this.c),ei(this,"hints",this.b)}Ql.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ql.prototype.i=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.h=!(!i&&!o),"unknown"!=n||i||o?t.a?(nc(this,!0,null,t.a),Ae()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.h,a=e.S(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){nc(t,s,e,null)})).o((function(e){nc(t,s,null,e)}))}(this,t,e):De(new x("invalid-auth-event")):(nc(this,!1,null,null),Ae())}else De(new x("invalid-auth-event"))},Ql.prototype.qa=function(){var t=this;return new we((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new x("timeout");t.a&&t.a.cancel(),t.a=Dn(Bl.get()).then((function(){t.b||(t.g=!0,nc(t,!0,null,e))}))}(t))}))},rc.prototype.i=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),Ae()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.h).then((function(t){e.ma(r,t,null,n)})).o((function(t){e.ma(r,null,t,n)}))}(t,e):De(new x("invalid-auth-event"))}else De(new x("invalid-auth-event"))},oc.prototype.confirm=function(t){return t=Uo(this.verificationId,t),this.a(t)};var lc="mfaInfo",cc="mfaPendingCredential";function hc(t,e,n,r){x.call(this,"multi-factor-auth-required",r,e),this.b=new uc(t,e,n),ei(this,"resolver",this.b)}function fc(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new hc(e,t.serverResponse,n,t.message)}catch(r){}return null}function dc(){}function pc(t){ei(this,"factorId",t.fa),this.a=t}function gc(t){if(pc.call(this,t),this.a.fa!=zo.PROVIDER_ID)throw new x("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function vc(t,e){for(var n in en.call(this,t),e)this[n]=e[n]}function _c(t,e){this.a=t,this.b=[],this.c=w(this.xc,this),pn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&B(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[li]=t.uid),t.displayName&&(r[si]=t.displayName),t.enrollmentTime&&(r[ui]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ci]=t.phoneNumber);try{e=new hi(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),mc(this,n)}function mc(t,e){t.b=e,ei(t,"enrolledFactors",e)}function yc(t,e,n){if(this.i=t,this.h=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function bc(t,e){t.stop(),t.b=Dn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return Kr()||!t?Ae():new we((function(n){e=function(){Kr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.i()})).then((function(){bc(t,!0)})).o((function(e){t.h(e)&&bc(t,!1)}))}function wc(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function kc(t,e){"undefined"===typeof e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function Sc(t,e){t.b=Yi(e[os]||""),t.a=e.refreshToken,kc(t,"undefined"!==typeof(e=e.expiresIn)?Number(e):void 0)}function Tc(t,e){return function(t,e){return new we((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ps(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(fu(t)):t.access_token&&t.refresh_token?n(t):r(new x("internal-error")):r(new x("network-request-failed"))}),"POST",nr(e).toString(),t.g,t.v.get()):r(new x("internal-error"))}))}(t.f,e).then((function(e){return t.b=Yi(e.access_token),t.a=e.refresh_token,kc(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function Ec(t,e){this.a=t||null,this.b=e||null,ni(this,{lastSignInTime:Yr(e||null),creationTime:Yr(t||null)})}function xc(t,e,n,r,i,o){ni(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Ic(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=Te.SDK_VERSION?Pr(Te.SDK_VERSION):null;this.a=new rs(this.l,$(C),r),t.emulatorConfig&&hs(this.a,t.emulatorConfig),this.b=new wc(this.a),Mc(this,e[os]),Sc(this.b,e),ei(this,"refreshToken",this.b.a),jc(this,n||{}),xn.call(this),this.P=!1,this.s&&Rr()&&(this.h=Xl(this.s,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new yc((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.$=w(this.gb,this);var i=this;this.pa=null,this.Ba=function(t){i.wa(t.i)},this.ba=null,this.za=function(t){hs(i.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){Ac(i,t.f)},this.aa=null,this.N=new _c(this,n),ei(this,"multiFactor",this.N)}function Cc(t,e){t.ba&&_n(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&pn(e,"languageCodeChanged",t.Ba)}function Nc(t,e){t.W&&_n(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&pn(e,"emulatorConfigChanged",t.za)}function Ac(t,e){t.X=e,ds(t.a,Te.SDK_VERSION?Pr(Te.SDK_VERSION,t.X):null)}function Dc(t,e){t.aa&&_n(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&pn(e,"frameworkChanged",t.Aa)}function $c(t){try{return Te.app(t.m).auth()}catch(e){throw new x("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Pc(t){t.A||t.u.b||(t.u.start(),_n(t,"tokenChanged",t.$),pn(t,"tokenChanged",t.$))}function Oc(t){_n(t,"tokenChanged",t.$),t.u.stop()}function Mc(t,e){t.ya=e,ei(t,"_lat",e)}function Lc(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Oe(e).then((function(){return t}))}function Rc(t){t.h&&!t.P&&(t.P=!0,Vl(t.h,t))}function jc(t,e){ni(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Ec(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Fc(){}function Hc(t){return Ae().then((function(){if(t.A)throw new x("app-deleted")}))}function Vc(t){return q(t.providerData,(function(t){return t.providerId}))}function zc(t,e){e&&(Uc(t,e.providerId),t.providerData.push(e))}function Uc(t,e){J(t.providerData,(function(t){return t.providerId==e}))}function Bc(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&ei(t,e,n)}function Wc(t,e){t!=e&&(ni(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?ei(t,"metadata",function(t){return new Ec(t.a,t.b)}(e.metadata)):ei(t,"metadata",new Ec),B(e.providerData,(function(e){zc(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),ei(t,"refreshToken",t.b.a),mc(t.N,e.N.b))}function qc(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return cu(t.a,Vs,{idToken:e}).then(w(t.Jc,t))}(t,e).then((function(){return n||Bc(t,"isAnonymous",!1),e}))}))}function Gc(t,e){e[os]&&t.ya!=e[os]&&(Sc(t.b,e),t.dispatchEvent(new vc("tokenChanged")),Mc(t,e[os]),Bc(t,"refreshToken",t.b.a))}function Kc(t,e){return qc(t).then((function(){if(K(Vc(t),e))return Lc(t).then((function(){throw new x("provider-already-linked")}))}))}function Yc(t,e,n){return ri({user:t,credential:Bo(e),additionalUserInfo:e=eo(e),operationType:n})}function Jc(t,e){return Gc(t,e),t.reload().then((function(){return t}))}function Xc(t,e,n,r,i){if(!Rr())return De(new x("operation-not-supported-in-this-environment"));if(t.f&&!i)return De(t.f);var o=to(n.providerId),a=Br(t.uid+":::"),s=null;(!Hr()||Er())&&t.s&&n.isOAuthProvider&&(s=Eu(t.s,t.l,t.m,e,n,null,a,Te.SDK_VERSION||null,null,null,t.tenantId));var u=br(s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Zc(t),!i)return t.I().then((function(){}))})).then((function(){return Wl(t.h,u,e,n,a,!!s,t.tenantId)})).then((function(){return new we((function(n,r){t.ma(e,null,new x("cancelled-popup-request"),t.i||null),t.g=n,t.O=r,t.i=a,t.c=Kl(t.h,t,e,u,a)}))})).then((function(t){return u&&yr(u),t?ri(t):null})).o((function(t){throw u&&yr(u),t})),th(t,r,i)}function Qc(t,e,n,r,i){if(!Rr())return De(new x("operation-not-supported-in-this-environment"));if(t.f&&!i)return De(t.f);var o=null,a=Br(t.uid+":::");return r=r().then((function(){if(Zc(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,Lc(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(rh,t.w(),e.a)),e})).then((function(){return Gl(t.h,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return ih(t.ha);throw o})).then((function(){if(o)throw o})),th(t,r,i)}function Zc(t){if(!t.h||!t.P){if(t.h&&!t.P)throw new x("internal-error");throw new x("auth-domain-config-required")}}function th(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),De(t.f)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new vc("userInvalidated")),t.f=e),e}))}(t,e,n);return t.G.push(r),r.na((function(){Y(t.G,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=fc(e.w(),$c(t),w(t.ic,t))),n||e}))}function eh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[os]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Ic(e,n,t);return t.providerData&&B(t.providerData,(function(t){t&&zc(i,ri(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function nh(t){this.a=t,this.b=ul()}uc.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=gt(e.f);return delete n[lc],delete n[cc],_t(n,t),e.g(n)}))},T(hc,x),dc.prototype.rb=function(t,e,n){return e.type==fo?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),_t(n,{phoneVerificationInfo:Vo(t.a)}),cu(e,Fs,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return _t(n={mfaPendingCredential:n},{phoneVerificationInfo:Vo(t.a)}),cu(e,Hs,n)}))}(this,t,e)},T(pc,dc),T(gc,pc),T(vc,en),(t=_c.prototype).xc=function(t){mc(this,function(t){var e=[];return B(t.mfaInfo||[],(function(t){(t=ai(t))&&e.push(t)})),e}(t.gd))},t.Qb=function(){return this.a.I().then((function(t){return new ho(t,null)}))},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return Gc(n.a,t),n.a.reload()}))},t.ad=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return cu(r,lu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=W(e.b,(function(t){return t.uid!=n}));return mc(e,r),Gc(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:q(this.b,(function(t){return t.w()}))}}},yc.prototype.start=function(){this.a=this.c,bc(this,!0)},yc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},wc.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},wc.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?De(new x("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?Tc(this,{grant_type:"refresh_token",refresh_token:this.a}):Ae(null):Ae({accessToken:this.b.toString(),refreshToken:this.a})},Ec.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(Ic,xn),Ic.prototype.wa=function(t){this.pa=t,cs(this.a,t)},Ic.prototype.ka=function(){return this.pa},Ic.prototype.Ga=function(){return Q(this.X)},Ic.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},ei(Ic.prototype,"providerId","firebase"),(t=Ic.prototype).reload=function(){var t=this;return th(this,Hc(this).then((function(){return qc(t).then((function(){return Lc(t)})).then(Fc)})))},t.nc=function(t){return this.I(t).then((function(t){return new sc(t)}))},t.I=function(t){var e=this;return th(this,Hc(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new x("internal-error");return t.accessToken!=e.ya&&(Mc(e,t.accessToken),e.dispatchEvent(new vc("tokenChanged"))),Bc(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new x("internal-error");jc(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?q(t,(function(t){return new xc(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)zc(this,e[n]);Bc(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new vc("userReloaded",{gd:t}))},t.Kc=function(t){return Zr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return th(this,t.c(this.a,this.uid).then((function(t){return Gc(e,t),n=Yc(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},t.Bc=function(t){return Zr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return th(this,Kc(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Yc(e,t,"link"),Jc(e,t)})).then((function(){return n})))},t.Cc=function(t,e){var n=this;return th(this,Kc(this,"phone").then((function(){return ac($c(n),t,e,w(n.pb,n))})))},t.Lc=function(t,e){var n=this;return th(this,Ae().then((function(){return ac($c(n),t,e,w(n.sb,n))})),!0)},t.Ab=function(t){var e=this;return th(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return Gc(e,t),e.reload()})))},t.dd=function(t){var e=this;return th(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Gc(e,t),e.reload()})))},t.Bb=function(t){var e=this;return th(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Gc(e,t),e.reload()})))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Hc(this);var e=this;return th(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Gc(e,t),Bc(e,"displayName",t.displayName||null),Bc(e,"photoURL",t.photoUrl||null),B(e.providerData,(function(t){"password"===t.providerId&&(ei(t,"displayName",e.displayName),ei(t,"photoURL",e.photoURL))})),Lc(e)})).then(Fc))},t.bd=function(t){var e=this;return th(this,qc(this).then((function(n){return K(Vc(e),t)?function(t,e,n){return cu(t,Ls,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return B(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),B(Vc(e),(function(t){n[t]||Uc(e,t)})),n[zo.PROVIDER_ID]||ei(e,"phoneNumber",null),Lc(e)})):Lc(e).then((function(){throw new x("no-such-provider")}))})))},t.delete=function(){var t=this;return th(this,this.I().then((function(e){return cu(t.a,Ms,{idToken:e})})).then((function(){t.dispatchEvent(new vc("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");Cc(t,null),Nc(t,null),Dc(t,null),t.G=[],t.A=!0,Oc(t),ei(t,"refreshToken",null),t.h&&zl(t.h,t)}))},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.i||null)==e&&this.g||"reauthViaPopup"==t&&(this.i||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.i||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.i||null)?w(this.Jb,this):"reauthViaPopup"==t&&e==(this.i||null)?w(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Kb,this):null},t.Dc=function(t){var e=this;return Xc(this,"linkViaPopup",t,(function(){return Kc(e,t.providerId).then((function(){return Lc(e)}))}),!1)},t.Mc=function(t){return Xc(this,"reauthViaPopup",t,(function(){return Ae()}),!0)},t.Ec=function(t){var e=this;return Qc(this,"linkViaRedirect",t,(function(){return Kc(e,t.providerId)}),!1)},t.Nc=function(t){return Qc(this,"reauthViaRedirect",t,(function(){return Ae()}),!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return th(this,this.I().then((function(n){return Cs(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Yc(i,t,"link"),Jc(i,t)})).then((function(){return o})))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null,a=Ae().then((function(){return vo(Ns(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Yc(i,t,"reauthenticate"),Gc(i,t),i.f=null,i.reload()})).then((function(){return o}));return th(this,a,!0)},t.tb=function(t){var e=this,n=null;return th(this,this.I().then((function(e){return n=e,"undefined"===typeof t||pt(t)?{}:Wi(new Mi(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Db=function(t,e){var n=this,r=null;return th(this,this.I().then((function(t){return r=t,"undefined"===typeof e||pt(e)?{}:Wi(new Mi(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.ic=function(t){var e=null,n=this;return th(this,t=vo(Ae(t),n.uid).then((function(t){return e=Yc(n,t,"reauthenticate"),Gc(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&_t(t,this.metadata.w()),B(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),_t(t,this.N.w()),t};var rh={name:"redirectUser",D:"session"};function ih(t){return hl(t.b,rh,t.a)}function oh(t){this.a=t,this.b=ul(),this.c=null,this.f=function(t){var e=uh("local"),n=uh("session"),r=uh("none");return function(t,e,n){var r=cl(e,n),i=ll(t,e.D);return t.get(e,n).then((function(o){var a=null;try{a=Ur(s.localStorage.getItem(r))}catch(Ie){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(sh,t.a).then((function(t){return t?uh(t):e}))}))}))})).then((function(e){return t.c=e,ah(t,e.D)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(uh("local"),this.a,w(this.g,this))}function ah(t,e){var n,r=[];for(n in al)al[n]!==e&&r.push(hl(t.b,uh(al[n]),t.a));return r.push(hl(t.b,sh,t.a)),function(t){return new we((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)$e(t[s],k(o,s),a);else e(i)}))}(r)}oh.prototype.g=function(){var t=this,e=uh("local");fh(this,(function(){return Ae().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return ah(t,"local").then((function(){t.c=e}))}))}))};var sh={name:"persistence",D:"session"};function uh(t){return{name:"authUser",D:t}}function lh(t,e){return fh(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function ch(t){return fh(t,(function(){return hl(t.b,t.c,t.a)}))}function hh(t,e,n){return fh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),eh(t||{})}))}))}function fh(t,e){return t.f=t.f.then(e,e),t.f}function dh(t){if(this.m=!1,ei(this,"settings",new ic),ei(this,"app",t),!kh(this).options||!kh(this).options.apiKey)throw new x("invalid-api-key");t=Te.SDK_VERSION?Pr(Te.SDK_VERSION):null,this.a=new rs(kh(this).options&&kh(this).options.apiKey,$(C),t),this.R=[],this.u=[],this.P=[],this.ac=Te.INTERNAL.createSubscribe(w(this.yc,this)),this.X=void 0,this.bc=Te.INTERNAL.createSubscribe(w(this.zc,this)),bh(this,null),this.l=new oh(kh(this).options.apiKey+":"+kh(this).name),this.G=new nh(kh(this).options.apiKey+":"+kh(this).name),this.$=xh(this,function(t){var e=kh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(rh,t.a).then((function(t){return t&&e&&(t.authDomain=e),eh(t||{})}))}(t.G,kh(t).options.authDomain).then((function(e){return(t.s=e)&&(e.ha=t.G),ih(t.G)}));return xh(t,e)}(t).then((function(){return hh(t.l,e,t.f)})).then((function(e){return e?(e.ha=t.G,t.s&&(t.s.ga||null)==(e.ga||null)?e:e.reload().then((function(){return lh(t.l,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:ch(t.l)}))):null})).then((function(e){bh(t,e||null)}));return xh(t,n)}(this)),this.h=xh(this,function(t){return t.$.then((function(){return mh(t)})).o((function(){})).then((function(){if(!t.m)return t.pa()})).o((function(){})).then((function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(uh("local"),e.a,t.pa)}}))}(this)),this.ba=!1,this.pa=w(this.Yc,this),this.Ba=w(this.da,this),this.ya=w(this.kc,this),this.za=w(this.vc,this),this.Aa=w(this.wc,this),this.b=null,function(t){var e=kh(t).options.authDomain,n=kh(t).options.apiKey;e&&Rr()&&(t.gb=t.$.then((function(){if(!t.m){if(t.b=Xl(e,n,kh(t).name,t.f),Vl(t.b,t),Sh(t)&&Rc(Sh(t)),t.s){Rc(t.s);var r=t.s;r.wa(t.ka()),Cc(r,t),Ac(r=t.s,t.N),Dc(r,t),hs((r=t.s).a,t.f),Nc(r,t),t.s=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Fc,this),this.A=0,xn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function ph(t){en.call(this,"languageCodeChanged"),this.i=t}function gh(t){en.call(this,"emulatorConfigChanged"),this.c=t}function vh(t){en.call(this,"frameworkChanged"),this.f=t}function _h(t){return t.gb||De(new x("auth-domain-config-required"))}function mh(t){if(!Rr())return De(new x("operation-not-supported-in-this-environment"));var e=_h(t).then((function(){return t.b.qa()})).then((function(t){return t?ri(t):null}));return xh(t,e)}function yh(t,e){var n={};return n.apiKey=kh(t).options.apiKey,n.authDomain=kh(t).options.authDomain,n.appName=kh(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return function(t,e,n,r){var i=new Ic(t,e);return n&&(i.ha=n),r&&Ac(i,r),i.reload().then((function(){return i}))}(n,e,t.G,t.Ga())})).then((function(e){return Sh(t)&&e.uid==Sh(t).uid?(Wc(Sh(t),e),t.da(e)):(bh(t,e),Rc(e),t.da(e))})).then((function(){Eh(t)}))}function bh(t,e){Sh(t)&&(function(t,e){J(t.R,(function(t){return t==e}))}(Sh(t),t.Ba),_n(Sh(t),"tokenChanged",t.ya),_n(Sh(t),"userDeleted",t.za),_n(Sh(t),"userInvalidated",t.Aa),Oc(Sh(t))),e&&(e.R.push(t.Ba),pn(e,"tokenChanged",t.ya),pn(e,"userDeleted",t.za),pn(e,"userInvalidated",t.Aa),0<t.A&&Pc(e)),ei(t,"currentUser",e),e&&(e.wa(t.ka()),Cc(e,t),Ac(e,t.N),Dc(e,t),hs(e.a,t.f),Nc(e,t))}function wh(t,e){var n=null,r=null;return xh(t,e.then((function(e){return n=Bo(e),r=eo(e),yh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=fc(e.w(),t,w(t.jc,t))),n||e})).then((function(){return ri({user:Sh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function kh(t){return t.app}function Sh(t){return t.currentUser}function Th(t){return Sh(t)&&Sh(t)._lat||null}function Eh(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](Th(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](Th(t))}}function xh(t,e){return t.R.push(e),e.na((function(){Y(t.R,e)})),e}function Ih(){}function Ch(){this.a={},this.b=1e12}oh.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new x("invalid-persistence-type"),n=new x("unsupported-persistence-type");t:{for(r in al)if(al[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(Ir()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Fu()&&"none"!==t)throw n;break;default:if(!Lr()&&"none"!==t)throw n}}(t),fh(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,ah(n,t)})).then((function(){if(n.c=uh(t),e)return n.b.set(n.c,e,n.a)})):Ae()}))},T(dh,xn),T(ph,en),T(gh,en),T(vh,en),(t=dh.prototype).wb=function(t){return xh(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,cs(this.a,this.aa),this.dispatchEvent(new ph(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t,e){if(!this.f){if(!/^https?:\/\//.test(t))throw new x("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");!function(t){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&Sr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))}(!!e&&!!e.disableWarnings),this.f={url:t},this.settings.hb=!0,hs(this.a,this.f),this.dispatchEvent(new gh(this.f))}},t.Fc=function(t){this.N.push(t),ds(this.a,Te.SDK_VERSION?Pr(Te.SDK_VERSION,this.N):null),this.dispatchEvent(new vh(this.N))},t.Ga=function(){return Q(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:kh(this).options.apiKey,authDomain:kh(this).options.authDomain,appName:kh(this).name,currentUser:Sh(this)&&Sh(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.i==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.i==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.i==e&&this.g?w(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return wh(i,Is(i.a,o))}))},t.Wc=function(t){if(!Rr())return De(new x("operation-not-supported-in-this-environment"));var e=this,n=to(t.providerId),r=Br(),i=null;(!Hr()||Er())&&kh(this).options.authDomain&&t.isOAuthProvider&&(i=Eu(kh(this).options.authDomain,kh(this).options.apiKey,kh(this).name,"signInViaPopup",t,null,r,Te.SDK_VERSION||null,null,null,this.S(),this.f));var o=br(i,n&&n.ua,n&&n.ta);return n=_h(this).then((function(n){return Wl(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new we((function(t,n){e.ma("signInViaPopup",null,new x("cancelled-popup-request"),e.i),e.g=t,e.O=n,e.i=r,e.c=Kl(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&yr(o),t?ri(t):null})).o((function(t){throw o&&yr(o),t})),xh(this,n)},t.Xc=function(t){if(!Rr())return De(new x("operation-not-supported-in-this-environment"));var e=this,n=_h(this).then((function(){return function(t){return fh(t,(function(){return t.b.set(sh,t.c.D,t.a)}))}(e.l)})).then((function(){return Gl(e.b,"signInViaRedirect",t,void 0,e.S())}));return xh(this,n)},t.qa=function(){var t=this;return mh(this).then((function(e){return t.b&&tc(t.b.b),e})).o((function(e){throw t.b&&tc(t.b.b),e}))},t.cd=function(t){if(!t)return De(new x("null-user"));if(this.W!=t.tenantId)return De(new x("tenant-id-mismatch"));var e=this,n={};n.apiKey=kh(this).options.apiKey,n.authDomain=kh(this).options.authDomain,n.appName=kh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[os]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new Ic(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Ac(e,r),Wc(e,t),e}(t,n,e.G,e.Ga());return xh(this,this.h.then((function(){if(kh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return Sh(e)&&t.uid==Sh(e).uid?(Wc(Sh(e),t),e.da(t)):(bh(e,r),Rc(r),e.da(r))})).then((function(){Eh(e)})))},t.zb=function(){var t=this;return xh(this,this.h.then((function(){return t.b&&tc(t.b.b),Sh(t)?(bh(t,null),ch(t.l).then((function(){Eh(t)}))):Ae()})))},t.Yc=function(){var t=this;return hh(this.l,kh(this).options.authDomain).then((function(e){if(!t.m){var n;if(n=Sh(t)&&e){n=Sh(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Wc(Sh(t),e),Sh(t).I();(Sh(t)||e)&&(bh(t,e),e&&(Rc(e),e.ha=t.G),t.b&&Vl(t.b,t),Eh(t))}}))},t.da=function(t){return lh(this.l,t)},t.kc=function(){Eh(this),this.da(Sh(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.h.then((function(){return wh(e,Ae(t))}))},t.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(Sh(e))}))},t.zc=function(t){var e=this;!function(t,e){t.P.push(e),xh(t,t.h.then((function(){!t.m&&K(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(Th(t)))})))}(this,(function(){t.next(Sh(e))}))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof t?t(Sh(r)):"function"===typeof t.next&&t.next(Sh(r))})),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"===typeof t?t(Sh(r)):"function"===typeof t.next&&t.next(Sh(r))})),this.bc(t,e,n)},t.mc=function(t){var e=this;return xh(this,this.h.then((function(){return Sh(e)?Sh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Sc=function(t){var e=this;return this.h.then((function(){return wh(e,cu(e.a,iu,{token:t}))})).then((function(t){var n=t.user;return Bc(n,"isAnonymous",!1),e.da(n),t}))},t.Tc=function(t,e){var n=this;return this.h.then((function(){return wh(n,cu(n.a,ou,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return wh(n,cu(n.a,Ps,{email:t,password:e}))}))},t.Za=function(t){var e=this;return this.h.then((function(){return wh(e,t.ja(e.a))}))},t.Rc=function(t){return Zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.h.then((function(){var e=Sh(t);if(e&&e.isAnonymous){var n=ri({providerId:null,isNewUser:!1});return ri({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return wh(t,t.a.yb()).then((function(e){var n=e.user;return Bc(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return Sh(this)&&Sh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&Sh(this)&&Pc(Sh(this))},t.Oc=function(t){var e=this;B(this.u,(function(n){n==t&&e.A--})),0>this.A&&(this.A=0),0==this.A&&Sh(this)&&Oc(Sh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),xh(this,this.h.then((function(){e.m||K(e.u,t)&&t(Th(e))})))},t.removeAuthTokenListener=function(t){J(this.u,(function(e){return e==t}))},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(uh("local"),t.a,this.pa),this.b&&(zl(this.b,this),tc(this.b.b)),Promise.resolve()},t.gc=function(t){return xh(this,function(t,e){return cu(t,Os,{identifier:e,continueUri:jr()?gr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Ac=function(t){return!!jo(t)},t.vb=function(t,e){var n=this;return xh(this,Ae().then((function(){var t=new Mi(e);if(!t.c)throw new x("argument-error",ji+" must be true when sending sign in link to email");return Wi(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},t.mb=function(t,e){return xh(this,this.a.mb(t,e).then((function(){})))},t.Qa=function(t){return xh(this,this.a.Qa(t).then((function(t){return new fi(t)})))},t.ib=function(t){return xh(this,this.a.ib(t).then((function(){})))},t.ub=function(t,e){var n=this;return xh(this,Ae().then((function(){return"undefined"===typeof e||pt(e)?{}:Wi(new Mi(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},t.Vc=function(t,e){return xh(this,ac(this,t,e,w(this.Za,this)))},t.Uc=function(t,e){var n=this;return xh(this,Ae().then((function(){var r=e||gr(),i=Ro(t,r);if(!(r=jo(r)))throw new x("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new x("tenant-id-mismatch");return n.Za(i)})))},Ih.prototype.render=function(){},Ih.prototype.reset=function(){},Ih.prototype.getResponse=function(){},Ih.prototype.execute=function(){};var Nh=null;function Ah(t,e){return(e=Dh(e))&&t.a[e]||null}function Dh(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function $h(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.i="invisible"!==this.c.size,this.f=le(t);var n=this;this.h=function(){n.execute()},this.i?this.execute():pn(this.f,"click",this.h)}function Ph(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Oh(){}function Mh(){}Ch.prototype.render=function(t,e){return this.a[this.b.toString()]=new $h(t,e),this.b++},Ch.prototype.reset=function(t){var e=Ah(this,t);t=Dh(t),e&&t&&(e.delete(),delete this.a[t])},Ch.prototype.getResponse=function(t){return(t=Ah(this,t))?t.getResponse():null},Ch.prototype.execute=function(t){(t=Ah(this,t))&&t.execute()},$h.prototype.getResponse=function(){return Ph(this),this.b},$h.prototype.execute=function(){Ph(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.i&&t.execute()}),6e4)}),500))},$h.prototype.delete=function(){Ph(this),this.g=!0,clearTimeout(this.a),this.a=null,_n(this.f,"click",this.h)},ei(Oh,"FACTOR_ID","phone"),Mh.prototype.g=function(){return Nh||(Nh=new Ch),Ae(Nh)},Mh.prototype.c=function(){};var Lh=null;function Rh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var jh=new yt(St,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Fh=new Gr(3e4,6e4);Rh.prototype.g=function(t){var e=this;return new we((function(n,r){var i=setTimeout((function(){r(new x("network-request-failed"))}),Fh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new x("internal-error"));delete s[e.a]},Ae(Ja(It(jh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new x("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Rh.prototype.c=function(){this.b--};var Hh=null;function Vh(t,e,n,r,i,o,a){if(ei(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,a?(Lh||(Lh=new Mh),a=Lh):(Hh||(Hh=new Rh),a=Hh),this.v=a,this.a=n||{theme:"light",type:"image"},this.i=[],this.a[Bh])throw new x("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[Wh],!s.document)throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!le(e)||!this.h&&le(e).hasChildNodes())throw new x("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new rs(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var l=this.a[zh];this.a[zh]=function(t){if(qh(u,t),"function"===typeof l)l(t);else if("string"===typeof l){var e=Mr(l,s);"function"===typeof e&&e(t)}};var c=this.a[Uh];this.a[Uh]=function(){if(qh(u,null),"function"===typeof c)c();else if("string"===typeof c){var t=Mr(c,s);"function"===typeof t&&t()}}}var zh="callback",Uh="expired-callback",Bh="sitekey",Wh="size";function qh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Gh(t,e){return t.i.push(e),e.na((function(){Y(t.i,e)})),e}function Kh(t){if(t.A)throw new x("internal-error","RecaptchaVerifier instance has been destroyed.")}function Yh(t,e,n){var r=!1;try{this.b=n||Te.app()}catch(a){throw new x("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new x("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=Te.SDK_VERSION?Pr(Te.SDK_VERSION,o):null,Vh.call(this,n,t,e,(function(){try{var t=i.b.auth().ka()}catch(Ie){t=null}return t}),o,$(C),r)}function Jh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new x("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Xh.length)throw new x("internal-error","Argument validator received an unsupported number of arguments.");n=Xh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new x("argument-error",t+" failed: "+r)}(t=Vh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Gh(this,Ae().then((function(){if(jr()&&!xr())return Sr();throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,cu(t.s,Gs,{})})).then((function(e){t.a[Bh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Kh(this);var t=this;return Gh(this,this.Ia().then((function(){if(null===t.c){var e=t.m;if(!t.h){var n=le(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ue&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Bt(a.name),'"'),a.type){o.push(' type="',Bt(a.type),'"');var s={};_t(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ge(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ce(o,a)),2<r.length&&pe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Kh(this);var t=this;return Gh(this,this.render().then((function(e){return new we((function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push((function e(r){r&&(function(t,e){J(t.l,(function(t){return t==e}))}(t,e),n(r))})),t.h&&t.g.execute(t.c)}}))})))},t.reset=function(){Kh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Kh(this),this.A=!0,this.v.c();for(var t=0;t<this.i.length;t++)this.i[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){t=le(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},T(Yh,Vh);var Xh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Qh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"===typeof t}}}function Zh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"===typeof t}}}function tf(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:g}}function ef(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"===typeof t}}}function nf(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function rf(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ja||!n)}}}function of(t,e){return g(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Ha}function af(t){return g(t)&&"string"===typeof t.uid}function sf(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function uf(t,e){for(var n in e){var r=e[n].name;t[r]=hf(r,t[n],e[n].j)}}function lf(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:k((function(t){return this[t]}),n),set:k((function(t,e,n,r){Jh(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function cf(t,e,n,r){t[e]=hf(e,n,r)}function hf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Jh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}uf(dh.prototype,{ib:{name:"applyActionCode",j:[Qh("code")]},Qa:{name:"checkActionCode",j:[Qh("code")]},mb:{name:"confirmPasswordReset",j:[Qh("code"),Qh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Qh("email"),Qh("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Qh("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Qh("emailLink")]},Gc:{name:"onAuthStateChanged",j:[sf(tf(),ef(),"nextOrObserver"),ef("opt_error",!0),ef("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[sf(tf(),ef(),"nextOrObserver"),ef("opt_error",!0),ef("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Qh("email"),sf(tf("opt_actionCodeSettings",!0),nf(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Qh("email"),tf("actionCodeSettings")]},wb:{name:"setPersistence",j:[Qh("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[rf()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[rf()]},Sc:{name:"signInWithCustomToken",j:[Qh("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Qh("email"),Qh("password")]},Uc:{name:"signInWithEmailLink",j:[Qh("email"),Qh("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Qh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[sf({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof Ic)}},nf(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Qh(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Qh("url"),tf("options",!0)]},hd:{name:"verifyPasswordResetCode",j:[Qh("code")]}}),lf(dh.prototype,{lc:{name:"languageCode",jb:sf(Qh(),nf(),"languageCode")},ti:{name:"tenantId",jb:sf(Qh(),nf(),"tenantId")}}),dh.Persistence=al,dh.Persistence.LOCAL="local",dh.Persistence.SESSION="session",dh.Persistence.NONE="none",uf(Ic.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Zh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Zh("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[rf()]},pb:{name:"linkWithCredential",j:[rf()]},Cc:{name:"linkWithPhoneNumber",j:[Qh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[rf()]},sb:{name:"reauthenticateWithCredential",j:[rf()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Qh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[sf(tf("opt_actionCodeSettings",!0),nf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Qh(null,!0)]},bd:{name:"unlink",j:[Qh("provider")]},Ab:{name:"updateEmail",j:[Qh("email")]},Bb:{name:"updatePassword",j:[Qh("password")]},dd:{name:"updatePhoneNumber",j:[rf("phone")]},Cb:{name:"updateProfile",j:[tf("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Qh("email"),sf(tf("opt_actionCodeSettings",!0),nf(null,!0),"opt_actionCodeSettings",!0)]}}),uf(Ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uf(Ih.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uf(we.prototype,{na:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),lf(ic.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Zh("appVerificationDisabledForTesting")}}),uf(oc.prototype,{confirm:{name:"confirm",j:[Qh("verificationCode")]}}),cf(go,"fromJSON",(function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[ko,Mo,Ho,yo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[sf(Qh(),tf(),"json")]),cf(Lo,"credential",(function(t,e){return new Oo(t,e)}),[Qh("email"),Qh("password")]),uf(Oo.prototype,{w:{name:"toJSON",j:[Qh(null,!0)]}}),uf(xo.prototype,{Ca:{name:"addScope",j:[Qh("scope")]},Ka:{name:"setCustomParameters",j:[tf("customOAuthParameters")]}}),cf(xo,"credential",Io,[sf(Qh(),tf(),"token")]),cf(Lo,"credentialWithLink",Ro,[Qh("email"),Qh("emailLink")]),uf(Co.prototype,{Ca:{name:"addScope",j:[Qh("scope")]},Ka:{name:"setCustomParameters",j:[tf("customOAuthParameters")]}}),cf(Co,"credential",No,[sf(Qh(),tf(),"token")]),uf(Ao.prototype,{Ca:{name:"addScope",j:[Qh("scope")]},Ka:{name:"setCustomParameters",j:[tf("customOAuthParameters")]}}),cf(Ao,"credential",Do,[sf(Qh(),sf(tf(),nf()),"idToken"),sf(Qh(),nf(),"accessToken",!0)]),uf($o.prototype,{Ka:{name:"setCustomParameters",j:[tf("customOAuthParameters")]}}),cf($o,"credential",Po,[sf(Qh(),tf(),"token"),Qh("secret",!0)]),uf(Eo.prototype,{Ca:{name:"addScope",j:[Qh("scope")]},credential:{name:"credential",j:[sf(Qh(),sf(tf(),nf()),"optionsOrIdToken"),sf(Qh(),nf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[tf("customOAuthParameters")]}}),uf(bo.prototype,{w:{name:"toJSON",j:[Qh(null,!0)]}}),uf(_o.prototype,{w:{name:"toJSON",j:[Qh(null,!0)]}}),cf(zo,"credential",Uo,[Qh("verificationId"),Qh("verificationCode")]),uf(zo.prototype,{eb:{name:"verifyPhoneNumber",j:[sf(Qh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?of(t.session,fo)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?of(t.session,po)&&af(t.multiFactorHint):t.session&&t.multiFactorUid?of(t.session,po)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]}}),uf(Fo.prototype,{w:{name:"toJSON",j:[Qh(null,!0)]}}),uf(x.prototype,{toJSON:{name:"toJSON",j:[Qh(null,!0)]}}),uf(Qo.prototype,{toJSON:{name:"toJSON",j:[Qh(null,!0)]}}),uf(Xo.prototype,{toJSON:{name:"toJSON",j:[Qh(null,!0)]}}),uf(hc.prototype,{toJSON:{name:"toJSON",j:[Qh(null,!0)]}}),uf(uc.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),uf(_c.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Qh("displayName",!0)]},ad:{name:"unenroll",j:[sf({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:af},Qh(),"multiFactorInfoIdentifier")]}}),uf(Yh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),cf(xi,"parseLink",Oi,[Qh("link")]),cf(Oh,"assertion",(function(t){return new gc(t)}),[rf("phone")]),function(){if("undefined"===typeof Te||!Te.INTERNAL||!Te.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:pi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:di,VERIFY_AND_CHANGE_EMAIL:gi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:dh,AuthCredential:go,Error:x};cf(t,"EmailAuthProvider",Lo,[]),cf(t,"FacebookAuthProvider",xo,[]),cf(t,"GithubAuthProvider",Co,[]),cf(t,"GoogleAuthProvider",Ao,[]),cf(t,"TwitterAuthProvider",$o,[]),cf(t,"OAuthProvider",Eo,[Qh("providerId")]),cf(t,"SAMLAuthProvider",To,[Qh("providerId")]),cf(t,"PhoneAuthProvider",zo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof dh)}}]),cf(t,"RecaptchaVerifier",Yh,[sf(Qh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),tf("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof Te.app.App)}}]),cf(t,"ActionCodeURL",xi,[]),cf(t,"PhoneMultiFactorGenerator",Oh,[]),Te.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new dh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Te.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.mc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Te.registerVersion("@firebase/auth","0.16.1"),Te.INTERNAL.extendNamespace({User:Ic})}()}.apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ee=function(t,e){return Ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Ee(t,e)};function xe(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ie,Ce="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ne=Ne||{},Ae=Ce||self;function De(){}function $e(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Pe(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Oe="closure_uid_"+(1e9*Math.random()>>>0),Me=0;function Le(t,e,n){return t.call.apply(t.bind,arguments)}function Re(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function je(t,e,n){return(je=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Le:Re).apply(null,arguments)}function Fe(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function He(){return Date.now()}function Ve(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ze(){this.j=this.j,this.i=this.i}ze.prototype.j=!1,ze.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,Oe)&&t[Oe]||(t[Oe]=++Me)})(this)},ze.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ue=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Be=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function We(t){return Array.prototype.concat.apply([],arguments)}function qe(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ge(t){return/^[\s\xa0]*$/.test(t)}var Ke,Ye=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Je(t,e){return-1!=t.indexOf(e)}function Xe(t,e){return t<e?-1:t>e?1:0}t:{var Qe=Ae.navigator;if(Qe){var Ze=Qe.userAgent;if(Ze){Ke=Ze;break t}}Ke=""}function tn(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function en(t){var e={};for(var n in t)e[n]=t[n];return e}var nn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rn(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<nn.length;o++)n=nn[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function on(t){return on[" "](t),t}on[" "]=De;var an,sn=Je(Ke,"Opera"),un=Je(Ke,"Trident")||Je(Ke,"MSIE"),ln=Je(Ke,"Edge"),cn=ln||un,hn=Je(Ke,"Gecko")&&!(Je(Ke.toLowerCase(),"webkit")&&!Je(Ke,"Edge"))&&!(Je(Ke,"Trident")||Je(Ke,"MSIE"))&&!Je(Ke,"Edge"),fn=Je(Ke.toLowerCase(),"webkit")&&!Je(Ke,"Edge");function dn(){var t=Ae.document;return t?t.documentMode:void 0}t:{var pn="",gn=function(){var t=Ke;return hn?/rv:([^\);]+)(\)|;)/.exec(t):ln?/Edge\/([\d\.]+)/.exec(t):un?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):fn?/WebKit\/(\S+)/.exec(t):sn?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(gn&&(pn=gn?gn[1]:""),un){var vn=dn();if(null!=vn&&vn>parseFloat(pn)){an=String(vn);break t}}an=pn}var _n,mn={};function yn(t){return function(t,e){var n=mn;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Ye(String(an)).split("."),r=Ye(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Xe(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Xe(0==a[2].length,0==s[2].length)||Xe(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(Ae.document&&un){var bn=dn();_n=bn||(parseInt(an,10)||void 0)}else _n=void 0;var wn=_n,kn=!un||9<=Number(wn),Sn=un&&!yn("9"),Tn=function(){if(!Ae.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ae.addEventListener("test",De,e),Ae.removeEventListener("test",De,e)}catch(n){}return t}();function En(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function xn(t,e){if(En.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(hn){t:{try{on(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:In[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}En.prototype.b=function(){this.defaultPrevented=!0},Ve(xn,En);var In={2:"touch",3:"pen",4:"mouse"};xn.prototype.b=function(){xn.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Sn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Cn="closure_listenable_"+(1e6*Math.random()|0),Nn=0;function An(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Nn,this.Y=this.Z=!1}function Dn(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function $n(t){this.src=t,this.a={},this.b=0}function Pn(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Ue(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Dn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function On(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}$n.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=On(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new An(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Mn="closure_lm_"+(1e6*Math.random()|0),Ln={};function Rn(t,e,n,r,i){if(r&&r.once)return Fn(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Rn(t,e[o],n,r,i);return null}return n=Gn(n),t&&t[Cn]?t.va(e,n,Pe(r)?!!r.capture:!!r,i):jn(t,e,n,!1,r,i)}function jn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Pe(i)?!!i.capture:!!i;if(a&&!kn)return null;var s=Wn(t);if(s||(t[Mn]=s=new $n(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Bn,e=kn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Tn||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(zn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Fn(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Fn(t,e[o],n,r,i);return null}return n=Gn(n),t&&t[Cn]?t.wa(e,n,Pe(r)?!!r.capture:!!r,i):jn(t,e,n,!0,r,i)}function Hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Hn(t,e[o],n,r,i);else r=Pe(r)?!!r.capture:!!r,n=Gn(n),t&&t[Cn]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=On(o=t.a[e],n,r,i))&&(Dn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Wn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=On(e,n,r,i)),(n=-1<t?e[t]:null)&&Vn(n))}function Vn(t){if("number"!==typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Cn])Pn(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(zn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Wn(e))?(Pn(n,t),0==n.b&&(n.src=null,e[Mn]=null)):Dn(t)}}}function zn(t){return t in Ln?Ln[t]:Ln[t]="on"+t}function Un(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Vn(t),n.call(r,e)}function Bn(t,e){if(t.Y)return!0;if(!kn){if(!e)t:{e=["window","event"];for(var n=Ae,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Un(t,e=new xn(e,this))}return Un(t,new xn(e,this))}function Wn(t){return(t=t[Mn])instanceof $n?t:null}var qn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gn(t){return"function"===typeof t?t:(t[qn]||(t[qn]=function(e){return t.handleEvent(e)}),t[qn])}function Kn(){ze.call(this),this.c=new $n(this),this.J=this,this.C=null}function Yn(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"===typeof e)e=new En(e,t);else if(e instanceof En)e.target=e.target||t;else{var i=e;rn(e=new En(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Jn(a,r,!0,e)&&i}if(i=Jn(a=e.a=t,r,!0,e)&&i,i=Jn(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Jn(a=e.a=n[o],r,!1,e)&&i}function Jn(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&Pn(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Ve(Kn,ze),Kn.prototype[Cn]=!0,(Ie=Kn.prototype).addEventListener=function(t,e,n,r){Rn(this,t,e,n,r)},Ie.removeEventListener=function(t,e,n,r){Hn(this,t,e,n,r)},Ie.G=function(){if(Kn.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Dn(n[r]);delete e.a[t],e.b--}}this.C=null},Ie.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ie.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Xn=Ae.JSON.stringify;function Qn(){this.b=this.a=null}var Zn,tr=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new nr}),(function(t){t.reset()}));function er(){var t=ar,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function nr(){this.next=this.b=this.a=null}function rr(t){Ae.setTimeout((function(){throw t}),0)}function ir(t,e){Zn||function(){var t=Ae.Promise.resolve(void 0);Zn=function(){t.then(sr)}}(),or||(Zn(),or=!0),ar.add(t,e)}Qn.prototype.add=function(t,e){var n=tr.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},nr.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},nr.prototype.reset=function(){this.next=this.b=this.a=null};var or=!1,ar=new Qn;function sr(){for(var t;t=er();){try{t.a.call(t.b)}catch(n){rr(n)}var e=tr;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}or=!1}function ur(t,e){Kn.call(this),this.b=t||1,this.a=e||Ae,this.f=je(this.Za,this),this.g=He()}function lr(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function cr(t,e,n){if("function"===typeof t)n&&(t=je(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=je(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ae.setTimeout(t,e||0)}function hr(t){t.a=cr((function(){t.a=null,t.c&&(t.c=!1,hr(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ve(ur,Kn),(Ie=ur.prototype).aa=!1,Ie.M=null,Ie.Za=function(){if(this.aa){var t=He()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Yn(this,"tick"),this.aa&&(lr(this),this.start()))}},Ie.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=He())},Ie.G=function(){ur.X.G.call(this),lr(this),delete this.a};var fr=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Ee(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:hr(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ae.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(ze);function dr(t){ze.call(this),this.b=t,this.a={}}Ve(dr,ze);var pr=[];function gr(t,e,n,r){Array.isArray(n)||(n&&(pr[0]=n.toString()),n=pr);for(var i=0;i<n.length;i++){var o=Rn(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function vr(t){tn(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Vn(t)}),t),t.a={}}function _r(){this.a=!0}function mr(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Xn(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}dr.prototype.G=function(){dr.X.G.call(this),vr(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_r.prototype.info=function(){};var yr={},br=null;function wr(){return br=br||new Kn}function kr(t){En.call(this,yr.Fa,t)}function Sr(t){var e=wr();Yn(e,new kr(e,t))}function Tr(t,e){En.call(this,yr.STAT_EVENT,t),this.stat=e}function Er(t){var e=wr();Yn(e,new Tr(e,t))}function xr(t){En.call(this,yr.Ga,t)}function Ir(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return Ae.setTimeout((function(){t()}),e)}yr.Fa="serverreachability",Ve(kr,En),yr.STAT_EVENT="statevent",Ve(Tr,En),yr.Ga="timingevent",Ve(xr,En);var Cr={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Nr={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Ar(){}function Dr(t){var e;return(e=t.a)||(e=t.a={}),e}function $r(){}Ar.prototype.a=null;var Pr,Or={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Mr(){En.call(this,"d")}function Lr(){En.call(this,"c")}function Rr(){}function jr(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new dr(this),this.P=Fr,t=cn?125:void 0,this.R=new ur(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ve(Mr,En),Ve(Lr,En),Ve(Rr,Ar),Pr=new Rr;var Fr=45e3,Hr={},Vr={};function zr(t,e,n){t.H=1,t.i=ci(ii(e)),t.j=n,t.I=!0,Ur(t,null)}function Ur(t,e){t.u=He(),qr(t),t.l=ii(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Si(n.b,"t",r),t.D=0,t.a=mo(t.g,t.g.C?e:null),0<t.O&&(t.F=new fr(je(t.Ca,t,t.a),t.O)),gr(t.J,t.a,"readystatechange",t.Xa),e=t.B?en(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Sr(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+l+"&":a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Br(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Wr(t,n);if(i==Vr){4==e&&(t.h=4,Er(14),r=!1),mr(t.c,t.f,null,"[Incomplete Response]");break}if(i==Hr){t.h=4,Er(15),mr(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}mr(t.c,t.f,i,null),Xr(t,i)}4==e&&0==n.length&&(t.h=1,Er(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),lo(e),e.F=!0,Er(11))):(mr(t.c,t.f,n,"[Invalid Chunked Response]"),Jr(t),Yr(t))}function Wr(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Vr:(n=Number(e.substring(n,r)),isNaN(n)?Hr:(r+=1)+n>e.length?Vr:(e=e.substr(r,n),t.D=r+n,e))}function qr(t){t.T=He()+t.P,Gr(t,t.P)}function Gr(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ir(je(t.Va,t),e)}function Kr(t){t.o&&(Ae.clearTimeout(t.o),t.o=null)}function Yr(t){0==t.g.v||t.A||fo(t.g,t)}function Jr(t){Kr(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,lr(t.R),vr(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Xr(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ai(n.b,t)))if(n.I=t.N,!t.C&&Ai(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(hg){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;ho(n),to(n)}uo(n),Er(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ir(je(n.Sa,n),6e3));if(1>=Ni(n.b)&&n.ea){try{n.ea()}catch(hg){}n.ea=void 0}}else go(n,11)}else if((t.C||n.a==t)&&ho(n),!Ge(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"===typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var l=t.a;if(l){var c=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=u.b;!h.a&&(Je(c,"spdy")||Je(c,"quic")||Je(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Di(h,h.b),h.b=null))}if(u.A){var f=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,li(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=He()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=_o(u,u.C?u.ga:null,u.fa),d.C){$i(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Kr(p),qr(p)),u.a=d}else so(u);0<n.g.length&&ro(n)}else"stop"!=i[0]&&"close"!=i[0]||go(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?go(n,7):Zi(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Sr(4)}catch(hg){}}function Qr(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if($e(t)||"string"===typeof t)Be(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if($e(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"===typeof t)return t.split("");if($e(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Zr(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Zr)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ti(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ei(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ei(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ei(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ie=jr.prototype).setTimeout=function(t){this.P=t},Ie.Xa=function(t){t=t.target;var e=this.F;e&&3==Yi(t)?e.f():this.Ca(t)},Ie.Ca=function(t){try{if(t==this.a)t:{var e=Yi(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!cn&&!this.a.$())){this.A||4!=e||7==n||Sr(8==n||0>=r?3:2),Kr(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ge(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,Er(12),Jr(this),Yr(this);break t}mr(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Xr(this,u)}this.I?(Br(this,e,o),cn&&this.b&&3==e&&(gr(this.J,this.R,"tick",this.Wa),this.R.start())):(mr(this.c,this.f,o,null),Xr(this,o)),4==e&&Jr(this),this.b&&!this.A&&(4==e?fo(this.g,this):(this.b=!1,qr(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Er(12)):(this.h=0,Er(13)),Jr(this),Yr(this)}}}catch(l){}},Ie.Wa=function(){if(this.a){var t=Yi(this.a),e=this.a.$();this.D<e.length&&(Kr(this),Br(this,t,e),this.b&&4!=t&&qr(this))}},Ie.cancel=function(){this.A=!0,Jr(this)},Ie.Va=function(){this.o=null;var t=He();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Sr(3),Er(17)),Jr(this),this.h=2,Yr(this)):Gr(this,this.T-t)},(Ie=Zr.prototype).K=function(){ti(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ie.L=function(){return ti(this),this.a.concat()},Ie.get=function(t,e){return ei(this.b,t)?this.b[t]:e},Ie.set=function(t,e){ei(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ie.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ni=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ri(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ri){this.a=void 0!==e?e:t.a,oi(this,t.f),this.j=t.j,ai(this,t.c),si(this,t.h),this.g=t.g,e=t.b;var n=new yi;n.c=e.c,e.a&&(n.a=new Zr(e.a),n.b=e.b),ui(this,n),this.i=t.i}else t&&(n=String(t).match(ni))?(this.a=!!e,oi(this,n[1]||"",!0),this.j=hi(n[2]||""),ai(this,n[3]||"",!0),si(this,n[4]),this.g=hi(n[5]||"",!0),ui(this,n[6]||"",!0),this.i=hi(n[7]||"")):(this.a=!!e,this.b=new yi(null,this.a))}function ii(t){return new ri(t)}function oi(t,e,n){t.f=n?hi(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ai(t,e,n){t.c=n?hi(e,!0):e}function si(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ui(t,e,n){e instanceof yi?(t.b=e,function(t,e){e&&!t.f&&(bi(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(wi(this,e),Si(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=fi(e,_i)),t.b=new yi(e,t.a))}function li(t,e,n){t.b.set(e,n)}function ci(t){return li(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^He()).toString(36)),t}function hi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fi(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,di),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function di(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ri.prototype.toString=function(){var t=[],e=this.f;e&&t.push(fi(e,pi,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(fi(e,pi,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(fi(n,"/"==n.charAt(0)?vi:gi,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",fi(n,mi)),t.join("")};var pi=/[#\/\?@]/g,gi=/[#\?:]/g,vi=/[#\?]/g,_i=/[#\?@]/g,mi=/#/g;function yi(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function bi(t){t.a||(t.a=new Zr,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function wi(t,e){bi(t),e=Ti(t,e),ei(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ei((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ti(t)))}function ki(t,e){return bi(t),e=Ti(t,e),ei(t.a.b,e)}function Si(t,e,n){wi(t,e),0<n.length&&(t.c=null,t.a.set(Ti(t,e),qe(n)),t.b+=n.length)}function Ti(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ie=yi.prototype).add=function(t,e){bi(this),this.c=null,t=Ti(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ie.forEach=function(t,e){bi(this),this.a.forEach((function(n,r){Be(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Ie.L=function(){bi(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Ie.K=function(t){bi(this);var e=[];if("string"===typeof t)ki(this,t)&&(e=We(e,this.a.get(Ti(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=We(e,t[n])}return e},Ie.set=function(t,e){return bi(this),this.c=null,ki(this,t=Ti(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ie.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ie.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Ei=function(t,e){this.b=t,this.a=e};function xi(t){this.g=t||Ii,Ae.PerformanceNavigationTiming?t=0<(t=Ae.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(Ae.ia&&Ae.ia.ya&&Ae.ia.ya()&&Ae.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Ii=10;function Ci(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ni(t){return t.b?1:t.a?t.a.size:0}function Ai(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Di(t,e){t.a?t.a.add(e):t.b=e}function $i(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Pi(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=xe(t.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return qe(t.c)}function Oi(){}function Mi(){this.a=new Oi}function Li(t,e,n){var r=n||"";try{Qr(t,(function(t,n){var i=t;Pe(t)&&(i=Xn(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Qg){throw e.push(r+"type="+encodeURIComponent("_badmap")),Qg}}function Ri(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}xi.prototype.cancel=function(){var t,e;if(this.c=Pi(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=xe(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Oi.prototype.stringify=function(t){return Ae.JSON.stringify(t,void 0)},Oi.prototype.parse=function(t){return Ae.JSON.parse(t,void 0)};var ji=Ae.JSON.parse;function Fi(t){Kn.call(this),this.headers=new Zr,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Hi,this.D=this.F=!1}Ve(Fi,Kn);var Hi="",Vi=/^https?$/i,zi=["POST","PUT"];function Ui(t){return"content-type"==t.toLowerCase()}function Bi(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Wi(t),Gi(t)}function Wi(t){t.u||(t.u=!0,Yn(t,"complete"),Yn(t,"error"))}function qi(t){if(t.b&&"undefined"!=typeof Ne&&(!t.s[1]||4!=Yi(t)||2!=t.W()))if(t.l&&4==Yi(t))cr(t.za,0,t);else if(Yn(t,"readystatechange"),4==Yi(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(ni)[1]||null;if(!o&&Ae.self&&Ae.self.location){var a=Ae.self.location.protocol;o=a.substr(0,a.length-1)}i=!Vi.test(o?o.toLowerCase():"")}e=i}if(e)Yn(t,"complete"),Yn(t,"success");else{t.h=6;try{var s=2<Yi(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",Wi(t)}}finally{Gi(t)}}}function Gi(t,e){if(t.a){Ki(t);var n=t.a,r=t.s[0]?De:null;t.a=null,t.s=null,e||Yn(t,"ready");try{n.onreadystatechange=r}catch(Qg){}}}function Ki(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ae.clearTimeout(t.m),t.m=null)}function Yi(t){return t.a?t.a.readyState:0}function Ji(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return tn(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):li(t,e,n))}function Xi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Qi(t){this.pa=0,this.g=[],this.c=new _r,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Xi("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Xi("baseRetryDelayMs",5e3,t),this.Ra=Xi("retryDelaySeedMs",1e4,t),this.Ma=Xi("forwardChannelMaxRetries",2,t),this.ma=Xi("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new xi(t&&t.concurrentRequestLimit),this.ka=new Mi,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Zi(t){if(eo(t),3==t.v){var e=t.R++,n=ii(t.B);li(n,"SID",t.J),li(n,"RID",e),li(n,"TYPE","terminate"),oo(t,n),(e=new jr(t,t.c,e,void 0)).H=2,e.i=ci(ii(n)),n=!1,Ae.navigator&&Ae.navigator.sendBeacon&&(n=Ae.navigator.sendBeacon(e.i.toString(),"")),!n&&Ae.Image&&((new Image).src=e.i,n=!0),n||(e.a=mo(e.g,null),e.a.ba(e.i)),e.u=He(),qr(e)}vo(t)}function to(t){t.a&&(lo(t),t.a.cancel(),t.a=null)}function eo(t){to(t),t.j&&(Ae.clearTimeout(t.j),t.j=null),ho(t),t.b.cancel(),t.h&&("number"===typeof t.h&&Ae.clearTimeout(t.h),t.h=null)}function no(t,e){t.g.push(new Ei(t.Oa++,e)),3==t.v&&ro(t)}function ro(t){Ci(t.b)||t.h||(t.h=!0,ir(t.Ba,t),t.u=0)}function io(t,e){var n;n=e?e.f:t.R++;var r=ii(t.B);li(r,"SID",t.J),li(r,"RID",n),li(r,"AID",t.P),oo(t,r),t.i&&t.l&&Ji(r,t.i,t.l),n=new jr(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=ao(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Di(t.b,n),zr(n,r,e)}function oo(t,e){t.f&&Qr({},(function(t,n){li(e,n,t)}))}function ao(t,e,n){n=Math.min(t.g.length,n);var r=t.f?je(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var l=i[u].b,c=i[u].a;if(0>(l-=o))o=Math.max(0,i[u].b-100),s=!1;else try{Li(c,a,"req"+l+"_")}catch(sa){r&&r(c)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function so(t){t.a||t.j||(t.T=1,ir(t.Aa,t),t.o=0)}function uo(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=Ir(je(t.Aa,t),po(t,t.o)),t.o++,!0)}function lo(t){null!=t.s&&(Ae.clearTimeout(t.s),t.s=null)}function co(t){t.a=new jr(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ii(t.la);li(e,"RID","rpc"),li(e,"SID",t.J),li(e,"CI",t.H?"0":"1"),li(e,"AID",t.P),oo(t,e),li(e,"TYPE","xmlhttp"),t.i&&t.l&&Ji(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ci(ii(e)),n.j=null,n.I=!0,Ur(n,t)}function ho(t){null!=t.m&&(Ae.clearTimeout(t.m),t.m=null)}function fo(t,e){var n=null;if(t.a==e){ho(t),lo(t),t.a=null;var r=2}else{if(!Ai(t.b,e))return;n=e.s,$i(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=He()-e.u;var i=t.u;Yn(r=wr(),new xr(r,n,e,i)),ro(t)}else so(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ni(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=e.s.concat(t.g),!0):!(1==t.v||2==t.v||t.u>=(t.La?0:t.Ma))&&(t.h=Ir(je(t.Ba,t,e),po(t,t.u)),t.u++,!0))}(t,e)||2==r&&uo(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:go(t,5);break;case 4:go(t,10);break;case 3:go(t,6);break;default:go(t,2)}}function po(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function go(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=je(t.Ya,t);n||(n=new ri("//www.google.com/images/cleardot.gif"),Ae.location&&"http"==Ae.location.protocol||oi(n,"https"),ci(n)),function(t,e){var n=new _r;if(Ae.Image){var r=new Image;r.onload=Fe(Ri,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Fe(Ri,n,r,"TestLoadImage: error",!1,e),r.onabort=Fe(Ri,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Fe(Ri,n,r,"TestLoadImage: timeout",!1,e),Ae.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Er(2);t.v=0,t.f&&t.f.ra(e),vo(t),eo(t)}function vo(t){t.v=0,t.I=-1,t.f&&(0==Pi(t.b).length&&0==t.g.length||(t.b.c.length=0,qe(t.g),t.g.length=0),t.f.qa())}function _o(t,e,n){var r=function(t){return t instanceof ri?ii(t):new ri(t,void 0)}(n);if(""!=r.c)e&&ai(r,e+"."+r.c),si(r,r.h);else{var i=Ae.location;r=function(t,e,n,r){var i=new ri(null,void 0);return t&&oi(i,t),e&&ai(i,e),n&&si(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&tn(t.V,(function(t,e){li(r,e,t)})),e=t.A,n=t.na,e&&n&&li(r,e,n),li(r,"VER",t.ha),oo(t,r),r}function mo(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Fi(t.Na)).F=t.C,e}function yo(){}function bo(){if(un&&!(10<=Number(wn)))throw Error("Environmental error: no available transport.")}function wo(t,e){Kn.call(this),this.a=new Qi(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ge(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ge(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new To(this)}function ko(t){Mr.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function So(){Lr.call(this),this.status=1}function To(t){this.a=t}(Ie=Fi.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Dr(this.H):Dr(Pr),this.a.onreadystatechange=je(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Bi(this,o)}t=n||"";var i=new Zr(this.headers);r&&Qr(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Ui,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(i.L()),n=Ae.FormData&&t instanceof Ae.FormData,!(0<=Ue(zi,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Ki(this),0<this.o&&((this.D=function(t){return un&&yn(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=je(this.xa,this)):this.m=cr(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Bi(this,o)}},Ie.xa=function(){"undefined"!=typeof Ne&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Yn(this,"timeout"),this.abort(8))},Ie.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Yn(this,"complete"),Yn(this,"abort"),Gi(this))},Ie.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Gi(this,!0)),Fi.X.G.call(this)},Ie.za=function(){this.j||(this.A||this.l||this.g?qi(this):this.Ua())},Ie.Ua=function(){qi(this)},Ie.W=function(){try{return 2<Yi(this)?this.a.status:-1}catch(t){return-1}},Ie.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},Ie.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ji(e)}},Ie.ua=function(){return this.h},Ie.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},(Ie=Qi.prototype).ha=8,Ie.v=1,Ie.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new jr(this,this.c,t,void 0),r=this.l;if(this.O&&(r?rn(r=en(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ao(this,n,e),li(i=ii(this.B),"RID",t),li(i,"CVER",22),this.A&&li(i,"X-HTTP-Session-Id",this.A),oo(this,i),this.i&&r&&Ji(i,this.i,r),Di(this.b,n),this.Ia&&li(i,"TYPE","init"),this.da?(li(i,"$req",e),li(i,"SID","null"),n.U=!0,zr(n,i,null)):zr(n,i,e),this.v=2}}else 3==this.v&&(t?io(this,t):0==this.g.length||Ci(this.b)||io(this))},Ie.Aa=function(){if(this.j=null,co(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ir(je(this.Ta,this),t)}},Ie.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Er(10),to(this),co(this))},Ie.Sa=function(){null!=this.m&&(this.m=null,to(this),uo(this),Er(19))},Ie.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Er(2)):(this.c.info("Failed to ping google.com"),Er(1))},(Ie=yo.prototype).ta=function(){},Ie.sa=function(){},Ie.ra=function(){},Ie.qa=function(){},Ie.Ja=function(){},bo.prototype.a=function(t,e){return new wo(t,e)},Ve(wo,Kn),wo.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Er(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=_o(t,null,t.fa),ro(t)},wo.prototype.close=function(){Zi(this.a)},wo.prototype.h=function(t){if("string"===typeof t){var e={};e.__data__=t,no(this.a,e)}else this.l?((e={}).__data__=Xn(t),no(this.a,e)):no(this.a,t)},wo.prototype.G=function(){this.a.f=null,delete this.f,Zi(this.a),delete this.a,wo.X.G.call(this)},Ve(ko,Mr),Ve(So,Lr),Ve(To,yo),To.prototype.ta=function(){Yn(this.a,"a")},To.prototype.sa=function(t){Yn(this.a,new ko(t))},To.prototype.ra=function(t){Yn(this.a,new So(t))},To.prototype.qa=function(){Yn(this.a,"b")},bo.prototype.createWebChannel=bo.prototype.a,wo.prototype.send=wo.prototype.h,wo.prototype.open=wo.prototype.g,wo.prototype.close=wo.prototype.close,Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,Nr.COMPLETE="complete",$r.EventType=Or,Or.OPEN="a",Or.CLOSE="b",Or.ERROR="c",Or.MESSAGE="d",Kn.prototype.listen=Kn.prototype.va,Fi.prototype.listenOnce=Fi.prototype.wa,Fi.prototype.getLastError=Fi.prototype.Qa,Fi.prototype.getLastErrorCode=Fi.prototype.ua,Fi.prototype.getStatus=Fi.prototype.W,Fi.prototype.getResponseJson=Fi.prototype.Pa,Fi.prototype.getResponseText=Fi.prototype.$,Fi.prototype.send=Fi.prototype.ba;var Eo=function(){return new bo},xo=function(){return wr()},Io=Cr,Co=Nr,No=yr,Ao={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},Do=$r,$o=Fi,Po=function(t,e){return Po=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Po(t,e)};function Oo(t,e){function n(){this.constructor=t}Po(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function Mo(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(Qg){o(Qg)}}function s(t){try{u(r.throw(t))}catch(Qg){o(Qg)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function Lo(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(Qg){o=[6,Qg],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Ro(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var jo=new ue("@firebase/firestore");function Fo(){return jo.logLevel}function Ho(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(jo.logLevel<=ee.DEBUG){var r=e.map(Uo);jo.debug.apply(jo,Ro(["Firestore (8.2.2): "+t],r))}}function Vo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(jo.logLevel<=ee.ERROR){var r=e.map(Uo);jo.error.apply(jo,Ro(["Firestore (8.2.2): "+t],r))}}function zo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(jo.logLevel<=ee.WARN){var r=e.map(Uo);jo.warn.apply(jo,Ro(["Firestore (8.2.2): "+t],r))}}function Uo(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function Bo(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.2) INTERNAL ASSERTION FAILED: "+t;throw Vo(e),new Error(e)}function Wo(t,e){t||Bo()}function qo(t,e){return t}function Go(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ko=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Go(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Yo(t,e){return t<e?-1:t>e?1:0}function Jo(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Xo(t){return t+"\0"}var Qo=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.i,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Yo(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Qo.h=new Qo("");var Zo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ta=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Oo(e,t),e}(Error),ea=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Qo.fromBase64String(e))}catch(e){throw new ta(Zo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Qo.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),na=function(t){this._=t};function ra(){if("undefined"==typeof Uint8Array)throw new ta(Zo.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ia(){if("undefined"==typeof atob)throw new ta(Zo.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var oa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oo(e,t),e.fromBase64String=function(t){return ia(),new e(ea.fromBase64String(t))},e.fromUint8Array=function(t){return ra(),new e(ea.fromUint8Array(t))},e.prototype.toBase64=function(){return ia(),this._.toBase64()},e.prototype.toUint8Array=function(){return ra(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(na),aa=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},sa=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),ua=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();ua.UNAUTHENTICATED=new ua(null),ua.P=new ua("google-credentials-uid"),ua.g=new ua("first-party-uid");var la=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},ca=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(ua.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),ha=function(){function t(t){var e=this;this.C=null,this.currentUser=ua.UNAUTHENTICATED,this.N=!1,this.O=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.O++,e.currentUser=e.F(),e.N=!0,e.p&&e.p(e.currentUser)},this.O=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.O,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.O!==e?(Ho("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Wo("string"==typeof n.accessToken),new la(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return Wo(null===t||"string"==typeof t),new ua(t)},t}(),fa=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=ua.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),da=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new fa(this.k,this.M))},t.prototype.S=function(t){t(ua.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),pa=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();pa.U=-1;var ga=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ta(Zo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ta(Zo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ta(Zo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ta(Zo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?Yo(this.nanoseconds,t.nanoseconds):Yo(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),va=function(){function t(t){this.timestamp=t}return t.j=function(e){return new t(e)},t.min=function(){return new t(new ga(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),_a=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Bo(),void 0===n?n=t.length-e:n>t.length-e&&Bo(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return t=void 0===t?1:t,this.Y(this.segments,this.offset+t,this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ma=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oo(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new ta(Zo.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.at=function(){return new e([])},e}(_a),ya=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ba=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oo(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return ya.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new ta(Zo.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new ta(Zo.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ta(Zo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new ta(Zo.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(_a),wa=function(){function t(t){this.path=t}return t.ft=function(e){return new t(ma.ct(e))},t.dt=function(e){return new t(ma.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ma.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return ma.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new ma(e.slice()))},t}();function ka(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sa(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ta(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ea=function(){function t(t){this.fields=t,t.sort(ba.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return Jo(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),xa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ia(t){if(Wo(!!t),"string"==typeof t){var e=0,n=xa.exec(t);if(Wo(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ca(t.seconds),nanos:Ca(t.nanos)}}function Ca(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Na(t){return"string"==typeof t?Qo.fromBase64String(t):Qo.fromUint8Array(t)}function Aa(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Da(t){var e=t.mapValue.fields.__previous_value__;return Aa(e)?Da(e):e}function $a(t){var e=Ia(t.mapValue.fields.__local_write_time__.timestampValue);return new ga(e.seconds,e.nanos)}function Pa(t){return null==t}function Oa(t){return 0===t&&1/t==-1/0}function Ma(t){return"number"==typeof t&&Number.isInteger(t)&&!Oa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function La(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Aa(t)?4:10:Bo()}function Ra(t,e){var n=La(t);if(n!==La(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $a(t).isEqual($a(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ia(t.timestampValue),r=Ia(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Na(t.bytesValue).isEqual(Na(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ca(t.geoPointValue.latitude)===Ca(e.geoPointValue.latitude)&&Ca(t.geoPointValue.longitude)===Ca(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ca(t.integerValue)===Ca(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ca(t.doubleValue),r=Ca(e.doubleValue);return n===r?Oa(n)===Oa(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Jo(t.arrayValue.values||[],e.arrayValue.values||[],Ra);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(ka(n)!==ka(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ra(n[i],r[i])))return!1;return!0}(t,e);default:return Bo()}}function ja(t,e){return void 0!==(t.values||[]).find((function(t){return Ra(t,e)}))}function Fa(t,e){var n=La(t),r=La(e);if(n!==r)return Yo(n,r);switch(n){case 0:return 0;case 1:return Yo(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ca(t.integerValue||t.doubleValue),r=Ca(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ha(t.timestampValue,e.timestampValue);case 4:return Ha($a(t),$a(e));case 5:return Yo(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Na(t),r=Na(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Yo(n[i],r[i]);if(0!==o)return o}return Yo(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Yo(Ca(t.latitude),Ca(e.latitude));return 0!==n?n:Yo(Ca(t.longitude),Ca(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Fa(n[i],r[i]);if(o)return o}return Yo(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Yo(r[a],o[a]);if(0!==s)return s;var u=Fa(n[r[a]],i[o[a]]);if(0!==u)return u}return Yo(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Bo()}}function Ha(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Yo(t,e);var n=Ia(t),r=Ia(e),i=Yo(n.seconds,r.seconds);return 0!==i?i:Yo(n.nanos,r.nanos)}function Va(t){return za(t)}function za(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Ia(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Na(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,wa.dt(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=za(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+za(t.fields[o])}return e+"}"}(t.mapValue):Bo();var e,n}function Ua(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function Ba(t){return!!t&&"integerValue"in t}function Wa(t){return!!t&&"arrayValue"in t}function qa(t){return!!t&&"nullValue"in t}function Ga(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ka(t){return!!t&&"mapValue"in t}var Ya=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Ka(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return Ra(this.proto,t.proto)},t}(),Ja=function(){function t(t){void 0===t&&(t=Ya.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===La(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(ba.at(),this.Rt);return null!=t?new Ya(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=Ka(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.gt(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Xa(t){var e=[];return Sa(t.fields||{},(function(t,n){var r=new ba([t]);if(Ka(n)){var i=Xa(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new Ea(e)}var Qa=function(t,e){this.key=t,this.version=e},Za=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Oo(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Qa),ts=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Oo(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Qa),es=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oo(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Qa),ns=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.St=null};function rs(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ns(t,e,n,r,i,o,a)}function is(t){var e=qo(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+Va(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),Pa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=_s(e.startAt)),e.endAt&&(n+="|ub:",n+=_s(e.endAt)),e.St=n}return e.St}function os(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!ys(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Ra(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ws(t.startAt,e.startAt)&&ws(t.endAt,e.endAt)}function as(t){return wa.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ss=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Oo(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new us(t,n,r):"array-contains"===n?new fs(t,r):"in"===n?new ds(t,r):"not-in"===n?new ps(t,r):"array-contains-any"===n?new gs(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new ls(t,n):new cs(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(Fa(e,this.value)):null!==e&&La(this.value)===La(e)&&this.Ct(Fa(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Bo()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),us=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=wa.dt(r.referenceValue),i}return Oo(e,t),e.prototype.matches=function(t){var e=wa.J(t.key,this.key);return this.Ct(e)},e}(ss),ls=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=hs("in",n),r}return Oo(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(ss),cs=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=hs("not-in",n),r}return Oo(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(ss);function hs(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return wa.dt(t.referenceValue)}))}var fs=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Oo(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Wa(e)&&ja(e.arrayValue,this.value)},e}(ss),ds=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Oo(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ja(this.value.arrayValue,e)},e}(ss),ps=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Oo(e,t),e.prototype.matches=function(t){if(ja(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!ja(this.value.arrayValue,e)},e}(ss),gs=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Oo(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Wa(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ja(e.value.arrayValue,t)}))},e}(ss),vs=function(t,e){this.position=t,this.before=e};function _s(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Va(t)})).join(",")}var ms=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ys(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function bs(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.ht()?wa.J(wa.dt(a.referenceValue),n.key):Fa(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ws(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ra(t.position[n],e.position[n]))return!1;return!0}var ks=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Ot=null,this.Ft=null,this.startAt,this.endAt};function Ss(t,e,n,r,i,o,a,s){return new ks(t,e,n,r,i,o,a,s)}function Ts(t){return new ks(t)}function Es(t){return!Pa(t.limit)&&"F"===t.limitType}function xs(t){return!Pa(t.limit)&&"L"===t.limitType}function Is(t){return t.Nt.length>0?t.Nt[0].field:null}function Cs(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function Ns(t){return null!==t.collectionGroup}function As(t){var e=qo(t);if(null===e.Ot){e.Ot=[];var n=Cs(e),r=Is(e);if(null!==n&&null===r)n.ht()||e.Ot.push(new ms(n)),e.Ot.push(new ms(ba.lt(),"asc"));else{for(var i=!1,o=0,a=e.Nt;o<a.length;o++){var s=a[o];e.Ot.push(s),s.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ot.push(new ms(ba.lt(),u))}}}return e.Ot}function Ds(t){var e=qo(t);if(!e.Ft)if("F"===e.limitType)e.Ft=rs(e.path,e.collectionGroup,As(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=As(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new ms(o.field,a))}var s=e.endAt?new vs(e.endAt.position,!e.endAt.before):null,u=e.startAt?new vs(e.startAt.position,!e.startAt.before):null;e.Ft=rs(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.Ft}function $s(t,e,n){return new ks(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ps(t,e){return os(Ds(t),Ds(e))&&t.limitType===e.limitType}function Os(t){return is(Ds(t))+"|lt:"+t.limitType}function Ms(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+Va(e.value);var e})).join(", ")+"]"),Pa(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+_s(t.startAt)),t.endAt&&(e+=", endAt: "+_s(t.endAt)),"Target("+e+")"}(Ds(t))+"; limitType="+t.limitType+")"}function Ls(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):wa.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!bs(t.startAt,As(t),e))&&(!t.endAt||!bs(t.endAt,As(t),e))}(t,e)}function Rs(t){return function(e,n){for(var r=!1,i=0,o=As(t);i<o.length;i++){var a=o[i],s=js(a,e,n);if(0!==s)return s;r=r||a.field.ht()}return 0}}function js(t,e,n){var r=t.field.ht()?wa.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Fa(r,i):Bo()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Bo()}}var Fs=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=va.min()),void 0===o&&(o=va.min()),void 0===a&&(a=Qo.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function Hs(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oa(e)?"-0":e}}function Vs(t){return{integerValue:""+t}}function zs(t,e){return Ma(e)?Vs(e):Hs(t,e)}var Us=function(){this.Ut=void 0};function Bs(t,e,n){return t instanceof Gs?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ks?Ys(t,e):t instanceof Js?Xs(t,e):function(t,e){var n=qs(t,e),r=Zs(n)+Zs(t.Qt);return Ba(n)&&Ba(t.Qt)?Vs(r):Hs(t.Kt,r)}(t,e)}function Ws(t,e,n){return t instanceof Ks?Ys(t,e):t instanceof Js?Xs(t,e):n}function qs(t,e){return t instanceof Qs?Ba(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Gs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oo(e,t),e}(Us),Ks=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Oo(e,t),e}(Us);function Ys(t,e){for(var n=tu(e),r=function(t){n.some((function(e){return Ra(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Js=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Oo(e,t),e}(Us);function Xs(t,e){for(var n=tu(e),r=function(t){n=n.filter((function(e){return!Ra(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Qs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Oo(e,t),e}(Us);function Zs(t){return Ca(t.integerValue||t.doubleValue)}function tu(t){return Wa(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var eu=function(t,e){this.field=t,this.transform=e},nu=function(t,e){this.version=t,this.transformResults=e},ru=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.jt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function iu(t,e){return void 0!==t.updateTime?e instanceof Za&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Za}var ou=function(){};function au(t,e,n){return t instanceof hu?function(t,e,n){var r=t.value;if(n.transformResults){var i=pu(t.fieldTransforms,e,n.transformResults);r=vu(t.fieldTransforms,r,i)}return new Za(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof fu?function(t,e,n){if(!iu(t.Gt,e))return new es(t.key,n.version);var r=du(t,e,n.transformResults?pu(t.fieldTransforms,e,n.transformResults):[]);return new Za(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new ts(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function su(t,e,n,r){return t instanceof hu?function(t,e,n,r){if(!iu(t.Gt,e))return e;var i=t.value,o=gu(t.fieldTransforms,n,e);i=vu(t.fieldTransforms,i,o);var a=cu(e);return new Za(t.key,a,i,{bt:!0})}(t,e,r):t instanceof fu?function(t,e,n,r){if(!iu(t.Gt,e))return e;var i=cu(e),o=du(t,e,gu(t.fieldTransforms,n,e));return new Za(t.key,i,o,{bt:!0})}(t,e,r):function(t,e){return iu(t.Gt,e)?new ts(t.key,va.min()):e}(t,e)}function uu(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],a=e instanceof Za?e.field(o.field):void 0,s=qs(o.transform,a||null);null!=s&&(n=null==n?(new Ja).set(o.field,s):n.set(o.field,s))}return n?n.yt():null}(t.fieldTransforms,e)}function lu(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Jo(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ks&&e instanceof Ks||t instanceof Js&&e instanceof Js?Jo(t.elements,e.elements,Ra):t instanceof Qs&&e instanceof Qs?Ra(t.Qt,e.Qt):t instanceof Gs&&e instanceof Gs}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function cu(t){return t instanceof Za?t.version:va.min()}var hu=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Oo(e,t),e}(ou),fu=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.zt=r,a.Gt=i,a.fieldTransforms=o,a.type=1,a}return Oo(e,t),e}(ou);function du(t,e,n){var r;return r=function(t,e){var n=new Ja(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()}(t,r=e instanceof Za?e.data():Ya.empty()),vu(t.fieldTransforms,r,n)}function pu(t,e,n){var r=[];Wo(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof Za&&(s=e.field(o.field)),r.push(Ws(a,s,n[i]))}return r}function gu(t,e,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,l=null;n instanceof Za&&(l=n.field(s.field)),i.push(Bs(u,l,e))}return i}function vu(t,e,n){for(var r=new Ja(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.yt()}var _u,mu,yu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Oo(e,t),e}(ou),bu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Oo(e,t),e}(ou),wu=function(t){this.count=t};function ku(t){switch(t){case Zo.OK:return Bo();case Zo.CANCELLED:case Zo.UNKNOWN:case Zo.DEADLINE_EXCEEDED:case Zo.RESOURCE_EXHAUSTED:case Zo.INTERNAL:case Zo.UNAVAILABLE:case Zo.UNAUTHENTICATED:return!1;case Zo.INVALID_ARGUMENT:case Zo.NOT_FOUND:case Zo.ALREADY_EXISTS:case Zo.PERMISSION_DENIED:case Zo.FAILED_PRECONDITION:case Zo.ABORTED:case Zo.OUT_OF_RANGE:case Zo.UNIMPLEMENTED:case Zo.DATA_LOSS:return!0;default:return Bo()}}function Su(t){if(void 0===t)return Vo("GRPC error has no .code"),Zo.UNKNOWN;switch(t){case _u.OK:return Zo.OK;case _u.CANCELLED:return Zo.CANCELLED;case _u.UNKNOWN:return Zo.UNKNOWN;case _u.DEADLINE_EXCEEDED:return Zo.DEADLINE_EXCEEDED;case _u.RESOURCE_EXHAUSTED:return Zo.RESOURCE_EXHAUSTED;case _u.INTERNAL:return Zo.INTERNAL;case _u.UNAVAILABLE:return Zo.UNAVAILABLE;case _u.UNAUTHENTICATED:return Zo.UNAUTHENTICATED;case _u.INVALID_ARGUMENT:return Zo.INVALID_ARGUMENT;case _u.NOT_FOUND:return Zo.NOT_FOUND;case _u.ALREADY_EXISTS:return Zo.ALREADY_EXISTS;case _u.PERMISSION_DENIED:return Zo.PERMISSION_DENIED;case _u.FAILED_PRECONDITION:return Zo.FAILED_PRECONDITION;case _u.ABORTED:return Zo.ABORTED;case _u.OUT_OF_RANGE:return Zo.OUT_OF_RANGE;case _u.UNIMPLEMENTED:return Zo.UNIMPLEMENTED;case _u.DATA_LOSS:return Zo.DATA_LOSS;default:return Bo()}}(mu=_u||(_u={}))[mu.OK=0]="OK",mu[mu.CANCELLED=1]="CANCELLED",mu[mu.UNKNOWN=2]="UNKNOWN",mu[mu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mu[mu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mu[mu.NOT_FOUND=5]="NOT_FOUND",mu[mu.ALREADY_EXISTS=6]="ALREADY_EXISTS",mu[mu.PERMISSION_DENIED=7]="PERMISSION_DENIED",mu[mu.UNAUTHENTICATED=16]="UNAUTHENTICATED",mu[mu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mu[mu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mu[mu.ABORTED=10]="ABORTED",mu[mu.OUT_OF_RANGE=11]="OUT_OF_RANGE",mu[mu.UNIMPLEMENTED=12]="UNIMPLEMENTED",mu[mu.INTERNAL=13]="INTERNAL",mu[mu.UNAVAILABLE=14]="UNAVAILABLE",mu[mu.DATA_LOSS=15]="DATA_LOSS";var Tu=function(){function t(t,e){this.J=t,this.root=e||xu.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,xu.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,xu.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new Eu(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new Eu(this.root,t,this.J,!1)},t.prototype.se=function(){return new Eu(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new Eu(this.root,t,this.J,!0)},t}(),Eu=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),xu=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw Bo();if(this.right._e())throw Bo();var t=this.left.me();if(t!==this.right.me())throw Bo();return t+(this._e()?0:1)},t}();xu.EMPTY=null,xu.RED=!0,xu.Jt=!1,xu.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Bo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Bo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Bo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Bo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Bo()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new xu(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var Iu=function(){function t(t){this.J=t,this.data=new Tu(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new Cu(this.data.ee())},t.prototype.ne=function(t){return new Cu(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),Cu=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),Nu=new Tu(wa.J);function Au(){return Nu}function Du(){return Au()}var $u=new Tu(wa.J);function Pu(){return $u}var Ou=new Tu(wa.J);function Mu(){return Ou}var Lu=new Iu(wa.J);function Ru(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Lu,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ju=new Iu(Yo);function Fu(){return ju}var Hu=function(){function t(t){this.J=t?function(e,n){return t(e,n)||wa.J(e.key,n.key)}:function(t,e){return wa.J(t.key,e.key)},this.Ve=Pu(),this.pe=new Tu(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),Vu=function(){function t(){this.ve=new Tu(wa.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):Bo():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),zu=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=a,this.Ne=s}return t.Oe=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Hu.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&Ps(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Uu=function(){function t(t,e,n,r,i){this.Mt=t,this.Fe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,Bu.Be(e,n)),new t(va.min(),r,Fu(),Au(),Ru())},t}(),Bu=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Qo.h,n,Ru(),Ru(),Ru())},t}(),Wu=function(t,e,n,r){this.je=t,this.removedTargetIds=e,this.key=n,this.We=r},qu=function(t,e){this.targetId=t,this.Ge=e},Gu=function(t,e,n,r){void 0===n&&(n=Qo.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ku=function(){function t(){this.ze=0,this.He=Xu(),this.Je=Qo.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=Ru(),e=Ru(),n=Ru();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Bo()}})),new Bu(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=Xu()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),Yu=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Au(),this.fn=Ju(),this.dn=new Iu(Yo)}return t.prototype.wn=function(t){for(var e=0,n=t.je;e<n.length;e++){var r=n[e];t.We instanceof Za?this.En(r,t.We):t.We instanceof ts&&this.Tn(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.Tn(r,t.key,t.We)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:Bo()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(as(i))if(0===n){var o=new wa(i.path);this.Tn(e,o,new ts(o,va.min()))}else Wo(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var o=e.gn(i);if(o){if(r.qe&&as(o.target)){var a=new wa(o.target.path);null!==e._n.get(a)||e.bn(i,a)||e.Tn(i,a,new ts(a,t))}r.tn&&(n.set(i,r.nn()),r.sn())}}));var r=Ru();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Uu(t,n,this.dn,this._n,r);return this._n=Au(),this.fn=Ju(),this.dn=new Iu(Yo),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new Ku,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Iu(Yo),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||Ho("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new Ku),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function Ju(){return new Tu(wa.J)}function Xu(){return new Tu(wa.J)}var Qu={asc:"ASCENDING",desc:"DESCENDING"},Zu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tl=function(t,e){this.T=t,this.qt=e};function el(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function nl(t,e){return t.qt?e.toBase64():e.toUint8Array()}function rl(t,e){return el(t,e.G())}function il(t){return Wo(!!t),va.j(function(t){var e=Ia(t);return new ga(e.seconds,e.nanos)}(t))}function ol(t,e){return function(t){return new ma(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function al(t){var e=ma.ct(t);return Wo(Al(e)),e}function sl(t,e){return ol(t.T,e.path)}function ul(t,e){var n=al(e);if(n.get(1)!==t.T.projectId)throw new ta(Zo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new ta(Zo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new wa(fl(n))}function ll(t,e){return ol(t.T,e)}function cl(t){var e=al(t);return 4===e.length?ma.at():fl(e)}function hl(t){return new ma(["projects",t.T.projectId,"databases",t.T.database]).ot()}function fl(t){return Wo(t.length>4&&"documents"===t.get(4)),t.X(5)}function dl(t,e,n){return{name:sl(t,e),fields:n.proto.mapValue.fields}}function pl(t,e,n){var r=ul(t,e.name),i=il(e.updateTime),o=new Ya({mapValue:{fields:e.fields}});return new Za(r,i,o,{hasCommittedMutations:!!n})}function gl(t,e){var n;if(e instanceof hu)n={update:dl(t,e.key,e.value)};else if(e instanceof yu)n={delete:sl(t,e.key)};else if(e instanceof fu)n={update:dl(t,e.key,e.data),updateMask:Nl(e.zt)};else{if(!(e instanceof bu))return Bo();n={verify:sl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Gs)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ks)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Js)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof Qs)return{fieldPath:e.field.ot(),increment:n.Qt};throw Bo()}(0,t)}))),e.Gt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:rl(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Bo()}(t,e.Gt)),n}function vl(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ru.updateTime(il(t.updateTime)):void 0!==t.exists?ru.exists(t.exists):ru.jt()}(e.currentDocument):ru.jt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Wo("REQUEST_TIME"===e.setToServerValue),n=new Gs;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Ks(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Js(i)}else"increment"in e?n=new Qs(t,e.increment):Bo();var o=ba._t(e.fieldPath);return new eu(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=ul(t,e.update.name),o=new Ya({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new Ea(e.map((function(t){return ba._t(t)})))}(e.updateMask);return new fu(i,o,a,n,r)}return new hu(i,o,n,r)}if(e.delete){var s=ul(t,e.delete);return new yu(s,n)}if(e.verify){var u=ul(t,e.verify);return new bu(u,n)}return Bo()}function _l(t,e){return{documents:[ll(t,e.path)]}}function ml(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ll(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ll(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Ga(t.value))return{unaryFilter:{field:El(t.field),op:"IS_NAN"}};if(qa(t.value))return{unaryFilter:{field:El(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ga(t.value))return{unaryFilter:{field:El(t.field),op:"IS_NOT_NAN"}};if(qa(t.value))return{unaryFilter:{field:El(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:El(t.field),op:Tl(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:El(t.field),direction:Sl(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.qt||Pa(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=wl(e.startAt)),e.endAt&&(n.structuredQuery.endAt=wl(e.endAt)),n}function yl(t){var e=cl(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Wo(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=bl(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new ms(xl(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Pa(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=kl(n.startAt));var c=null;return n.endAt&&(c=kl(n.endAt)),Ss(e,i,s,a,u,"F",l,c)}function bl(t){return t?void 0!==t.unaryFilter?[Cl(t)]:void 0!==t.fieldFilter?[Il(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return bl(t)})).reduce((function(t,e){return t.concat(e)})):Bo():[]}function wl(t){return{before:t.before,values:t.position}}function kl(t){var e=!!t.before,n=t.values||[];return new vs(n,e)}function Sl(t){return Qu[t]}function Tl(t){return Zu[t]}function El(t){return{fieldPath:t.ot()}}function xl(t){return ba._t(t.fieldPath)}function Il(t){return ss.create(xl(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bo()}}(t.fieldFilter.op),t.fieldFilter.value)}function Cl(t){switch(t.unaryFilter.op){case"IS_NAN":var e=xl(t.unaryFilter.field);return ss.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=xl(t.unaryFilter.field);return ss.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=xl(t.unaryFilter.field);return ss.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=xl(t.unaryFilter.field);return ss.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Bo()}}function Nl(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function Al(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Dl=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},$l=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.On=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.On&&Bo(),this.On=!0,this.Nn?this.error?this.Fn(n,this.error):this.kn(e,this.result):new t((function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.Fn(n,e).next(t,i)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),Pl=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new Dl,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new Ll(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=Vl(e.target.error);n.qn.reject(new Ll(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Ll(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(Ho("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new jl(e)},t}(),Ol=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Pt())&&Vo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ho("SimpleDb","Removing database:",t),Fl(window.indexedDB.deleteDatabase(t)).Mn()},t.jn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Pt(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t={NODE_ENV:"production",PUBLIC_URL:"/gantt",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Mo(this,void 0,void 0,(function(){var e,n=this;return Lo(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Ho("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Ll(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new ta(Zo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Ll(t,n))},i.onupgradeneeded=function(t){Ho("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Qn.Yn(e,i.transaction,t.oldVersion,n.version).next((function(){Ho("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Mo(this,void 0,void 0,(function(){var i,o,a,s,u;return Lo(this,(function(l){switch(l.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,l,c;return Lo(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.Jn(t)];case 2:return s.db=h.sent(),e=Pl.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),$l.reject(t)})).Mn(),u={},a.catch((function(){})),[4,e.Un];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return l=h.sent(),c="FirebaseError"!==l.name&&o<3,Ho("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),s.close(),c?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},s=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=l.sent()))return[2,u.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ml=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return Fl(this.ts.delete())},t}(),Ll=function(t){function e(e,n){var r=this;return(r=t.call(this,Zo.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Oo(e,t),e}(ta);function Rl(t){return"IndexedDbTransactionError"===t.name}var jl=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ho("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ho("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Fl(n)},t.prototype.add=function(t){return Ho("SimpleDb","ADD",this.store.name,t,t),Fl(this.store.add(t))},t.prototype.get=function(t){var e=this;return Fl(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Ho("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Ho("SimpleDb","DELETE",this.store.name,t),Fl(this.store.delete(t))},t.prototype.count=function(){return Ho("SimpleDb","COUNT",this.store.name),Fl(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.us=function(t,e){Ho("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new $l((function(n,r){e.onerror=function(t){var e=Vl(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new $l((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Ml(i),a=e(i.primaryKey,i.value,o);if(a instanceof $l){var s=a.catch((function(t){return o.done(),$l.reject(t)}));n.push(s)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}})).next((function(){return $l.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Fl(t){return new $l((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Vl(t.target.error);n(e)}}))}var Hl=!1;function Vl(t){var e=Ol.Kn(Pt());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ta("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Hl||(Hl=!0,setTimeout((function(){throw r}),0)),r}}return t}var zl=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new Dl,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new ta(Zo.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function Ul(t,e){if(Vo("AsyncQueue",e+": "+t),Rl(t))return new ta(Zo.UNAVAILABLE,e+": "+t);throw t}var Bl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Wl=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach((function(t){return t()}))},t}();function ql(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Kl(e)),e=Gl(t.get(n),e);return Kl(e)}function Gl(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Kl(t){return t+"\x01\x01"}function Yl(t){var e=t.length;if(Wo(e>=2),2===e)return Wo("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ma.at();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&Bo(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Bo()}o=a+2}return new ma(r)}var Jl=function(t,e){this.seconds=t,this.nanoseconds=e},Xl=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Xl.store="owner",Xl.key="owner";var Ql=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ql.store="mutationQueues",Ql.keyPath="userId";var Zl=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Zl.store="mutations",Zl.keyPath="batchId",Zl.userMutationsIndex="userMutationsIndex",Zl.userMutationsKeyPath=["userId","batchId"];var tc=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ql(e)]},t.key=function(t,e,n){return[t,ql(e),n]},t}();tc.store="documentMutations",tc.PLACEHOLDER=new tc;var ec=function(t,e){this.path=t,this.readTime=e},nc=function(t,e){this.path=t,this.version=e},rc=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};rc.store="remoteDocuments",rc.readTimeIndex="readTimeIndex",rc.readTimeIndexPath="readTime",rc.collectionReadTimeIndex="collectionReadTimeIndex",rc.collectionReadTimeIndexPath=["parentPath","readTime"];var ic=function(t){this.byteSize=t};ic.store="remoteDocumentGlobal",ic.key="remoteDocumentGlobalKey";var oc=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};oc.store="targets",oc.keyPath="targetId",oc.queryTargetsIndexName="queryTargetsIndex",oc.queryTargetsKeyPath=["canonicalId","targetId"];var ac=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ac.store="targetDocuments",ac.keyPath=["targetId","path"],ac.documentTargetsIndex="documentTargetsIndex",ac.documentTargetsKeyPath=["path","targetId"];var sc=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};sc.key="targetGlobalKey",sc.store="targetGlobal";var uc=function(t,e){this.collectionId=t,this.parent=e};uc.store="collectionParents",uc.keyPath=["collectionId","parent"];var lc=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};lc.store="clientMetadata",lc.keyPath="clientId";var cc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};cc.store="bundles",cc.keyPath="bundleId";var hc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};hc.store="namedQueries",hc.keyPath="name";var fc=Ro(Ro(Ro(Ro([Ql.store,Zl.store,tc.store,rc.store,oc.store,Xl.store,sc.store,ac.store],[lc.store]),[ic.store]),[uc.store]),[cc.store,hc.store]),dc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Oo(e,t),e}(Wl);function pc(t,e){var n=qo(t);return Ol.Hn(n.bs,e)}var gc=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=au(o,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=su(a,e,0,this.Ss));for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(t)&&(e=su(a,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Ru())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Jo(this.mutations,t.mutations,(function(t,e){return lu(t,e)}))&&Jo(this.baseMutations,t.baseMutations,(function(t,e){return lu(t,e)}))},t}(),vc=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.Cs=n,this.Fs=r}return t.from=function(e,n,r){Wo(e.mutations.length===r.length);for(var i=Mu(),o=e.mutations,a=0;a<o.length;a++)i=i.Ht(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),_c=function(t){this.ks=t};function mc(t,e){if(e.document)return pl(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=wa.Tt(e.noDocument.path),r=Sc(e.noDocument.readTime);return new ts(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=wa.Tt(e.unknownDocument.path);return r=Sc(e.unknownDocument.version),new es(i,r)}return Bo()}function yc(t,e,n){var r=bc(n),i=e.key.path.Z().rt();if(e instanceof Za){var o=function(t,e){return{name:sl(t,e.key),fields:e.vt().mapValue.fields,updateTime:el(t,e.version.G())}}(t.ks,e),a=e.hasCommittedMutations;return new rc(null,null,o,a,r,i)}if(e instanceof ts){var s=e.key.path.rt(),u=kc(e.version);return a=e.hasCommittedMutations,new rc(null,new ec(s,u),null,a,r,i)}if(e instanceof es){var l=e.key.path.rt(),c=kc(e.version);return new rc(new nc(l,c),null,null,!0,r,i)}return Bo()}function bc(t){var e=t.G();return[e.seconds,e.nanoseconds]}function wc(t){var e=new ga(t[0],t[1]);return va.j(e)}function kc(t){var e=t.G();return new Jl(e.seconds,e.nanoseconds)}function Sc(t){var e=new ga(t.seconds,t.nanoseconds);return va.j(e)}function Tc(t,e){for(var n=(e.baseMutations||[]).map((function(e){return vl(t.ks,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map((function(e){return vl(t.ks,e)})),a=ga.fromMillis(e.localWriteTimeMs);return new gc(e.batchId,a,n,o)}function Ec(t){var e,n,r=Sc(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Sc(t.lastLimboFreeSnapshotVersion):va.min();return void 0!==t.query.documents?(Wo(1===(n=t.query).documents.length),e=Ds(Ts(cl(n.documents[0])))):e=function(t){return Ds(yl(t))}(t.query),new Fs(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Qo.fromBase64String(t.resumeToken))}function xc(t,e){var n,r=kc(e.Mt),i=kc(e.lastLimboFreeSnapshotVersion);n=as(e.target)?_l(t.ks,e.target):ml(t.ks,e.target);var o=e.resumeToken.toBase64();return new oc(e.targetId,is(e.target),r,o,e.sequenceNumber,i,n)}function Ic(t){var e=yl({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?$s(e,e.limit,"L"):e}var Cc=function(){function t(){}return t.prototype.Ms=function(t,e){return Nc(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Sc(e.createTime),version:e.version};var e}))},t.prototype.Ls=function(t,e){return Nc(t).put({bundleId:(n=e).id,createTime:kc(il(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return Ac(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Ic(e.bundledQuery),readTime:Sc(e.readTime)};var e}))},t.prototype.Bs=function(t,e){return Ac(t).put(function(t){return{name:t.name,readTime:kc(il(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Nc(t){return pc(t,cc.store)}function Ac(t){return pc(t,hc.store)}var Dc=function(){function t(){this.qs=new $c}return t.prototype.Us=function(t,e){return this.qs.add(e),$l.resolve()},t.prototype.Qs=function(t,e){return $l.resolve(this.qs.getEntries(e))},t}(),$c=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new Iu(ma.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Iu(ma.J)).rt()},t}(),Pc=function(){function t(){this.Ks=new $c}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs((function(){n.Ks.add(e)}));var o={collectionId:r,parent:ql(i)};return Oc(t).put(o)}return $l.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Xo(e),""],!1,!0);return Oc(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Yl(o.parent))}return n}))},t}();function Oc(t){return pc(t,uc.store)}var Mc={js:!1,Ws:0,Gs:0,zs:0},Lc=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function Rc(t){return Mo(this,void 0,void 0,(function(){return Lo(this,(function(e){if(t.code!==Zo.FAILED_PRECONDITION||t.message!==Bl)throw t;return Ho("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}Lc.Zs=10,Lc.ti=1e3,Lc.ei=new Lc(41943040,Lc.Zs,Lc.ti),Lc.ni=new Lc(-1,0,0);var jc=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.ii(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Sa(this.ri,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.nt=function(){return Ta(this.ri)},t}(),Fc=function(){function t(){this.oi=new jc((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:va.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?$l.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function Hc(t,e,n){var r=t.store(Zl.store),i=t.store(tc.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.ls({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){Wo(1===s)})));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var f=h[c],d=tc.key(e,f.key.path,n.batchId);o.push(i.delete(d)),l.push(f.key)}return $l.$n(o).next((function(){return l}))}function Vc(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Bo();e=t.noDocument}return JSON.stringify(e).length}var zc=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return Wo(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bc(t).ls({index:Zl.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Pi=function(t,e,n,r){var i=this,o=Wc(t),a=Bc(t);return a.add({}).next((function(s){Wo("number"==typeof s);for(var u=new gc(s,e,n,r),l=function(t,e,n){var r=n.baseMutations.map((function(e){return gl(t.ks,e)})),i=n.mutations.map((function(e){return gl(t.ks,e)}));return new Zl(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,u),c=[],h=new Iu((function(t,e){return Yo(t.ot(),e.ot())})),f=0,d=r;f<d.length;f++){var p=d[f],g=tc.key(i.userId,p.key.path,s);h=h.add(p.key.path.Z()),c.push(a.put(l)),c.push(o.put(g,tc.PLACEHOLDER))}return h.forEach((function(e){c.push(i.Ti.Us(t,e))})),t.Vs((function(){i.mi[s]=u.keys()})),$l.$n(c).next((function(){return u}))}))},t.prototype.yi=function(t,e){var n=this;return Bc(t).get(e).next((function(t){return t?(Wo(t.userId===n.userId),Tc(n.Kt,t)):null}))},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?$l.resolve(this.mi[e]):this.yi(t,e).next((function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null}))},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Bc(t).ls({index:Zl.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Wo(e.batchId>=r),o=Tc(n.Kt,e)),i.done()})).next((function(){return o}))},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Bc(t).ls({index:Zl.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bc(t).os(Zl.userMutationsIndex,n).next((function(t){return t.map((function(t){return Tc(e.Kt,t)}))}))},t.prototype.vi=function(t,e){var n=this,r=tc.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Wc(t).ls({range:i},(function(r,i,a){var s=r[0],u=r[1],l=r[2],c=Yl(u);if(s===n.userId&&e.path.isEqual(c))return Bc(t).get(l).next((function(t){if(!t)throw Bo();Wo(t.userId===n.userId),o.push(Tc(n.Kt,t))}));a.done()})).next((function(){return o}))},t.prototype.Si=function(t,e){var n=this,r=new Iu(Yo),i=[];return e.forEach((function(e){var o=tc.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Wc(t).ls({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],l=Yl(s);a===n.userId&&e.path.isEqual(l)?r=r.add(u):o.done()}));i.push(s)})),$l.$n(i).next((function(){return n.Di(t,r)}))},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,o=tc.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Iu(Yo);return Wc(t).ls({range:a},(function(t,e,o){var a=t[0],u=t[1],l=t[2],c=Yl(u);a===n.userId&&r.st(c)?c.length===i&&(s=s.add(l)):o.done()})).next((function(){return n.Di(t,s)}))},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Bc(t).get(e).next((function(t){if(null===t)throw Bo();Wo(t.userId===n.userId),r.push(Tc(n.Kt,t))})))})),$l.$n(i).next((function(){return r}))},t.prototype.xi=function(t,e){var n=this;return Hc(t.bs,this.userId,e).next((function(r){return t.Vs((function(){n.Ni(e.batchId)})),$l.forEach(r,(function(e){return n.Ii.Oi(t,e)}))}))},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Fi=function(t){var e=this;return this.Ri(t).next((function(n){if(!n)return $l.resolve();var r=IDBKeyRange.lowerBound(tc.prefixForUser(e.userId)),i=[];return Wc(t).ls({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Yl(t[1]);i.push(o)}else r.done()})).next((function(){Wo(0===i.length)}))}))},t.prototype.ki=function(t,e){return Uc(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return qc(t).get(this.userId).next((function(t){return t||new Ql(e.userId,-1,"")}))},t}();function Uc(t,e,n){var r=tc.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Wc(t).ls({range:o,hs:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Bc(t){return pc(t,Zl.store)}function Wc(t){return pc(t,tc.store)}function qc(t){return pc(t,Ql.store)}var Gc=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),Kc=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next((function(n){var r=new Gc(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ki=function(t){return this.Ui(t).next((function(t){return va.j(new ga(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ji=function(t){return this.Ui(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var r=this;return this.Ui(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)}))},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next((function(){return n.Ui(t).next((function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)}))}))},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next((function(){return Yc(t).delete(e.targetId)})).next((function(){return n.Ui(t)})).next((function(e){return Wo(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)}))},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return Yc(t).ls((function(a,s){var u=Ec(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Yi(t,u)))})).next((function(){return $l.$n(o)})).next((function(){return i}))},t.prototype.mn=function(t,e){return Yc(t).ls((function(t,n){var r=Ec(n);e(r)}))},t.prototype.Ui=function(t){return Jc(t).get(sc.key).next((function(t){return Wo(null!==t),t}))},t.prototype.Qi=function(t,e){return Jc(t).put(sc.key,e)},t.prototype.zi=function(t,e){return Yc(t).put(xc(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next((function(t){return t.targetCount}))},t.prototype.er=function(t,e){var n=is(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Yc(t).ls({range:r,index:oc.queryTargetsIndexName},(function(t,n,r){var o=Ec(n);os(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.nr=function(t,e,n){var r=this,i=[],o=Xc(t);return e.forEach((function(e){var a=ql(e.path);i.push(o.put(new ac(n,a))),i.push(r.Ii.sr(t,n,e))})),$l.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=Xc(t);return $l.forEach(e,(function(e){var o=ql(e.path);return $l.$n([i.delete([n,o]),r.Ii.rr(t,n,e)])}))},t.prototype.Xi=function(t,e){var n=Xc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Xc(t),i=Ru();return r.ls({range:n,hs:!0},(function(t,e,n){var r=Yl(t[1]),o=new wa(r);i=i.add(o)})).next((function(){return i}))},t.prototype.ki=function(t,e){var n=ql(e.path),r=IDBKeyRange.bound([n],[Xo(n)],!1,!0),i=0;return Xc(t).ls({index:ac.documentTargetsIndex,hs:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Dn=function(t,e){return Yc(t).get(e).next((function(t){return t?Ec(t):null}))},t}();function Yc(t){return pc(t,oc.store)}function Jc(t){return pc(t,sc.store)}function Xc(t){return pc(t,ac.store)}function Qc(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Yo(n,i);return 0===a?Yo(r,o):a}var Zc=function(){function t(t){this.ar=t,this.buffer=new Iu(Qc),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Qc(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),th=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;Ho("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,(function(){return Mo(e,void 0,void 0,(function(){var e;return Lo(this,(function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return Rl(e=n.sent())?(Ho("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Rc(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),eh=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yr=function(t,e){var n=this;if(0===e)return $l.resolve(pa.U);var r=new Zc(e);return this.Ar.mn(t,(function(t){return r.lr(t.sequenceNumber)})).next((function(){return n.Ar.gr(t,(function(t){return r.lr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(Ho("LruGarbageCollector","Garbage collection skipped; disabled"),$l.resolve(Mc)):this.br(t).next((function(r){return r<n.params.Hs?(Ho("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),Mc):n.vr(t,e)}))},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,o,a,s,u,l=this,c=Date.now();return this.Rr(t,this.params.Js).next((function(e){return e>l.params.Ys?(Ho("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.Ys+" from "+e),r=l.params.Ys):r=e,o=Date.now(),l.yr(t,r)})).next((function(r){return n=r,a=Date.now(),l.Zi(t,n,e)})).next((function(e){return i=e,s=Date.now(),l.Vr(t,n)})).next((function(t){return u=Date.now(),Fo()<=ee.DEBUG&&Ho("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-c)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-c)+"ms"),$l.resolve({js:!0,Ws:r,Gs:i,zs:t})}))},t}(),nh=function(){function t(t,e){this.db=t,this._r=function(t,e){return new eh(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Sr=function(t){var e=0;return this.gr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,(function(t,n){return e(n)}))},t.prototype.sr=function(t,e,n){return rh(t,n)},t.prototype.rr=function(t,e,n){return rh(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Oi=function(t,e){return rh(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return qc(t)._s((function(r){return Uc(t,r,e).next((function(t){return t&&(n=!0),$l.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Fr().Or(),i=[],o=0;return this.Cr(t,(function(a,s){if(s<=e){var u=n.Nr(t,a).next((function(e){if(!e)return o++,r.fi(t,a).next((function(){return r._i(a),Xc(t).delete([0,ql(a.path)])}))}));i.push(u)}})).next((function(){return $l.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return rh(t,e)},t.prototype.Cr=function(t,e){var n,r=Xc(t),i=pa.U;return r.ls({index:ac.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==pa.U&&e(new wa(Yl(n)),i),i=s,n=a):i=pa.U})).next((function(){i!==pa.U&&e(new wa(Yl(n)),i)}))},t.prototype.br=function(t){return this.db.Fr().Mr(t)},t}();function rh(t,e){return Xc(t).put(function(t,e){return new ac(0,ql(t.path),e)}(e,t.vs))}var ih=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return sh(t).put(uh(e),n)},t.prototype._i=function(t,e){var n=sh(t),r=uh(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Lr(t,r)}))},t.prototype.fi=function(t,e){var n=this;return sh(t).get(uh(e)).next((function(t){return n.$r(t)}))},t.prototype.Br=function(t,e){var n=this;return sh(t).get(uh(e)).next((function(t){var e=n.$r(t);return e?{li:e,size:Vc(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Du();return this.qr(t,e,(function(t,e){var i=n.$r(e);r=r.Ht(t,i)})).next((function(){return r}))},t.prototype.Ur=function(t,e){var n=this,r=Du(),i=new Tu(wa.J);return this.qr(t,e,(function(t,e){var o=n.$r(e);o?(r=r.Ht(t,o),i=i.Ht(t,Vc(e))):(r=r.Ht(t,null),i=i.Ht(t,0))})).next((function(){return{Qr:r,Kr:i}}))},t.prototype.qr=function(t,e,n){if(e.nt())return $l.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return sh(t).ls({range:r},(function(t,e,r){for(var a=wa.Tt(t);o&&wa.J(o,a)<0;)n(o,null),o=i.ce();o&&o.isEqual(a)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ae()?i.ce():null}))},t.prototype.jr=function(t,e,n){var r=this,i=Pu(),o=e.path.length+1,a={};if(n.isEqual(va.min())){var s=e.path.rt();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.rt(),l=bc(n);a.range=IDBKeyRange.lowerBound([u,l],!0),a.index=rc.collectionReadTimeIndex}return sh(t).ls(a,(function(t,n,a){if(t.length===o){var s=mc(r.Kt,n);e.path.st(s.key.path)?s instanceof Za&&Ls(e,s)&&(i=i.Ht(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.Or=function(t){return new oh(this,!!t&&t.Wr)},t.prototype.Mr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return ah(t).get(ic.key).next((function(t){return Wo(!!t),t}))},t.prototype.Lr=function(t,e){return ah(t).put(ic.key,e)},t.prototype.$r=function(t){if(t){var e=mc(this.Kt,t);return e instanceof ts&&e.version.isEqual(va.min())?null:e}return null},t}(),oh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.Wr=n,r.zr=new jc((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Oo(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new Iu((function(t,e){return Yo(t.ot(),e.ot())}));return this.oi.forEach((function(o,a){var s=e.zr.get(o);if(a.li){var u=yc(e.Gr.Kt,a.li,e.ai(o));i=i.add(o.path.Z());var l=Vc(u);r+=l-s,n.push(e.Gr.ui(t,o,u))}else if(r-=s,e.Wr){var c=yc(e.Gr.Kt,new ts(o,va.min()),e.ai(o));n.push(e.Gr.ui(t,o,c))}else n.push(e.Gr._i(t,o))})),i.forEach((function(r){n.push(e.Gr.Ti.Us(t,r))})),n.push(this.Gr.updateMetadata(t,r)),$l.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next((function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)}))},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next((function(t){var e=t.Qr;return t.Kr.forEach((function(t,e){n.zr.set(t,e)})),e}))},e}(Fc);function ah(t){return pc(t,ic.store)}function sh(t){return pc(t,rc.store)}function uh(t){return t.path.rt()}var lh=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;Wo(n<r&&n>=0&&r<=11);var o=new Pl("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Xl.store)}(t),function(t){t.createObjectStore(Ql.store,{keyPath:Ql.keyPath}),t.createObjectStore(Zl.store,{keyPath:Zl.keyPath,autoIncrement:!0}).createIndex(Zl.userMutationsIndex,Zl.userMutationsKeyPath,{unique:!0}),t.createObjectStore(tc.store)}(t),ch(t),function(t){t.createObjectStore(rc.store)}(t));var a=$l.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ac.store),t.deleteObjectStore(oc.store),t.deleteObjectStore(sc.store)}(t),ch(t)),a=a.next((function(){return function(t){var e=t.store(sc.store),n=new sc(0,0,va.min().G(),0);return e.put(sc.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(Zl.store).os().next((function(n){t.deleteObjectStore(Zl.store),t.createObjectStore(Zl.store,{keyPath:Zl.keyPath,autoIncrement:!0}).createIndex(Zl.userMutationsIndex,Zl.userMutationsKeyPath,{unique:!0});var r=e.store(Zl.store),i=n.map((function(t){return r.put(t)}));return $l.$n(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(lc.store,{keyPath:lc.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Hr(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(ic.store)}(t),i.Jr(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.Yr(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Xr(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(rc.store);e.createIndex(rc.readTimeIndex,rc.readTimeIndexPath,{unique:!1}),e.createIndex(rc.collectionReadTimeIndex,rc.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Zr(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(cc.store,{keyPath:cc.keyPath})}(t),function(t){t.createObjectStore(hc.store,{keyPath:hc.keyPath})}(t)}))),a},t.prototype.Jr=function(t){var e=0;return t.store(rc.store).ls((function(t,n){e+=Vc(n)})).next((function(){var n=new ic(e);return t.store(ic.store).put(ic.key,n)}))},t.prototype.Hr=function(t){var e=this,n=t.store(Ql.store),r=t.store(Zl.store);return n.os().next((function(n){return $l.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(Zl.userMutationsIndex,i).next((function(r){return $l.forEach(r,(function(r){Wo(r.userId===n.userId);var i=Tc(e.Kt,r);return Hc(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Yr=function(t){var e=t.store(ac.store),n=t.store(rc.store);return t.store(sc.store).get(sc.key).next((function(t){var r=[];return n.ls((function(n,i){var o=new ma(n),a=function(t){return[0,ql(t)]}(o);r.push(e.get(a).next((function(n){return n?$l.resolve():function(n){return e.put(new ac(0,ql(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return $l.$n(r)}))}))},t.prototype.Xr=function(t,e){t.createObjectStore(uc.store,{keyPath:uc.keyPath});var n=e.store(uc.store),r=new $c,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:ql(i)})}};return e.store(rc.store).ls({hs:!0},(function(t,e){var n=new ma(t);return i(n.Z())})).next((function(){return e.store(tc.store).ls({hs:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Yl(n));return i(r.Z())}))}))},t.prototype.Zr=function(t){var e=this,n=t.store(oc.store);return n.ls((function(t,r){var i=Ec(r),o=xc(e.Kt,i);return n.put(o)}))},t}();function ch(t){t.createObjectStore(ac.store,{keyPath:ac.keyPath}).createIndex(ac.documentTargetsIndex,ac.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(oc.store,{keyPath:oc.keyPath}).createIndex(oc.queryTargetsIndexName,oc.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(sc.store)}var hh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",fh=function(){function t(e,n,r,i,o,a,s,u,l,c){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=o,this.window=a,this.document=s,this.no=l,this.so=c,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.jn())throw new ta(Zo.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new nh(this,i),this.lo=n+"main",this.Kt=new _c(u),this._o=new Ol(this.lo,11,new lh(this.Kt)),this.fo=new Kc(this.Ii,this.Kt),this.Ti=new Pc,this.wo=function(t,e){return new ih(t,e)}(this.Kt,this.Ti),this.Eo=new Cc,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===c&&Vo("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ta(Zo.FAILED_PRECONDITION,hh);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.fo.ji(e)}))})).then((function(e){t.io=new pa(e,t.no)})).then((function(){t.ro=!0})).catch((function(e){return t._o&&t._o.close(),Promise.reject(e)}))},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Mo(e,void 0,void 0,(function(){return Lo(this,(function(e){return this.Tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn((function(n){return Mo(e,void 0,void 0,(function(){return Lo(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys((function(){return Mo(e,void 0,void 0,(function(){return Lo(this,(function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return ph(e).put(new lc(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.po(e).next((function(e){e||(t.isPrimary=!1,t.eo.bo((function(){return t.ho(!1)})))}))})).next((function(){return t.vo(e)})).next((function(n){return t.isPrimary&&!n?t.So(e).next((function(){return!1})):!!n&&t.Do(e).next((function(){return!0}))}))})).catch((function(e){if(Rl(e))return Ho("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ho("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.eo.bo((function(){return t.ho(e)})),t.isPrimary=e}))},t.prototype.po=function(t){var e=this;return dh(t).get(Xl.key).next((function(t){return $l.resolve(e.Co(t))}))},t.prototype.xo=function(t){return ph(t).delete(this.clientId)},t.prototype.No=function(){return Mo(this,void 0,void 0,(function(){var t,e,n,r,i=this;return Lo(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.Oo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=pc(t,lc.store);return e.os().next((function(t){var n=i.Fo(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return $l.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.To)for(e=0,n=t;e<n.length;e++)r=n[e],this.To.removeItem(this.ko(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,(function(){return t.Io().then((function(){return t.No()})).then((function(){return t.Ro()}))}))},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?$l.resolve(!0):dh(t).get(Xl.key).next((function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new ta(Zo.FAILED_PRECONDITION,hh);return!1}}return!(!e.networkEnabled||!e.inForeground)||ph(t).os().next((function(t){return void 0===e.Fo(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Ho("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Lo=function(){return Mo(this,void 0,void 0,(function(){var t=this;return Lo(this,(function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[Xl.store,lc.store],(function(e){var n=new dc(e,pa.U);return t.So(n).next((function(){return t.xo(n)}))}))];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}}))}))},t.prototype.Fo=function(t,e){var n=this;return t.filter((function(t){return n.Oo(t.updateTimeMs,e)&&!n.Mo(t.clientId)}))},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return ph(e).os().next((function(e){return t.Fo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return zc.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.jo=function(){return this.Ti},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;Ho("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this._o.runTransaction(t,o,fc,(function(o){return i=new dc(o,r.io?r.io.next():pa.U),"readwrite-primary"===e?r.po(i).next((function(t){return!!t||r.vo(i)})).next((function(e){if(!e)throw Vo("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.eo.bo((function(){return r.ho(!1)})),new ta(Zo.FAILED_PRECONDITION,Bl);return n(i)})).next((function(t){return r.Do(i).next((function(){return t}))})):r.Go(i).next((function(){return n(i)}))})).then((function(t){return i.ps(),t}))},t.prototype.Go=function(t){var e=this;return dh(t).get(Xl.key).next((function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ta(Zo.FAILED_PRECONDITION,hh)}))},t.prototype.Do=function(t){var e=new Xl(this.clientId,this.allowTabSynchronization,Date.now());return dh(t).put(Xl.key,e)},t.jn=function(){return Ol.jn()},t.prototype.So=function(t){var e=this,n=dh(t);return n.get(Xl.key).next((function(t){return e.Co(t)?(Ho("IndexedDbPersistence","Releasing primary lease."),n.delete(Xl.key)):$l.resolve()}))},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Vo("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()}))},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys((function(){return e.Lo()}))},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return Ho("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Vo("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){Vo("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function dh(t){return pc(t,Xl.store)}function ph(t){return pc(t,lc.store)}function gh(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var vh=function(t,e){this.progress=t,this.zo=e},_h=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next((function(r){return n.Yo(t,e,r)}))},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t}))},t.prototype.Xo=function(t,e,n){var r=Du();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].xs(t,e);r=r.Ht(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){var i=n.Xo(t,e,r),o=Au();return i.forEach((function(t,e){e||(e=new ts(t,va.min())),o=o.Ht(t,e)})),o}))},t.prototype.jr=function(t,e,n){return function(t){return wa.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):Ns(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new wa(e)).next((function(t){var e=Pu();return t instanceof Za&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=Pu();return this.Ti.Qs(t,i).next((function(a){return $l.forEach(a,(function(a){var s=function(t,e){return new ks(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.sc(t,s,n).next((function(t){t.forEach((function(t,e){o=o.Ht(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.wo.jr(t,e,n).next((function(n){return r=n,o.Ho.Ci(t,e)})).next((function(e){return i=e,o.ic(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],l=u.key,c=su(u,r.get(l),0,o.Ss);r=c instanceof Za?r.Ht(l,c):r.remove(l)}}))})).next((function(){return r.forEach((function(t,n){Ls(e,n)||(r=r.remove(t))})),r}))},t.prototype.ic=function(t,e,n){for(var r=Ru(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof fu&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.wo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Za&&(l=l.Ht(t,e))})),l}))},t}(),mh=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=Ru(),i=Ru(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),yh=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(va.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(o){var a=i.lc(e,o);return(Es(e)||xs(e))&&i._c(e.limitType,a,r,n)?i.hc(t,e):(Fo()<=ee.DEBUG&&Ho("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ms(e)),i.uc.jr(t,e,n).next((function(t){return a.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new Iu(Rs(t));return e.forEach((function(e,r){r instanceof Za&&Ls(t,r)&&(n=n.add(r))})),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return Fo()<=ee.DEBUG&&Ho("QueryEngine","Using full collection scan to execute query:",Ms(e)),this.uc.jr(t,e,va.min())},t}(),bh=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new Tu(Yo),this.wc=new jc((function(t){return is(t)}),os),this.Ec=va.min(),this.Ho=t.Ko(n),this.Tc=t.Fr(),this.fo=t.Dr(),this.Ic=new _h(this.Tc,this.Ho,this.persistence.jo()),this.Eo=t.Wo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.pr(n,e.dc)}))},t}();function wh(t,e,n,r){return new bh(t,e,n,r)}function kh(t,e){return Mo(this,void 0,void 0,(function(){var n,r,i,o;return Lo(this,(function(a){switch(a.label){case 0:return n=qo(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Ho.bi(t).next((function(a){return o=a,r=n.persistence.Ko(e),i=new _h(n.Tc,r,n.persistence.jo()),r.bi(t)})).next((function(e){for(var n=[],r=[],a=Ru(),s=0,u=o;s<u.length;s++){var l=u[s];n.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++){var f=h[c];a=a.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var g=p[d];r.push(g.batchId);for(var v=0,_=g.mutations;v<_.length;v++){var m=_[v];a=a.add(m.key)}}return i.Zo(t,a).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return o=a.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}}))}))}function Sh(t,e){var n=qo(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Tc.Or({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=$l.resolve();return o.forEach((function(t){a=a.next((function(){return r.fi(e,t)})).next((function(e){var o=e,a=n.Fs.get(t);Wo(null!==a),(!o||o.version.u(a)<0)&&(o=i.Ds(t,o,n))&&r.ui(o,n.Os)}))})),a.next((function(){return t.Ho.xi(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}function Th(t){var e=qo(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.fo.Ki(t)}))}function Eh(t,e){var n=qo(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Tc.Or({Wr:!0});i=n.dc;var a=[];e.Fe.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.fo.ir(t,e.Ke,o).next((function(){return n.fo.nr(t,e.Ue,o)})));var u=e.resumeToken;if(u.o()>0){var l=s.$t(u,r).Lt(t.vs);i=i.Ht(o,l),function(t,e,n){return Wo(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.W()-t.Mt.W()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(s,l,e)&&a.push(n.fo.Ji(t,l))}}}));var s=Au();if(e.Me.forEach((function(r,i){e.Le.has(r)&&a.push(n.persistence.Ii.kr(t,r))})),a.push(xh(t,o,e.Me,r,void 0).next((function(t){s=t}))),!r.isEqual(va.min())){var u=n.fo.Ki(t).next((function(e){return n.fo.Wi(t,t.vs,r)}));a.push(u)}return $l.$n(a).next((function(){return o.apply(t)})).next((function(){return n.Ic.tc(t,s)}))})).then((function(t){return n.dc=i,t}))}function xh(t,e,n,r,i){var o=Ru();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Au();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof ts&&a.version.isEqual(va.min())?(e._i(n,u),o=o.Ht(n,a)):null==s||a.version.u(s.version)>0||0===a.version.u(s.version)&&s.hasPendingWrites?(e.ui(a,u),o=o.Ht(n,a)):Ho("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Ih(t,e){var n=qo(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)}))}function Ch(t,e){var n=qo(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.fo.er(t,e).next((function(i){return i?(r=i,$l.resolve(r)):n.fo.qi(t).next((function(i){return r=new Fs(e,i,0,t.vs),n.fo.Gi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function Nh(t,e,n){return Mo(this,void 0,void 0,(function(){var r,i,o,a;return Lo(this,(function(s){switch(s.label){case 0:r=qo(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Ii.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Rl(a=s.sent()))throw a;return Ho("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function Ah(t,e,n){var r=qo(t),i=va.min(),o=Ru();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=qo(t),i=r.wc.get(n);return void 0!==i?$l.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,Ds(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.fc.jr(t,e,n?i:va.min(),n?o:Ru())})).next((function(t){return{documents:t,Pc:o}}))}))}function Dh(t,e){var n=qo(t),r=qo(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function $h(t){var e=qo(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=qo(t),i=Au(),o=bc(n),a=sh(e),s=IDBKeyRange.lowerBound(o,!0);return a.ls({index:rc.readTimeIndex,range:s},(function(t,e){var n=mc(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime})).next((function(){return{zo:i,readTime:wc(o)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.zo,r=t.readTime;return e.Ec=r,n}))}function Ph(t){return Mo(this,void 0,void 0,(function(){var e;return Lo(this,(function(n){return[2,(e=qo(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=sh(t),n=va.min();return e.ls({index:rc.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=wc(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}function Oh(t,e,n,r){return Mo(this,void 0,void 0,(function(){var i,o,a,s,u,l,c,h,f,d;return Lo(this,(function(p){switch(p.label){case 0:for(i=qo(t),o=Ru(),a=Au(),s=Mu(),u=0,l=n;u<l.length;u++)c=l[u],h=e.yc(c.metadata.name),c.document&&(o=o.add(h)),a=a.Ht(h,e.gc(c)),s=s.Ht(h,e.Vc(c.metadata.readTime));return f=i.Tc.Or({Wr:!0}),[4,Ch(i,function(t){return Ds(Ts(ma.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return xh(t,f,a,va.min(),s).next((function(e){return f.apply(t),e})).next((function(e){return i.fo.Xi(t,d.targetId).next((function(){return i.fo.nr(t,o,d.targetId)})).next((function(){return i.Ic.tc(t,e)}))}))}))]}}))}))}function Mh(t,e,n){return void 0===n&&(n=Ru()),Mo(this,void 0,void 0,(function(){var r,i;return Lo(this,(function(o){switch(o.label){case 0:return[4,Ch(t,Ds(Ic(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=qo(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=il(e.readTime);if(r.Mt.u(o)>=0)return i.Eo.Bs(t,e);var a=r.$t(Qo.h,o);return i.dc=i.dc.Ht(a.targetId,a),i.fo.Ji(t,a).next((function(){return i.fo.Xi(t,r.targetId)})).next((function(){return i.fo.nr(t,n,r.targetId)})).next((function(){return i.Eo.Bs(t,e)}))}))]}}))}))}var Lh=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return $l.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:il(n.createTime)}),$l.resolve()},t.prototype.$s=function(t,e){return $l.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:Ic(t.bundledQuery),readTime:il(t.readTime)}}(e)),$l.resolve()},t}(),Rh=function(){function t(){this.Sc=new Iu(jh.Dc),this.Cc=new Iu(jh.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new jh(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.sr(t,e)}))},t.prototype.rr=function(t,e){this.Oc(new jh(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach((function(t){return n.rr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new wa(new ma([])),r=new jh(n,t),i=new jh(n,t+1),o=[];return this.Cc.Ae([r,i],(function(t){e.Oc(t),o.push(t.key)})),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Oc(e)}))},t.prototype.Oc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new wa(new ma([])),n=new jh(e,t),r=new jh(e,t+1),i=Ru();return this.Cc.Ae([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.ki=function(t){var e=new jh(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),jh=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return wa.J(t.key,e.key)||Yo(t.$c,e.$c)},t.xc=function(t,e){return Yo(t.$c,e.$c)||wa.J(t.key,e.key)},t}(),Fh=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new Iu(jh.Dc)}return t.prototype.Ri=function(t){return $l.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++,this.Ho.length>0&&this.Ho[this.Ho.length-1];var o=new gc(i,e,n,r);this.Ho.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.qc=this.qc.add(new jh(u.key,i)),this.Ti.Us(t,u.key.path.Z())}return $l.resolve(o)},t.prototype.yi=function(t,e){return $l.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=e+1,r=this.Qc(n),i=r<0?0:r;return $l.resolve(this.Ho.length>i?this.Ho[i]:null)},t.prototype.pi=function(){return $l.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return $l.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new jh(e,0),i=new jh(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],(function(t){var e=n.Uc(t.$c);o.push(e)})),$l.resolve(o)},t.prototype.Si=function(t,e){var n=this,r=new Iu(Yo);return e.forEach((function(t){var e=new jh(t,0),i=new jh(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],(function(t){r=r.add(t.$c)}))})),$l.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;wa.Et(i)||(i=i.child(""));var o=new jh(new wa(i),0),a=new Iu(Yo);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(a=a.add(t.$c)),!0)}),o),$l.resolve(this.Kc(a))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Uc(t);null!==r&&n.push(r)})),n},t.prototype.xi=function(t,e){var n=this;Wo(0===this.jc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return $l.forEach(e.mutations,(function(i){var o=new jh(i.key,e.batchId);return r=r.delete(o),n.Ii.Oi(t,i.key)})).next((function(){n.qc=r}))},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new jh(e,0),r=this.qc.Pe(n);return $l.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return this.Ho.length,$l.resolve()},t.prototype.jc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),Hh=function(){function t(t,e){this.Ti=t,this.Wc=e,this.docs=new Tu(wa.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.Wc(e);return this.docs=this.docs.Ht(r,{li:e,size:a,readTime:n}),this.size+=a-o,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return $l.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=Du();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)})),$l.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=Pu(),i=new wa(e.path.child("")),o=this.docs.ne(i);o.ae();){var a=o.ce(),s=a.key,u=a.value,l=u.li,c=u.readTime;if(!e.path.st(s.path))break;c.u(n)<=0||l instanceof Za&&Ls(e,l)&&(r=r.Ht(l.key,l))}return $l.resolve(r)},t.prototype.Gc=function(t,e){return $l.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Or=function(t){return new Vh(this)},t.prototype.Mr=function(t){return $l.resolve(this.size)},t}(),Vh=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Oo(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach((function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)})),$l.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(Fc),zh=function(){function t(t){this.persistence=t,this.zc=new jc((function(t){return is(t)}),os),this.lastRemoteSnapshotVersion=va.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new Rh,this.targetCount=0,this.Yc=Gc.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),$l.resolve()},t.prototype.Ki=function(t){return $l.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return $l.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),$l.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),$l.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Gc(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,$l.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),$l.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,$l.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.zc.delete(a),o.push(r.Xi(t,s.targetId)),i++)})),$l.$n(o).next((function(){return i}))},t.prototype.tr=function(t){return $l.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return $l.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),$l.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Fc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach((function(e){i.push(r.Oi(t,e))})),$l.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),$l.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return $l.resolve(n)},t.prototype.ki=function(t,e){return $l.resolve(this.Jc.ki(e))},t}(),Uh=function(){function t(t,e){var n=this;this.Xc={},this.io=new pa(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new zh(this),this.Ti=new Dc,this.wo=function(t,e){return new Hh(t,(function(t){return n.Ii.Zc(t)}))}(this.Ti),this.Kt=new _c(e),this.Eo=new Lh(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.jo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new Fh(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;Ho("MemoryPersistence","Starting transaction:",t);var i=new Bh(this.io.next());return this.Ii.ta(),n(i).next((function(t){return r.Ii.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.ps(),t}))},t.prototype.na=function(t,e){return $l.Bn(Object.values(this.Xc).map((function(n){return function(){return n.ki(t,e)}})))},t}(),Bh=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Oo(e,t),e}(Wl),Wh=function(){function t(t){this.persistence=t,this.sa=new Rh,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw Bo()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),$l.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),$l.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),$l.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Dr();return r.cr(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Yi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Fr().Or();return $l.forEach(this.oa,(function(r){var i=wa.ft(r);return e.ca(t,i).next((function(t){t||n._i(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return $l.Bn([function(){return $l.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function qh(t,e){return"firestore_clients_"+t+"_"+e}function Gh(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function Kh(t,e){return"firestore_targets_"+t+"_"+e}var Yh=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new ta(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(Vo("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Jh=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new ta(r.error.code,r.error.message)),i?new t(e,r.state,o):(Vo("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Xh=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Fu(),a=0;i&&a<r.activeTargetIds.length;++a)i=Ma(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Vo("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Qh=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Vo("SharedClientState","Failed to parse online state: "+e),null)},t}(),Zh=function(){function t(){this.activeTargetIds=Fu()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),tf=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new Tu(Yo),this.Tr=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=qh(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new Zh),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.jn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Mo(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,l,c,h=this;return Lo(this,(function(f){switch(f.label){case 0:return[4,this.fa.Qo()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(qh(this.persistenceKey,r)))&&(o=Xh.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(a=this.storage.getItem(this.ga))&&(s=this.ba(a))&&this.va(s),u=0,l=this.Ia;u<l.length;u++)c=l[u],this.Ea(c);return this.Ia=[],this.window.addEventListener("unload",(function(){return h.Lo()})),this.Tr=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Oa=function(t,e,n){this.Na(t,e,n),this.Fa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(Kh(this.persistenceKey,t));if(n){var r=Jh.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(Kh(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Fa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},t.prototype.Ka=function(t){this.ja(t)},t.prototype.Wa=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ho("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ho("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ho("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ho("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void Vo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo((function(){return Mo(e,void 0,void 0,(function(){var t,e,r,i,o,a;return Lo(this,(function(s){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(a=function(t){var e=pa.U;if(null!=t)try{var n=JSON.parse(t);Wo("number"==typeof n),e=n}catch(t){Vo("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==pa.U&&this.L(a);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Yh(this.currentUser,t,e,n),i=Gh(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Fa=function(t){var e=Gh(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ja=function(t){var e={clientId:this._a,onlineState:t};this.storage.setItem(this.ga,JSON.stringify(e))},t.prototype.Ua=function(t,e,n){var r=Kh(this.persistenceKey,t),i=new Jh(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Xh.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Yh.aa(new ua(i),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return Jh.aa(r,e)},t.prototype.ba=function(t){return Qh.aa(t)},t.prototype.Xa=function(t){return Mo(this,void 0,void 0,(function(){return Lo(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(Ho("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.fa.iu(a,s).then((function(){n.Ta=r}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=Fu();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),ef=function(){function t(){this.ru=new Zh,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Oa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new Zh,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.Wa=function(){},t}(),nf=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),rf=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){Ho("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){Ho("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.jn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),of={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},af=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),sf=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Oo(e,t),e.prototype.Du=function(t,e,n,r){return new Promise((function(i,o){var a=new $o;a.listenOnce(Co.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Io.NO_ERROR:var e=a.getResponseJson();Ho("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Io.TIMEOUT:Ho("Connection",'RPC "'+t+'" timed out'),o(new ta(Zo.DEADLINE_EXCEEDED,"Request time out"));break;case Io.HTTP_ERROR:var n=a.getStatus();if(Ho("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Zo).indexOf(e)>=0?e:Zo.UNKNOWN}(r.status);o(new ta(s,r.message))}else o(new ta(Zo.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ta(Zo.UNAVAILABLE,"Connection failed."));break;default:Bo()}}finally{Ho("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Eo(),i=xo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())||"object"===typeof navigator&&"ReactNative"===navigator.product||Pt().indexOf("Electron/")>=0||function(){var t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||Pt().indexOf("MSAppHost/")>=0||function(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Ho("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,l=!1,c=new af({du:function(t){l?Ho("Connection","Not sending because WebChannel is closed:",t):(u||(Ho("Connection","Opening WebChannel transport."),s.open(),u=!0),Ho("Connection","WebChannel sending:",t),s.send(t))},wu:function(){return s.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(s,Do.EventType.OPEN,(function(){l||Ho("Connection","WebChannel transport opened.")})),h(s,Do.EventType.CLOSE,(function(){l||(l=!0,Ho("Connection","WebChannel transport closed"),c.Pu())})),h(s,Do.EventType.ERROR,(function(t){l||(l=!0,zo("Connection","WebChannel transport errored:",t),c.Pu(new ta(Zo.UNAVAILABLE,"The operation could not be completed")))})),h(s,Do.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];Wo(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Ho("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=_u[t];if(void 0!==e)return Su(e)}(o),u=i.message;void 0===a&&(a=Zo.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),l=!0,c.Pu(new ta(a,u)),s.close()}else Ho("Connection","WebChannel received:",n),c.yu(n)}})),h(i,No.STAT_EVENT,(function(t){t.stat===Ao.PROXY?Ho("Connection","Detected buffering proxy"):t.stat===Ao.NOPROXY&&Ho("Connection","Detected no buffering proxy")})),setTimeout((function(){c.Ru()}),0),c},e}(function(){function t(t){this.gu=t,this.T=t.T;var e=t.ssl?"https":"http";this.Vu=e+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);Ho("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then((function(t){return Ho("RestConnection","Received: ",t),t}),(function(e){throw zo("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.2",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){var n=of[t];return this.Vu+"/v1/"+e+":"+n},t}());function uf(){return"undefined"!=typeof window?window:null}function lf(){return"undefined"!=typeof document?document:null}function cf(t){return new tl(t,!0)}var hf=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Ou=r,this.Fu=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Fu},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&Ho("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Ou,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Fu&&(this.ku=this.Fu)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),ff=function(){function t(t,e,n,r,i,o){this.eo=t,this.Qu=n,this.Ku=r,this.ju=i,this.listener=o,this.state=0,this.Wu=0,this.Gu=null,this.stream=null,this.zu=new hf(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Mo(this,void 0,void 0,(function(){return Lo(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Mo(this,void 0,void 0,(function(){return Lo(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Mo(this,void 0,void 0,(function(){return Lo(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.Wu++,3!==t?this.zu.reset():e&&e.code===Zo.RESOURCE_EXHAUSTED?(Vo(e.toString()),Vo("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Zo.UNAUTHENTICATED&&this.ju.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.Wu),n=this.Wu;this.ju.getToken().then((function(e){t.Wu===n&&t.rh(e)}),(function(n){e((function(){var e=new ta(Zo.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.Wu);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return Mo(t,void 0,void 0,(function(){return Lo(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return Ho("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys((function(){return e.Wu===t?n():(Ho("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),df=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,a}return Oo(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Bo()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(Wo(void 0===e||"string"==typeof e),Qo.fromBase64String(e||"")):(Wo(void 0===e||e instanceof Uint8Array),Qo.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?Zo.UNKNOWN:Su(t.code);return new ta(e,t.message||"")}(s);n=new Gu(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=ul(t,r.document.name),o=il(r.document.updateTime);var s=new Ya({mapValue:{fields:r.document.fields}}),u=(a=new Za(i,o,s,{}),r.targetIds||[]),l=r.removedTargetIds||[];n=new Wu(u,l,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=ul(t,r.document),o=r.readTime?il(r.readTime):va.min(),s=new ts(i,o),a=r.removedTargetIds||[],n=new Wu([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=ul(t,r.document),o=r.removedTargetIds||[],n=new Wu([],o,i,null);else{if(!("filter"in e))return Bo();e.filter;var c=e.filter;c.targetId,r=c.count||0,i=new wu(r),o=c.targetId,n=new qu(o,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return va.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?va.min():e.readTime?il(e.readTime):va.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=hl(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=as(r)?{documents:_l(t,r)}:{query:ml(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=nl(t,e.resumeToken):e.Mt.u(va.min())>0&&(n.readTime=el(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Bo()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(this.Kt,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=hl(this.Kt),e.removeTarget=t,this.eh(e)},e}(ff),pf=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,a._h=!1,a}return Oo(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(Wo(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(Wo(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?il(t.updateTime):il(e);n.isEqual(va.min())&&(n=il(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new nu(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=il(t.commitTime);return this.listener.wh(n,e)}return Wo(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=hl(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return gl(e.Kt,t)}))};this.eh(n)},e}(ff),gf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Oo(e,t),e.prototype.mh=function(){if(this.Ih)throw new ta(Zo.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===Zo.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===Zo.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),vf=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(Vo(e),this.Ph=!1):Ho("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),_f=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Oh=new Set,this.Fh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return Mo(o,void 0,void 0,(function(){return Lo(this,(function(t){switch(t.label){case 0:return xf(this)?(Ho("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Mo(this,void 0,void 0,(function(){var e;return Lo(this,(function(n){switch(n.label){case 0:return(e=qo(t)).Oh.add(4),[4,yf(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Oh.delete(4),[4,mf(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new vf(n,r)};function mf(t){return Mo(this,void 0,void 0,(function(){var e,n;return Lo(this,(function(r){switch(r.label){case 0:if(!xf(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function yf(t){return Mo(this,void 0,void 0,(function(){var e,n;return Lo(this,(function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function bf(t,e){var n=qo(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),Ef(n)?Tf(n):Vf(n).Ju()&&kf(n,e))}function wf(t,e){var n=qo(t),r=Vf(n);n.Nh.delete(e),r.Ju()&&Sf(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():xf(n)&&n.Mh.set("Unknown"))}function kf(t,e){t.Lh.cn(e.targetId),Vf(t).hh(e)}function Sf(t,e){t.Lh.cn(e),Vf(t).lh(e)}function Tf(t){t.Lh=new Yu({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),Vf(t).start(),t.Mh.yh()}function Ef(t){return xf(t)&&!Vf(t).Hu()&&t.Nh.size>0}function xf(t){return 0===qo(t).Oh.size}function If(t){t.Lh=void 0}function Cf(t){return Mo(this,void 0,void 0,(function(){return Lo(this,(function(e){return t.Nh.forEach((function(e,n){kf(t,e)})),[2]}))}))}function Nf(t,e){return Mo(this,void 0,void 0,(function(){return Lo(this,(function(n){return If(t),Ef(t)?(t.Mh.ph(e),Tf(t)):t.Mh.set("Unknown"),[2]}))}))}function Af(t,e,n){return Mo(this,void 0,void 0,(function(){var r,i,o;return Lo(this,(function(a){switch(a.label){case 0:if(t.Mh.set("Online"),!(e instanceof Gu&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Mo(this,void 0,void 0,(function(){var n,r,i,o;return Lo(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.Nh.has(o)?[4,t.Ch.$h(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Ho("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Df(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Wu?t.Lh.wn(e):e instanceof qu?t.Lh.yn(e):t.Lh.In(e),n.isEqual(va.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Th(t.Sh)];case 8:return i=a.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Fe.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Qo.h,n.Mt)),Sf(t,e);var r=new Fs(n.target,e,1,n.sequenceNumber);kf(t,r)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Ho("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Df(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Df(t,e,n){return Mo(this,void 0,void 0,(function(){var r=this;return Lo(this,(function(i){switch(i.label){case 0:if(!Rl(e))throw e;return t.Oh.add(1),[4,yf(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return Th(t.Sh)}),t.fs.bo((function(){return Mo(r,void 0,void 0,(function(){return Lo(this,(function(e){switch(e.label){case 0:return Ho("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Oh.delete(1),[4,mf(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function $f(t,e){return e().catch((function(n){return Df(t,n,e)}))}function Pf(t){return Mo(this,void 0,void 0,(function(){var e,n,r,i,o;return Lo(this,(function(a){switch(a.label){case 0:e=qo(t),n=zf(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return xf(t)&&t.xh.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Ih(e.Sh,r)];case 3:return null===(i=a.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=zf(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Df(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Of(e)&&Mf(e),[2]}}))}))}function Of(t){return xf(t)&&!zf(t).Hu()&&t.xh.length>0}function Mf(t){zf(t).start()}function Lf(t){return Mo(this,void 0,void 0,(function(){return Lo(this,(function(e){return zf(t).Th(),[2]}))}))}function Rf(t){return Mo(this,void 0,void 0,(function(){var e,n,r,i;return Lo(this,(function(o){for(e=zf(t),n=0,r=t.xh;n<r.length;n++)i=r[n],e.dh(i.mutations);return[2]}))}))}function jf(t,e,n){return Mo(this,void 0,void 0,(function(){var r,i;return Lo(this,(function(o){switch(o.label){case 0:return r=t.xh.shift(),i=vc.from(r,e,n),[4,$f(t,(function(){return t.Ch.qh(i)}))];case 1:return o.sent(),[4,Pf(t)];case 2:return o.sent(),[2]}}))}))}function Ff(t,e){return Mo(this,void 0,void 0,(function(){return Lo(this,(function(n){switch(n.label){case 0:return e&&zf(t).fh?[4,function(t,e){return Mo(this,void 0,void 0,(function(){var n,r;return Lo(this,(function(i){switch(i.label){case 0:return ku(r=e.code)&&r!==Zo.ABORTED?(n=t.xh.shift(),zf(t).Xu(),[4,$f(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Pf(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Of(t)&&Mf(t),[2]}}))}))}function Hf(t,e){return Mo(this,void 0,void 0,(function(){var n;return Lo(this,(function(r){switch(r.label){case 0:return n=qo(t),e?(n.Oh.delete(2),[4,mf(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Oh.add(2),[4,yf(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Vf(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=qo(t);return r.mh(),new df(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Cf.bind(null,t),Iu:Nf.bind(null,t),uh:Af.bind(null,t)}),t.Fh.push((function(n){return Mo(e,void 0,void 0,(function(){return Lo(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),Ef(t)?Tf(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),If(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function zf(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=qo(t);return r.mh(),new pf(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Lf.bind(null,t),Iu:Ff.bind(null,t),Eh:Rf.bind(null,t),wh:jf.bind(null,t)}),t.Fh.push((function(n){return Mo(e,void 0,void 0,(function(){return Lo(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,Pf(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(Ho("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh}var Uf=function(){this.jh=void 0,this.listeners=[]},Bf=function(){this.queries=new jc((function(t){return Os(t)}),Ps),this.onlineState="Unknown",this.Wh=new Set};function Wf(t,e){return Mo(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Lo(this,(function(l){switch(l.label){case 0:if(n=qo(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Uf),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),a=o,[4,n.Gh(r)];case 2:return a.jh=l.sent(),[3,4];case 3:return s=l.sent(),u=Ul(s,"Initialization of query '"+Ms(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.jh&&e.Hh(o.jh)&&Yf(n),[2]}}))}))}function qf(t,e){return Mo(this,void 0,void 0,(function(){var n,r,i,o,a;return Lo(this,(function(s){return n=qo(t),r=e.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function Gf(t,e){for(var n=qo(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var l=0,c=u.listeners;l<c.length;l++)c[l].Hh(a)&&(r=!0);u.jh=a}}r&&Yf(n)}function Kf(t,e,n){var r=qo(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function Yf(t){t.Wh.forEach((function(t){t.next()}))}var Jf=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new zu(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.sl&&n||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){if(t.docChanges.length>0)return!0;var e=this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites;return!(!t.xe&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=zu.Oe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),Xf=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Qf=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return ul(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?pl(this.Kt,t.document,!1):new ts(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return il(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=Zf(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Qf(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.yc(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var l=u[s],c=(e.get(l)||Ru()).add(a);e.set(l,c)}}return e},t.prototype.complete=function(){return Mo(this,void 0,void 0,(function(){var t,e,n,r,i;return Lo(this,(function(o){switch(o.label){case 0:return[4,Oh(this.Sh,new Qf(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Mh(this.Sh,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new vh(Object.assign({},this.progress),t))]}}))}))}}();function Zf(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var td=function(t){this.key=t},ed=function(t){this.key=t},nd=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=Ru(),this.Ce=Ru(),this.ll=Rs(t),this._l=new Hu(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new Vu,i=e?e._l:this._l,o=e?e.Ce:this.Ce,a=i,s=!1,u=Es(this.query)&&i.size===this.query.limit?i.last():null,l=xs(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var c=i.get(t),h=e instanceof Za?e:null;h&&(h=Ls(n.query,h)?h:null);var f=!!c&&n.Ce.has(c.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||l&&n.ll(h,l)<0)&&(s=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Es(this.query)||xs(this.query))for(;a.size>this.query.limit;){var c=Es(this.query)?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{_l:a,wl:r,_c:s,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bo()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)})),this.Tl(n);var a=e?this.Il():[],s=0===this.hl.size&&this.qe?1:0,u=s!==this.ul;return this.ul=s,0!==o.length||u?{snapshot:new zu(this.query,t._l,i,o,t.Ce,0===s,u,!1),ml:a}:{ml:a}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new Vu,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=Ru(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new ed(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new td(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=Ru();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return zu.Oe(this.query,this._l,this.Ce,0===this.ul)},t}(),rd=function(t,e,n){this.query=t,this.targetId=e,this.view=n},id=function(t){this.key=t,this.yl=!1},od=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new jc((function(t){return Os(t)}),Ps),this.Dl=new Map,this.Cl=[],this.xl=new Tu(wa.J),this.Nl=new Map,this.Ol=new Rh,this.Fl={},this.kl=new Map,this.Ml=Gc.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function ad(t,e){return Mo(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Lo(this,(function(u){switch(u.label){case 0:return n=Md(t),(o=n.Sl.get(e))?(r=o.targetId,n.pl.ka(r),i=o.view.Pl(),[3,4]):[3,1];case 1:return[4,Ch(n.Sh,Ds(e))];case 2:return a=u.sent(),s=n.pl.ka(a.targetId),r=a.targetId,[4,sd(n,e,r,"current"===s)];case 3:i=u.sent(),n.$l&&bf(n.gl,a),u.label=4;case 4:return[2,i]}}))}))}function sd(t,e,n,r){return Mo(this,void 0,void 0,(function(){var i,o,a,s,u,l;return Lo(this,(function(c){switch(c.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Mo(this,void 0,void 0,(function(){var i,o,a;return Lo(this,(function(s){switch(s.label){case 0:return(i=e.view.dl(n))._c?[4,Ah(t.Sh,e.query,!1).then((function(t){var n=t.documents;return e.view.dl(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.Fe.get(e.targetId),a=e.view.Ei(i,t.$l,o),[2,(bd(t,e.targetId,a.ml),a.snapshot)]}}))}))}(t,e,n,r)},[4,Ah(t.Sh,e,!0)];case 1:return i=c.sent(),o=new nd(e,i.Pc),a=o.dl(i.documents),s=Bu.Be(n,r&&"Offline"!==t.onlineState),u=o.Ei(a,t.$l,s),bd(t,n,u.ml),l=new rd(e,n,o),[2,(t.Sl.set(e,l),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}}))}))}function ud(t,e){return Mo(this,void 0,void 0,(function(){var n,r,i;return Lo(this,(function(o){switch(o.label){case 0:return n=qo(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!Ps(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,Nh(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),wf(n.gl,r.targetId),md(n,r.targetId)})).catch(Rc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return md(n,r.targetId),[4,Nh(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function ld(t,e,n){return Mo(this,void 0,void 0,(function(){var r,i,o,a;return Lo(this,(function(s){switch(s.label){case 0:r=Ld(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=qo(t),i=ga.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Ru());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ic.Zo(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var l=u[s],c=uu(l,n.get(l.key));null!=c&&a.push(new fu(l.key,c,Xa(c.proto.mapValue),ru.exists(!0)))}return r.Ho.Pi(t,i,a,e)}))})).then((function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}}))}(r.Sh,e)];case 2:return i=s.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.R()];r||(r=new Tu(Yo)),r=r.Ht(e,n),t.Fl[t.currentUser.R()]=r}(r,i.batchId,n),[4,Sd(r,i.oi)];case 3:return s.sent(),[4,Pf(r.gl)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Ul(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function cd(t,e){return Mo(this,void 0,void 0,(function(){var n,r;return Lo(this,(function(i){switch(i.label){case 0:n=qo(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Eh(n.Sh,e)];case 2:return r=i.sent(),e.Fe.forEach((function(t,e){var r=n.Nl.get(e);r&&(Wo(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?Wo(r.yl):t.Ke.size>0&&(Wo(r.yl),r.yl=!1))})),[4,Sd(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Rc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function hd(t,e,n){var r=qo(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach((function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=qo(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)})),r&&Yf(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function fd(t,e,n){return Mo(this,void 0,void 0,(function(){var r,i,o,a,s,u;return Lo(this,(function(l){switch(l.label){case 0:return(r=qo(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(a=(a=new Tu(wa.J)).Ht(o,new ts(o,va.min())),s=Ru().add(o),u=new Uu(va.min(),new Map,new Iu(Yo),a,s),[4,cd(r,u)]):[3,2];case 1:return l.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),kd(r),[3,4];case 2:return[4,Nh(r.Sh,e,!1).then((function(){return md(r,e,n)})).catch(Rc)];case 3:l.sent(),l.label=4;case 4:return[2]}}))}))}function dd(t,e){return Mo(this,void 0,void 0,(function(){var n,r,i;return Lo(this,(function(o){switch(o.label){case 0:n=qo(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Sh(n.Sh,e)];case 2:return i=o.sent(),_d(n,r,null),vd(n,r),n.pl.Oa(r,"acknowledged"),[4,Sd(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Rc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function pd(t,e,n){return Mo(this,void 0,void 0,(function(){var r,i;return Lo(this,(function(o){switch(o.label){case 0:r=qo(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=qo(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ho.yi(t,e).next((function(e){return Wo(null!==e),r=e.keys(),n.Ho.xi(t,e)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}(r.Sh,e)];case 2:return i=o.sent(),_d(r,e,n),vd(r,e),r.pl.Oa(e,"rejected",n),[4,Sd(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Rc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function gd(t,e){return Mo(this,void 0,void 0,(function(){var n,r,i,o,a;return Lo(this,(function(s){switch(s.label){case 0:xf((n=qo(t)).gl)||Ho("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=qo(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.pi(t)}))}(n.Sh)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=s.sent(),a=Ul(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function vd(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function _d(t,e,n){var r=qo(t),i=r.Fl[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fl[r.currentUser.R()]=i}}function md(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Ol.kc(e).forEach((function(e){t.Ol.ki(e)||yd(t,e)}))}function yd(t,e){var n=t.xl.get(e);null!==n&&(wf(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),kd(t))}function bd(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof td?(t.Ol.sr(o.key,e),wd(t,o)):o instanceof ed?(Ho("SyncEngine","Document no longer in limbo: "+o.key),t.Ol.rr(o.key,e),t.Ol.ki(o.key)||yd(t,o.key)):Bo()}}function wd(t,e){var n=e.key;t.xl.get(n)||(Ho("SyncEngine","New document in limbo: "+n),t.Cl.push(n),kd(t))}function kd(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new id(e)),t.xl=t.xl.Ht(e,n),bf(t.gl,new Fs(Ds(Ts(e.path)),n,2,pa.U))}}function Sd(t,e,n){return Mo(this,void 0,void 0,(function(){var r,i,o,a;return Lo(this,(function(s){switch(s.label){case 0:return r=qo(t),i=[],o=[],a=[],r.Sl.nt()?[3,3]:(r.Sl.forEach((function(t,s){a.push(r.Bl(s,e,n).then((function(t){if(t){r.$l&&r.pl.qa(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=mh.cc(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vl.uh(i),[4,function(t,e){return Mo(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l,c;return Lo(this,(function(h){switch(h.label){case 0:n=qo(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return $l.forEach(e,(function(e){return $l.forEach(e.rc,(function(r){return n.persistence.Ii.sr(t,e.targetId,r)})).next((function(){return $l.forEach(e.oc,(function(r){return n.persistence.Ii.rr(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!Rl(r=h.sent()))throw r;return Ho("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.dc.get(s),l=u.Mt,c=u.Bt(l),n.dc=n.dc.Ht(s,c));return[2]}}))}))}(r.Sh,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Td(t,e){return Mo(this,void 0,void 0,(function(){var n,r;return Lo(this,(function(i){switch(i.label){case 0:return(n=qo(t)).currentUser.isEqual(e)?[3,3]:(Ho("SyncEngine","User change. New user:",e.R()),[4,kh(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new ta(Zo.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,Sd(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Ed(t,e){var n=qo(t),r=n.Nl.get(e);if(r&&r.yl)return Ru().add(r.key);var i=Ru(),o=n.Dl.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],l=n.Sl.get(u);i=i.ye(l.view.fl)}return i}function xd(t,e){return Mo(this,void 0,void 0,(function(){var n,r,i;return Lo(this,(function(o){switch(o.label){case 0:return[4,Ah((n=qo(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&bd(n,e.targetId,i.ml),i)]}}))}))}function Id(t){return Mo(this,void 0,void 0,(function(){var e;return Lo(this,(function(n){return[2,$h((e=qo(t)).Sh).then((function(t){return Sd(e,t)}))]}))}))}function Cd(t,e,n,r){return Mo(this,void 0,void 0,(function(){var i,o;return Lo(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=qo(t),r=qo(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.gi(t,e).next((function(e){return e?n.Ic.Zo(t,e):$l.resolve(null)}))}))}((i=qo(t)).Sh,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Pf(i.gl)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(_d(i,e,r||null),vd(i,e),function(t,e){qo(qo(t).Ho).Ni(e)}(i.Sh,e)):Bo(),a.label=4;case 4:return[4,Sd(i,o)];case 5:return a.sent(),[3,7];case 6:Ho("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function Nd(t,e){return Mo(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l;return Lo(this,(function(c){switch(c.label){case 0:return Md(n=qo(t)),Ld(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,Ad(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,Hf(n.gl,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)s=a[o],bf(n.gl,s);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(u=[],l=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?u.push(e):l=l.then((function(){return md(n,e),Nh(n.Sh,e,!0)})),wf(n.gl,e)})),[4,l]);case 4:return c.sent(),[4,Ad(n,u)];case 5:return c.sent(),function(t){var e=qo(t);e.Nl.forEach((function(t,n){wf(e.gl,n)})),e.Ol.Mc(),e.Nl=new Map,e.xl=new Tu(wa.J)}(n),n.Ll=!1,[4,Hf(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function Ad(t,e,n){return Mo(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l,c,h,f,d,p,g;return Lo(this,(function(v){switch(v.label){case 0:n=qo(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(l=n.Dl.get(s))&&0!==l.length?[4,Ch(n.Sh,Ds(l[0]))]:[3,7]):[3,13];case 2:u=v.sent(),c=0,h=l,v.label=3;case 3:return c<h.length?(f=h[c],d=n.Sl.get(f),[4,xd(n,d)]):[3,6];case 4:(p=v.sent()).snapshot&&i.push(p.snapshot),v.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,Dh(n.Sh,s)];case 8:return g=v.sent(),[4,Ch(n.Sh,g)];case 9:return u=v.sent(),[4,sd(n,Dd(g),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function Dd(t){return Ss(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function $d(t){var e=qo(t);return qo(qo(e.Sh).persistence).Qo()}function Pd(t,e,n,r){return Mo(this,void 0,void 0,(function(){var i,o,a;return Lo(this,(function(s){switch(s.label){case 0:return(i=qo(t)).Ll?(Ho("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,$h(i.Sh)];case 3:return o=s.sent(),a=Uu.$e(e,"current"===n),[4,Sd(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Nh(i.Sh,e,!0)];case 6:return s.sent(),md(i,e,r),[3,8];case 7:Bo(),s.label=8;case 8:return[2]}}))}))}function Od(t,e,n){return Mo(this,void 0,void 0,(function(){var r,i,o,a,s,u,l,c,h,f;return Lo(this,(function(d){switch(d.label){case 0:if(!(r=Md(t)).Ll)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(a=o[i],r.Dl.has(a)?(Ho("SyncEngine","Adding an already active target "+a),[3,5]):[4,Dh(r.Sh,a)]):[3,6];case 2:return s=d.sent(),[4,Ch(r.Sh,s)];case 3:return u=d.sent(),[4,sd(r,Dd(s),u.targetId,!1)];case 4:d.sent(),bf(r.gl,u),d.label=5;case 5:return i++,[3,1];case 6:l=function(t){return Lo(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,Nh(r.Sh,t,!1).then((function(){wf(r.gl,t),md(r,t)})).catch(Rc)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=0,h=n,d.label=7;case 7:return c<h.length?(f=h[c],[5,l(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}function Md(t){var e=qo(t);return e.gl.Ch.Bh=cd.bind(null,e),e.gl.Ch.Sn=Ed.bind(null,e),e.gl.Ch.$h=fd.bind(null,e),e.vl.uh=Gf.bind(null,e.Vl),e.vl.ql=Kf.bind(null,e.Vl),e}function Ld(t){var e=qo(t);return e.gl.Ch.qh=dd.bind(null,e),e.gl.Ch.Uh=pd.bind(null,e),e}var Rd=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Mo(this,void 0,void 0,(function(){return Lo(this,(function(e){switch(e.label){case 0:return this.Kt=cf(t.gu.T),this.pl=this.Wl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return wh(this.persistence,new yh,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new Uh(Wh.ra,this.Kt)},t.prototype.Wl=function(t){return new ef},t.prototype.terminate=function(){return Mo(this,void 0,void 0,(function(){return Lo(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}}))}))},t}(),jd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Oo(e,t),e.prototype.initialize=function(e){return Mo(this,void 0,void 0,(function(){return Lo(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Ph(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Ld(this.Xl.fa)];case 4:return n.sent(),[4,Pf(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return wh(this.persistence,new yh,t.Yl,this.Kt)},e.prototype.Hl=function(t){var e=this.persistence.Ii._r;return new th(e,t.fs)},e.prototype.Gl=function(t){var e=gh(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?Lc.Xs(this.cacheSizeBytes):Lc.ei;return new fh(this.synchronizeTabs,e,t.clientId,n,t.fs,uf(),lf(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new ef},e}(Rd),Fd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Oo(e,t),e.prototype.initialize=function(e){return Mo(this,void 0,void 0,(function(){var n,r=this;return Lo(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof tf?(this.pl.fa={nu:Cd.bind(null,n),su:Pd.bind(null,n),iu:Od.bind(null,n),Qo:$d.bind(null,n),eu:Id.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po((function(t){return Mo(r,void 0,void 0,(function(){return Lo(this,(function(e){switch(e.label){case 0:return[4,Nd(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=uf();if(!tf.jn(e))throw new ta(Zo.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=gh(t.gu.T,t.gu.persistenceKey);return new tf(e,t.fs,n,t.clientId,t.Yl)},e}(jd),Hd=function(){function t(){}return t.prototype.initialize=function(t,e){return Mo(this,void 0,void 0,(function(){var n=this;return Lo(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return hd(n.fa,t,1)},this.gl.Ch.s_=Td.bind(null,this.fa),[4,Hf(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new Bf},t.prototype.Zl=function(t){var e,n=cf(t.gu.T),r=(e=t.gu,new sf(e));return function(t,e,n){return new gf(t,e,n)}(t.credentials,r,n)},t.prototype.t_=function(t){var e,n,r,i,o,a=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return hd(a.fa,t,0)},o=rf.jn()?new rf:new nf,new _f(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,a){var s=new od(t,e,n,r,i,o);return a&&(s.Ll=!0),s}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Mo(this,void 0,void 0,(function(){var e;return Lo(this,(function(n){switch(n.label){case 0:return e=qo(t),Ho("RemoteStore","RemoteStore shutting down."),e.Oh.add(5),[4,yf(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}();var Vd=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),zd=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new Dl,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Mo(this,void 0,void 0,(function(){return Lo(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Kl=function(){return Mo(this,void 0,void 0,(function(){return Lo(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},t.prototype.a_=function(){return Mo(this,void 0,void 0,(function(){var t,e,n,r;return Lo(this,(function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new Xf(JSON.parse(r),t.length+n)]}}))}))},t.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.u_=function(){return Mo(this,void 0,void 0,(function(){var t,e;return Lo(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.l_=function(t){return Mo(this,void 0,void 0,(function(){var e;return Lo(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Mo(this,void 0,void 0,(function(){var t,e;return Lo(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new ta(Zo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new ba(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),Ud=function(t){this._methodName=t};function Bd(t,e,n){if(!n)throw new ta(Zo.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Wd(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ta(Zo.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function qd(t,e,n,r){if(!0===e&&!0===r)throw new ta(Zo.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Gd(t){if(!wa.Et(t))throw new ta(Zo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Kd(t){if(wa.Et(t))throw new ta(Zo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Yd(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Bo()}function Jd(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new ta(Zo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Yd(t);throw new ta(Zo.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Xd(t,e){if(e<=0)throw new ta(Zo.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Qd=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ta(Zo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ta(Zo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,qd("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Zd=new Map,tp=function(){function t(t,e){this.w_="(lite)",this.E_=new Qd({}),this.T_=!1,t instanceof sa?(this.I_=t,this.m_=new ca):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ta(Zo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sa(t.options.projectId)}(t),this.m_=new ha(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new ta(Zo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new ta(Zo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Qd(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new ca;switch(t.type){case"gapi":var e=t.client;return Wo(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new da(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new ta(Zo.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return this,(t=Zd.get(this))&&(Ho("ComponentProvider","Removing Datastore"),Zd.delete(this),t.terminate()),Promise.resolve();var t},t}(),ep=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new rp(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),np=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),rp=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Ts(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Oo(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new ep(this.firestore,null,new wa(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(np);function ip(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof na&&(t=t._),Bd("collection","path",e),t instanceof tp)return Kd(n=ma.ct.apply(ma,Ro([e],r))),new rp(t,null,n);if(!(t instanceof ep||t instanceof rp))throw new ta(Zo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Kd(n=ma.ct.apply(ma,Ro([t.path],r)).child(ma.ct(e))),new rp(t.firestore,null,n)}function op(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof na&&(t=t._),1===arguments.length&&(e=Ko.t()),Bd("doc","path",e),t instanceof tp)return Gd(n=ma.ct.apply(ma,Ro([e],r))),new ep(t,null,new wa(n));if(!(t instanceof ep||t instanceof rp))throw new ta(Zo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Gd(n=t.D_.child(ma.ct.apply(ma,Ro([e],r)))),new ep(t.firestore,t instanceof rp?t.v_:null,new wa(n))}function ap(t,e){return t instanceof na&&(t=t._),e instanceof na&&(e=e._),(t instanceof ep||t instanceof rp)&&(e instanceof ep||e instanceof rp)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function sp(t,e){return t instanceof na&&(t=t._),e instanceof na&&(e=e._),t instanceof np&&e instanceof np&&t.firestore===e.firestore&&Ps(t.C_,e.C_)&&t.v_===e.v_}var up=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new ta(Zo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ta(Zo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return Yo(this.x_,t.x_)||Yo(this.N_,t.N_)},t}(),lp=/^__.*__$/,cp=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return null!==this.zt?new fu(t,this.data,this.zt,e,this.fieldTransforms):new hu(t,this.data,e,this.fieldTransforms)},t}(),hp=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return new fu(t,this.data,this.zt,e,this.fieldTransforms)},t}();function fp(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bo()}}var dp=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.F_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.F_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Pp(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.W_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.F_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(fp(this.k_)&&lp.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),pp=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||cf(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new dp({k_:t,methodName:e,W_:n,path:ba.at(),B_:!1,j_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function gp(t){var e=t.p_(),n=cf(t.I_);return new pp(t.I_,!!e.ignoreUndefinedProperties,n)}function vp(t,e,n,r,i,o){void 0===o&&(o={});var a=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Np("Data must be an object, but it was:",a,r);var s,u,l=Ip(r,a);if(o.merge)s=new Ea(a.zt),u=a.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Ap(e,f[h],n);if(!a.contains(d))throw new ta(Zo.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Op(c,d)||c.push(d)}s=new Ea(c),u=a.fieldTransforms.filter((function(t){return s.It(t.field)}))}else s=null,u=a.fieldTransforms;return new cp(new Ya(l),s,u)}var _p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oo(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw 1===t.k_?t.K_(this._methodName+"() can only appear at the top level of your update data"):t.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Ud);function mp(t,e,n){return new dp({k_:3,W_:e.settings.W_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var yp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oo(e,t),e.prototype.z_=function(t){return new eu(t.path,new Gs)},e.prototype.isEqual=function(t){return t instanceof e},e}(Ud),bp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Oo(e,t),e.prototype.z_=function(t){var e=mp(this,t,!0),n=this.H_.map((function(t){return xp(t,e)})),r=new Ks(n);return new eu(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ud),wp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Oo(e,t),e.prototype.z_=function(t){var e=mp(this,t,!0),n=this.H_.map((function(t){return xp(t,e)})),r=new Js(n);return new eu(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ud),kp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Oo(e,t),e.prototype.z_=function(t){var e=new Qs(t.Kt,zs(t.Kt,this.J_));return new eu(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Ud);function Sp(t,e,n,r){var i=t.G_(1,e,n);Np("Data must be an object, but it was:",i,r);var o=[],a=new Ja;Sa(r,(function(t,r){var s=$p(e,t,n);r instanceof na&&(r=r._);var u=i.U_(s);if(r instanceof _p)o.push(s);else{var l=xp(r,u);null!=l&&(o.push(s),a.set(s,l))}}));var s=new Ea(o);return new hp(a.yt(),s,i.fieldTransforms)}function Tp(t,e,n,r,i,o){var a=t.G_(1,e,n),s=[Ap(e,r,n)],u=[i];if(o.length%2!=0)throw new ta(Zo.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)s.push(Ap(e,o[l])),u.push(o[l+1]);for(var c=[],h=new Ja,f=s.length-1;f>=0;--f)if(!Op(c,s[f])){var d=s[f],p=u[f];p instanceof na&&(p=p._);var g=a.U_(d);if(p instanceof _p)c.push(d);else{var v=xp(p,g);null!=v&&(c.push(d),h.set(d,v))}}var _=new Ea(c);return new hp(h.yt(),_,a.fieldTransforms)}function Ep(t,e,n,r){return void 0===r&&(r=!1),xp(n,t.G_(r?4:3,e))}function xp(t,e){if(t instanceof na&&(t=t._),Cp(t))return Np("Unsupported field value:",e,t),Ip(t,e);if(t instanceof Ud)return function(t,e){if(!fp(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=xp(o[i],e.Q_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof na&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return zs(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ga.fromDate(t);return{timestampValue:el(e.Kt,n)}}if(t instanceof ga)return n=new ga(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:el(e.Kt,n)};if(t instanceof up)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ea)return{bytesValue:nl(e.Kt,t.l)};if(t instanceof ep){n=e.T;var r=t.firestore.I_;if(!r.isEqual(n))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ol(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Yd(t))}(t,e)}function Ip(t,e){var n={};return Ta(t)?e.path&&e.path.length>0&&e.zt.push(e.path):Sa(t,(function(t,r){var i=xp(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Cp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ga||t instanceof up||t instanceof ea||t instanceof ep||t instanceof Ud)}function Np(t,e,n){if(!Cp(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Yd(n);throw"an object"===r?e.K_(t+" a custom object"):e.K_(t+" "+r)}}function Ap(t,e,n){if(e instanceof na&&(e=e._),e instanceof zd)return e.d_;if("string"==typeof e)return $p(t,e);throw Pp("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Dp=new RegExp("[~\\*/\\[\\]]");function $p(t,e,n){if(e.search(Dp)>=0)throw Pp("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(zd.bind.apply(zd,Ro([void 0],e.split("."))))).d_}catch(Ve){throw Pp("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Pp(t,e,n,r,i){var o=r&&!r.nt(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new ta(Zo.INVALID_ARGUMENT,(s+=". ")+t+u)}function Op(t,e){return t.some((function(t){return t.isEqual(e)}))}var Mp=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Mo(this,void 0,void 0,(function(){var e,n=this;return Lo(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new ta(Zo.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Mo(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Lo(this,(function(u){switch(u.label){case 0:return n=qo(t),r=hl(n.Kt)+"/documents",i={documents:e.map((function(t){return sl(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Wo(!!e.found),e.found.name,e.found.updateTime;var n=ul(t,e.found.name),r=il(e.found.updateTime),i=new Ya({mapValue:{fields:e.found.fields}});return new Za(n,r,i,{})}(t,e):"missing"in e?function(t,e){Wo(!!e.missing),Wo(!!e.readTime);var n=ul(t,e.missing),r=il(e.readTime);return new ts(n,r)}(t,e):Bo()}(n.Kt,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());Wo(!!e),s.push(e)})),s)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof ts||t instanceof Za?n.sf(t):Bo()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.O_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.O_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new yu(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Mo(this,void 0,void 0,(function(){var t,e=this;return Lo(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=wa.ft(n);e.mutations.push(new bu(r,e.Gt(r)))})),[4,function(t,e){return Mo(this,void 0,void 0,(function(){var n,r,i;return Lo(this,(function(o){switch(o.label){case 0:return n=qo(t),r=hl(n.Kt)+"/documents",i={writes:e.map((function(t){return gl(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof Za)e=t.version;else{if(!(t instanceof ts))throw Bo();e=va.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ta(Zo.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?ru.updateTime(e):ru.jt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(va.min()))throw new ta(Zo.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ru.updateTime(e)}return ru.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Lp=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new hf(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return Mo(t,void 0,void 0,(function(){var t,e,n=this;return Lo(this,(function(r){return t=new Mp(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Pa(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ku(e)}return!1},t}(),Rp=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=ua.UNAUTHENTICATED,this.clientId=Ko.t(),this._f=function(){},this.N=new Dl,this.credentials.S((function(t){Ho("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}return t.prototype.getConfiguration=function(){return Mo(this,void 0,void 0,(function(){return Lo(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new ta(Zo.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new Dl;return this.fs.Tf((function(){return Mo(t,void 0,void 0,(function(){var t,n;return Lo(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Ul(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function jp(t,e){return Mo(this,void 0,void 0,(function(){var n,r,i=this;return Lo(this,(function(o){switch(o.label){case 0:return t.fs.Af(),Ho("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.bo((function(){return Mo(i,void 0,void 0,(function(){return Lo(this,(function(t){switch(t.label){case 0:return[4,kh(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.yo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function Fp(t,e){return Mo(this,void 0,void 0,(function(){var n,r;return Lo(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,Hp(t)];case 1:return n=i.sent(),Ho("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.bo((function(){return function(t,e){return Mo(this,void 0,void 0,(function(){var n,r;return Lo(this,(function(i){switch(i.label){case 0:return(n=qo(t)).fs.Af(),Ho("RemoteStore","RemoteStore received new credentials"),r=xf(n),n.Oh.add(3),[4,yf(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Oh.delete(3),[4,mf(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function Hp(t){return Mo(this,void 0,void 0,(function(){return Lo(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(Ho("FirestoreClient","Using default OfflineComponentProvider"),[4,jp(t,new Rd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function Vp(t){return Mo(this,void 0,void 0,(function(){return Lo(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(Ho("FirestoreClient","Using default OnlineComponentProvider"),[4,Fp(t,new Hd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function zp(t){return Hp(t).then((function(t){return t.persistence}))}function Up(t){return Hp(t).then((function(t){return t.Sh}))}function Bp(t){return Vp(t).then((function(t){return t.gl}))}function Wp(t){return Vp(t).then((function(t){return t.fa}))}function qp(t){return Mo(this,void 0,void 0,(function(){var e,n;return Lo(this,(function(r){switch(r.label){case 0:return[4,Vp(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=ad.bind(null,e.fa),n.Jh=ud.bind(null,e.fa),n)]}}))}))}function Gp(t,e,n){var r=this;void 0===n&&(n={});var i=new Dl;return t.fs.ys((function(){return Mo(r,void 0,void 0,(function(){var r;return Lo(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Vd({next:function(o){e.ys((function(){return qf(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new ta(Zo.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new ta(Zo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Jf(Ts(n.path),o,{includeMetadataChanges:!0,sl:!0});return Wf(t,a)},[4,qp(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function Kp(t,e,n){var r=this;void 0===n&&(n={});var i=new Dl;return t.fs.ys((function(){return Mo(r,void 0,void 0,(function(){var r;return Lo(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Vd({next:function(n){e.ys((function(){return qf(t,a)})),n.fromCache&&"server"===r.source?i.reject(new ta(Zo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Jf(n,o,{includeMetadataChanges:!0,sl:!0});return Wf(t,a)},[4,qp(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var Yp=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new hf(this,"async_queue_retry"),this.vf=function(){var e=lf();e&&Ho("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=lf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=lf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Mo(this,void 0,void 0,(function(){var t,e=this;return Lo(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!Rl(t=n.sent()))throw t;return Ho("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,Vo("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=zl.Is(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Bo()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Mo(this,void 0,void 0,(function(){var t;return Lo(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Of=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Jp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Yp,r.w_="name"in e?e.name:"[DEFAULT]",r}return Oo(e,t),e.prototype.b_=function(){return this.Lf||Qp(this),this.Lf.terminate()},e}(tp);function Xp(t){return t.Lf||Qp(t),t.Lf.df(),t.Lf}function Qp(t){var e=t.p_(),n=function(t,e,n){return new aa(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new Rp(t.m_,t.Mf,n)}function Zp(t,e,n){var r=this,i=new Dl;return t.fs.enqueue((function(){return Mo(r,void 0,void 0,(function(){var r;return Lo(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,jp(t,n)];case 1:return o.sent(),[4,Fp(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Zo.FAILED_PRECONDITION||t.code===Zo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function tg(t){if(t.R_||t.P_)throw new ta(Zo.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var eg=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),La(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ca(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(Na(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.jf(t.arrayValue,e);case 10:return this.Wf(t.mapValue,e);default:throw Bo()}},t.prototype.Wf=function(t,e){var n=this,r={};return Sa(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new up(Ca(t.latitude),Ca(t.longitude))},t.prototype.jf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=Da(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf($a(t));default:return null}},t.prototype.Bf=function(t){var e=Ia(t);return new ga(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=ma.ct(t);Wo(Al(n));var r=new sa(n.get(1),n.get(3)),i=new wa(n.X(5));return r.isEqual(e)||Vo("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),ng=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ep(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new rg(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(ig("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),rg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oo(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(ng);function ig(t,e){return"string"==typeof e?$p(t,e):e instanceof na?e._.d_:e.d_}function og(t){if(xs(t)&&0===t.Nt.length)throw new ta(Zo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ag=function(){};function sg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var ug=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Oo(e,t),e.prototype.Yf=function(t){var e=gp(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new ta(Zo.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){gg(a,o);for(var u=[],l=0,c=a;l<c.length;l++){var h=c[l];u.push(pg(r,t,h))}s={arrayValue:{values:u}}}else s=pg(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||gg(a,o),s=Ep(n,"where",a,"in"===o||"not-in"===o);var f=ss.create(i,o,s);return function(t,e){if(e.xt()){var n=Cs(t);if(null!==n&&!n.isEqual(e.field))throw new ta(Zo.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Is(t);null!==r&&vg(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new ta(Zo.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new ta(Zo.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new np(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new ks(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(ag),lg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Oo(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new ta(Zo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ta(Zo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ms(e,n);return function(t,e){if(null===Is(t)){var n=Cs(t);null!==n&&vg(t,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new np(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new ks(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(ag),cg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Oo(e,t),e.prototype.Yf=function(t){return new np(t.firestore,t.v_,$s(t.C_,this.nd,this.sd))},e}(ag),hg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Oo(e,t),e.prototype.Yf=function(t){var e=dg(t,this.type,this.rd,this.od);return new np(t.firestore,t.v_,function(t,e){return new ks(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(ag),fg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Oo(e,t),e.prototype.Yf=function(t){var e=dg(t,this.type,this.rd,this.od);return new np(t.firestore,t.v_,function(t,e){return new ks(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(ag);function dg(t,e,n,r){if(n[0]instanceof na&&(n[0]=n[0]._),n[0]instanceof ng)return function(t,e,n,r,i){if(!r)throw new ta(Zo.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=As(t);a<s.length;a++){var u=s[a];if(u.field.ht())o.push(Ua(e,r.key));else{var l=r.field(u.field);if(Aa(l))throw new ta(Zo.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=u.field.ot();throw new ta(Zo.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}o.push(l)}}return new vs(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=gp(t.firestore);return function(t,e,n,r,i,o){var a=t.Nt;if(i.length>a.length)throw new ta(Zo.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var l=i[u];if(a[u].field.ht()){if("string"!=typeof l)throw new ta(Zo.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!Ns(t)&&-1!==l.indexOf("/"))throw new ta(Zo.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var c=t.path.child(ma.ct(l));if(!wa.Et(c))throw new ta(Zo.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var h=new wa(c);s.push(Ua(e,h))}else{var f=Ep(n,r,l);s.push(f)}}return new vs(s,o)}(t.C_,t.firestore.I_,i,e,n,r)}function pg(t,e,n){if(n instanceof na&&(n=n._),"string"==typeof n){if(""===n)throw new ta(Zo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ns(e)&&-1!==n.indexOf("/"))throw new ta(Zo.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ma.ct(n));if(!wa.Et(r))throw new ta(Zo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ua(t,new wa(r))}if(n instanceof ep)return Ua(t,n.S_);throw new ta(Zo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Yd(n)+".")}function gg(t,e){if(!Array.isArray(t)||0===t.length)throw new ta(Zo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ta(Zo.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function vg(t,e,n){if(!n.isEqual(e))throw new ta(Zo.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function _g(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function mg(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var yg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Oo(e,t),e.prototype.Uf=function(t){return new ea(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new ep(this.firestore,null,e)},e}(eg),bg=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),wg=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this).zf=e,s.ad=e,s.metadata=o,s}return Oo(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new kg(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(ig("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(ng),kg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oo(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(wg),Sg=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new bg(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new kg(n.zf,n.Hf,r.key,r,new bg(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new ta(Zo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){var r=new kg(t.zf,t.Hf,e.doc.key,e.doc,new bg(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new kg(t.zf,t.Hf,e.doc.key,e.doc,new bg(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Tg(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.ld=e),this.hd},t}();function Tg(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bo()}}function Eg(t,e){return t instanceof wg&&e instanceof wg?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Sg&&e instanceof Sg&&t.zf===e.zf&&sp(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var xg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Oo(e,t),e.prototype.Uf=function(t){return new ea(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new ep(this.firestore,null,e)},e}(eg);function Ig(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Jd(t,ep);var o=Jd(t.firestore,Jp),a=gp(o);return e instanceof na&&(e=e._),Ng(o,[("string"==typeof e||e instanceof zd?Tp(a,"updateDoc",t.S_,e,n,r):Sp(a,"updateDoc",t.S_,e)).O_(t.S_,ru.exists(!0))])}function Cg(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof na&&(t=t._);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||_g(i[s])||(a=i[s],s++);var u,l,c,h={includeMetadataChanges:a.includeMetadataChanges};if(_g(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof ep)l=Jd(t.firestore,Jp),c=Ts(t.S_.path),u={next:function(e){i[s]&&i[s](Ag(l,t,e))},error:i[s+1],complete:i[s+2]};else{var d=Jd(t,np);l=Jd(d.firestore,Jp),c=d.C_;var p=new xg(l);u={next:function(t){i[s]&&i[s](new Sg(l,p,d,t))},error:i[s+1],complete:i[s+2]},og(t.C_)}return function(t,e,n,r){var i=this,o=new Vd(r),a=new Jf(e,o,n);return t.fs.ys((function(){return Mo(i,void 0,void 0,(function(){var e;return Lo(this,(function(n){switch(n.label){case 0:return e=Wf,[4,qp(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.r_(),t.fs.ys((function(){return Mo(i,void 0,void 0,(function(){var e;return Lo(this,(function(n){switch(n.label){case 0:return e=qf,[4,qp(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(Xp(l),c,h,u)}function Ng(t,e){return function(t,e){var n=this,r=new Dl;return t.fs.ys((function(){return Mo(n,void 0,void 0,(function(){var n;return Lo(this,(function(i){switch(i.label){case 0:return n=ld,[4,Wp(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Xp(t),e)}function Ag(t,e,n){var r=n.docs.get(e.S_),i=new xg(t);return new wg(t,i,e.S_,r,new bg(n.hasPendingWrites,n.fromCache),e.v_)}var Dg=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=gp(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=$g(t,this.zf),i=mg(r.v_,e,n),o=vp(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.O_(r.S_,ru.jt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,a=$g(t,this.zf);return e instanceof na&&(e=e._),o="string"==typeof e||e instanceof zd?Tp(this.wd,"WriteBatch.update",a.S_,e,n,r):Sp(this.wd,"WriteBatch.update",a.S_,e),this.fd.push(o.O_(a.S_,ru.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=$g(t,this.zf);return this.fd=this.fd.concat(new yu(e.S_,ru.jt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new ta(Zo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function $g(t,e){if(t instanceof na&&(t=t._),t.firestore!==e)throw new ta(Zo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Pg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Oo(e,t),e.prototype.get=function(e){var n=this,r=$g(e,this.zf),i=new xg(this.zf);return t.prototype.get.call(this,e).then((function(t){return new wg(n.zf,i,r.S_,t.Jf,new bg(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=gp(t)}return t.prototype.get=function(t){var e=this,n=$g(t,this.zf),r=new yg(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return Bo();var i=t[0];if(i instanceof ts)return new ng(e.zf,r,n.S_,null,n.v_);if(i instanceof Za)return new ng(e.zf,r,i.key,i,n.v_);throw Bo()}))},t.prototype.set=function(t,e,n){var r=$g(t,this.zf),i=mg(r.v_,e,n),o=vp(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=$g(t,this.zf);return e instanceof na&&(e=e._),o="string"==typeof e||e instanceof zd?Tp(this.wd,"Transaction.update",a.S_,e,n,r):Sp(this.wd,"Transaction.update",a.S_,e),this.Td.update(a.S_,o),this},t.prototype.delete=function(t){var e=$g(t,this.zf);return this.Td.delete(e.S_),this},t}()),Og=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){tg(t=Jd(t,Jp));var n=Xp(t),r=t.p_(),i=new Hd;return Zp(n,i,new jd(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){tg(t=Jd(t,Jp));var e=Xp(t),n=t.p_(),r=new Hd;return Zp(e,r,new Fd(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new ta(Zo.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Dl;return t.Mf.Tf((function(){return Mo(e,void 0,void 0,(function(){var e;return Lo(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Mo(this,void 0,void 0,(function(){var e;return Lo(this,(function(n){switch(n.label){case 0:return Ol.jn()?(e=t+"main",[4,Ol.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(gh(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),Mg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof sa||(i.md=e),i}return Oo(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Jd(t,tp)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&zo("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Mo(e,void 0,void 0,(function(){var e,n;return Lo(this,(function(r){switch(r.label){case 0:return[4,zp(t)];case 1:return e=r.sent(),[4,Bp(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=qo(t);return e.Oh.delete(0),mf(e)}(n))]}}))}))}))}(Xp(Jd(this._,Jp)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Mo(e,void 0,void 0,(function(){var e,n;return Lo(this,(function(r){switch(r.label){case 0:return[4,zp(t)];case 1:return e=r.sent(),[4,Bp(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Mo(this,void 0,void 0,(function(){var e;return Lo(this,(function(n){switch(n.label){case 0:return(e=qo(t)).Oh.add(0),[4,yf(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Xp(Jd(this._,Jp)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&qd("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Dl;return t.fs.ys((function(){return Mo(e,void 0,void 0,(function(){var e;return Lo(this,(function(r){switch(r.label){case 0:return e=gd,[4,Wp(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Xp(Jd(this._,Jp)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Vd(e);return t.fs.ys((function(){return Mo(n,void 0,void 0,(function(){var e;return Lo(this,(function(n){switch(n.label){case 0:return e=function(t,e){qo(t).Wh.add(e),e.next()},[4,qp(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return Mo(n,void 0,void 0,(function(){var e;return Lo(this,(function(n){switch(n.label){case 0:return e=function(t,e){qo(t).Wh.delete(e)},[4,qp(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Xp(t=Jd(t,Jp)),_g(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new ta(Zo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Kg(this,ip(this._,t))}catch(t){throw Hg(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Fg(this,op(this._,t))}catch(t){throw Hg(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Wg(this,function(t,e){if(t=Jd(t,tp),Bd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ta(Zo.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new np(t,null,function(t){return new ks(ma.at(),t)}(e))}(this._,t))}catch(t){throw Hg(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Dl;return t.fs.ys((function(){return Mo(n,void 0,void 0,(function(){var n;return Lo(this,(function(i){switch(i.label){case 0:return[4,function(t){return Vp(t).then((function(t){return t.Dh}))}(t)];case 1:return n=i.sent(),new Lp(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(Xp(t),(function(n){return e(new Pg(t,n))}))}(this._,(function(n){return t(new Rg(e,n))}))},e.prototype.batch=function(){var t=this;return Xp(this._),new jg(new Dg(this._,(function(e){return Ng(t._,e)})))},e.prototype.loadBundle=function(t){throw new ta(Zo.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new ta(Zo.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(na),Lg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Oo(e,t),e.prototype.Uf=function(t){return new oa(new ea(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return Fg.Ad(e,this.firestore,null)},e}(eg);var Rg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new Lg(e),r}return Oo(e,t),e.prototype.get=function(t){var e=this,n=Yg(t);return this._.get(n).then((function(t){return new Ug(e.zf,new wg(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=Yg(t);return n?(Wd("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Yg(t);return 2===arguments.length?this._.update(a,e):(r=this._).update.apply(r,Ro([a,e,n],i)),this},e.prototype.delete=function(t){var e=Yg(t);return this._.delete(e),this},e}(na),jg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oo(e,t),e.prototype.set=function(t,e,n){var r=Yg(t);return n?(Wd("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Yg(t);return 2===arguments.length?this._.update(a,e):(r=this._).update.apply(r,Ro([a,e,n],i)),this},e.prototype.delete=function(t){var e=Yg(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(na),Fg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Lg(e),r}return Oo(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new ta(Zo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new ep(n._,r,new wa(t)))},e.Ad=function(t,n,r){return new e(n,new ep(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Kg(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Kg(this.firestore,ip(this._,t))}catch(t){throw Hg(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof na&&(t=t._),t instanceof ep&&ap(this._,t)},e.prototype.set=function(t,e){e=Wd("DocumentReference.set",e);try{return function(t,e,n){t=Jd(t,ep);var r=Jd(t.firestore,Jp),i=mg(t.v_,e,n);return Ng(r,[vp(gp(r),"setDoc",t.S_,i,null!==t.v_,n).O_(t.S_,ru.jt())])}(this._,t,e)}catch(t){throw Hg(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Ig(this._,t):Ig.apply(void 0,Ro([this._,t,e],n))}catch(t){throw Hg(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Ng(Jd((t=this._).firestore,Jp),[new yu(t.S_,ru.jt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Vg(e),i=zg(e,(function(e){return new Ug(t.firestore,new wg(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return Cg(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Jd(t,ep);var e=Jd(t.firestore,Jp),n=Xp(e),r=new xg(e);return function(t,e){var n=this,r=new Dl;return t.fs.ys((function(){return Mo(n,void 0,void 0,(function(){var n;return Lo(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Mo(this,void 0,void 0,(function(){var r,i;return Lo(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=qo(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof Za?n.resolve(i):i instanceof ts?n.resolve(null):n.reject(new ta(Zo.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Ul(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Up(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new wg(e,r,t.S_,n,new bg(n instanceof Za&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Jd(t,ep);var e=Jd(t.firestore,Jp);return Gp(Xp(e),t.S_,{source:"server"}).then((function(n){return Ag(e,t,n)}))}(this._):function(t){t=Jd(t,ep);var e=Jd(t.firestore,Jp);return Gp(Xp(e),t.S_).then((function(n){return Ag(e,t,n)}))}(this._)).then((function(t){return new Ug(e.firestore,new wg(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(na);function Hg(t,e,n){return t.message=t.message.replace(e,n),t}function Vg(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!_g(r))return r}return{}}function zg(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=_g(t[0])?t[0]:_g(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ug=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Oo(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Fg(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return Eg(this._,t._)},e}(na),Bg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oo(e,t),e.prototype.data=function(t){return this._.data(t)},e}(Ug),Wg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Lg(e),r}return Oo(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,sg(this._,function(t,e,n){var r=e,i=ig("where",t);return new ug(i,r,n)}(t,n,r)))}catch(t){throw Hg(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,sg(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=ig("orderBy",t);return new lg(r,n)}(t,n)))}catch(t){throw Hg(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,sg(this._,function(t){return Xd("limit",t),new cg("limit",t,"F")}(t)))}catch(t){throw Hg(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,sg(this._,function(t){return Xd("limitToLast",t),new cg("limitToLast",t,"L")}(t)))}catch(t){throw Hg(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,sg(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hg("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw Hg(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,sg(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hg("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw Hg(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,sg(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fg("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw Hg(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,sg(this._,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fg("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw Hg(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return sp(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Jd(t,np);var e=Jd(t.firestore,Jp),n=Xp(e),r=new xg(e);return function(t,e){var n=this,r=new Dl;return t.fs.ys((function(){return Mo(n,void 0,void 0,(function(){var n;return Lo(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Mo(this,void 0,void 0,(function(){var r,i,o,a,s;return Lo(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Ah(t,e,!0)];case 1:return s=u.sent(),r=new nd(e,s.Pc),i=r.dl(s.documents),o=r.Ei(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Ul(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,Up(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new Sg(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Jd(t,np);var e=Jd(t.firestore,Jp),n=Xp(e),r=new xg(e);return Kp(n,t.C_,{source:"server"}).then((function(n){return new Sg(e,r,t,n)}))}(this._):function(t){t=Jd(t,np);var e=Jd(t.firestore,Jp),n=Xp(e),r=new xg(e);return og(t.C_),Kp(n,t.C_).then((function(n){return new Sg(e,r,t,n)}))}(this._)).then((function(t){return new Gg(e.firestore,new Sg(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Vg(e),i=zg(e,(function(e){return new Gg(t.firestore,new Sg(t.firestore._,t.Hf,t._,e.ud))}));return Cg(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(na),qg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Oo(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Bg(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(na),Gg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Oo(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Wg(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new Bg(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new qg(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new Bg(n.zf,r))}))},e.prototype.isEqual=function(t){return Eg(this._,t._)},e}(na),Kg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Oo(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new Fg(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Fg(this.firestore,void 0===t?op(this._):op(this._,t))}catch(t){throw Hg(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Jd(t.firestore,Jp),r=op(t),i=mg(t.v_,e);return Ng(n,[vp(gp(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).O_(r.S_,ru.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new Fg(e.firestore,t)}))},e.prototype.isEqual=function(t){return ap(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Wg);function Yg(t){return t instanceof na&&(t=t._),Jd(t,ep)}var Jg=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(zd.bind.apply(zd,Ro([void 0],e))))||this}return Oo(e,t),e.documentId=function(){return new e(ba.lt().ot())},e.prototype.isEqual=function(t){return t instanceof na&&(t=t._),t instanceof zd&&this._.d_.isEqual(t.d_)},e}(na),Xg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oo(e,t),e.serverTimestamp=function(){var t=new yp("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new _p("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bp("arrayUnion",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wp("arrayRemove",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new kp("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(na);!function(){function t(){this.Pd={},this.yd=new Dl,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.jl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var Qg,Zg={Firestore:Mg,GeoPoint:up,Timestamp:ga,Blob:oa,Transaction:Rg,WriteBatch:jg,DocumentReference:Fg,DocumentSnapshot:Ug,Query:Wg,QueryDocumentSnapshot:Bg,QuerySnapshot:Gg,CollectionReference:Kg,FieldPath:Jg,FieldValue:Xg,setLogLevel:function(t){var e;e=t,jo.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Yt("firestore",(function(t){return function(t,e){return new Mg(t,new Jp(t,e),new Og)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Zg)))})(Qg=Te),Qg.registerVersion("@firebase/firestore","2.1.2");Te.initializeApp({apiKey:"AIzaSyC2x1b5l4yytm4fGPpMA9f36MawStHdYkE",authDomain:"callen-dar-ccvq.firebaseapp.com",projectId:"callen-dar-ccvq",storageBucket:"callen-dar-ccvq.appspot.com",messagingSenderId:"840225438585",appId:"1:840225438585:web:8809d2e10e3d7f15910da8",measurementId:"G-LGPZ1B7KFP"});var tv=Te.firestore(),ev=(Te.auth(),n(375)),nv=n(184);function rv(t){return String(t.getDate()).padStart(2,"0")+"/"+String(t.getMonth()+1).padStart(2,"0")+"/"+t.getFullYear()}function iv(t){return String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0")+":"+String(t.getSeconds()).padStart(2,"0")}function ov(t){var e=new Date;if(rv(t)==rv(e))return"today"}var av=function(t){s(n,t);var e=h(n);function n(t){return r(this,n),e.call(this,t)}return o(n,[{key:"initZoom",value:function(){ev.gantt.ext.zoom.init({levels:[{name:"Days",scales:[{unit:"month",step:1,format:"%F"},{unit:"day",step:1,format:"%j, %D",css:ov}]},{name:"Months",scales:[{unit:"year",step:1,format:"%Y"},{unit:"month",step:1,format:"%M"}]},{name:"Years",scales:[{unit:"year",step:1,format:"%Y"}]}]})}},{key:"setZoom",value:function(t){ev.gantt.$initialized||this.initZoom(),ev.gantt.ext.zoom.setLevel(t),localStorage.setItem("zoomMode",t)}},{key:"setClickingNavigation",value:function(){var t=this.props,e=t.tasks,n=t.zoom,r=t.history;ev.gantt._myClickHandler&&ev.gantt.detachEvent(ev.gantt._myClickHandler),ev.gantt._myClickHandler=ev.gantt.attachEvent("onTaskClick",(function(t,i){localStorage.setItem("zoomMode",n),localStorage.setItem("projectID",t),localStorage.setItem("projects_and_tasks",JSON.stringify(e)),r.push({pathname:"/task"})}))}},{key:"shouldComponentUpdate",value:function(t){return this.props.zoom!==t.zoom}},{key:"componentDidUpdate",value:function(){ev.gantt.render();var t=new Date,e=ev.gantt.posFromDate(t);ev.gantt.scrollTo(e)}},{key:"componentDidMount",value:function(){ev.gantt.config.date_format="%Y-%m-%d %H:%i:%s",ev.gantt.config.columns=[],ev.gantt.config.show_task_cells=!1,ev.gantt.config.drag_progress=!1,ev.gantt.config.drag_links=!1;var t=this.props.tasks,e=new Date,n=ev.gantt.posFromDate(e);ev.gantt.scrollTo(n),ev.gantt.templates.scale_cell_class=function(t){if(rv(t)==rv(e))return"today"},ev.gantt.plugins({marker:!0});var r=ev.gantt.addMarker({start_date:e,css:"today_marker",title:iv(e)});setInterval((function(){var t=ev.gantt.getMarker(r);t.start_date=new Date,t.title=iv(t.start_date),ev.gantt.updateMarker(r)}),1e3),ev.gantt.templates.task_text=function(t,e,n){return"project"==n.type?"<b>"+n.text+"</b>":"<b>"+n.users+" - "+n.text+"</b>"},ev.gantt.templates.rightside_text=function(t,n,r){return n-e<=0?"":'<div style = "background-color: gray; padding: 0 5px; color: white; border-radius: 20px; height : 70%; display: flex; align-items: center; margin-left: -15px; margin-top: 5px">'+function(t,e){var n=Math.floor((e-t)/864e5),r=Math.floor((e-t)%864e5/36e5);return 0==r?String(n)+"d":String(n)+"d"+String(r)+"h"}(e,n)+"</div>"},ev.gantt.attachEvent("onBeforeTaskDisplay",(function(t,e){return!e.parent})),ev.gantt.init(this.ganttContainer),ev.gantt.parse(t)}},{key:"render",value:function(){var t=this,e=this.props.zoom;return this.setZoom(e),this.setClickingNavigation(),(0,nv.jsx)("div",{ref:function(e){t.ganttContainer=e},style:{width:"100%",height:"100%"}})}}]),n}(t.Component),sv=ft(av),uv=ft(sv),lv=function(t){s(n,t);var e=h(n);function n(){var t;r(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).handleZoomChange=function(e){t.props.onZoomChange&&t.props.onZoomChange(e.target.value)},t}return o(n,[{key:"render",value:function(){var t=this,e=["Days","Months","Years"].map((function(e){var n=t.props.zoom===e;return(0,nv.jsxs)("label",{className:"radio-label ".concat(n?"radio-label-active":""),children:[(0,nv.jsx)("input",{type:"radio",checked:n,onChange:t.handleZoomChange,value:e}),e]},e)}));return(0,nv.jsxs)("div",{className:"tool-bar",children:[(0,nv.jsx)("b",{children:"Zoom: "}),e]})}}]),n}(t.Component),cv=lv,hv={main:"#4dabf6",light:"#82c5fa",disable:"#c8e4fc"},fv={main:"#885efe",light:"#ab90fd",disable:"#d8cdfe"},dv={main:"#feb25b",light:"#fdca8b",disable:"#ffe7cc"},pv={main:"#14C773",light:"#5DD99D",disable:"#B8EED4"},gv={main:"#ED5CA1",light:"#F18EBD",disable:"#F8CDE1"},vv={main:"#FF7D53",light:"#FFA58A",disable:"#FED6CA"},_v=function(t){return t?"tech"===(e=t[0])?hv.main:"content"===e?fv.main:"pr"===e?dv.main:"log"===e?pv.main:"mc"===e?gv.main:"er"===e?vv.main:void 0:"blue";var e},mv=ft((function(){var e=Et((0,t.useState)(localStorage.getItem("zoomMode")||"Days"),2),n=e[0],r=e[1],i=Et((0,t.useState)([]),2),o=i[0],a=i[1],s=function(t){return function(t){var e=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0");return t.getFullYear()+"-"+n+"-"+e}(t)+" "+function(t){return String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0")+":"+String(t.getSeconds()).padStart(2,"0")}(t)};return(0,t.useEffect)((function(){console.log()}),[o]),(0,t.useEffect)((function(){tv.collection("projects").get().then((function(t){t.forEach((function(t){a((function(e){return[].concat(Tt(e),[{id:t.id,text:t.data().name,type:"project",open:!0,color:_v(t.data().team)}])}))}))})),tv.collection("tasks").get().then((function(t){t.forEach((function(t){a((function(e){return[].concat(Tt(e),[{id:t.id,text:t.data().name,start_date:s(new Date(t.data().start.toDate())),end_date:s(new Date(t.data().end.toDate())),parent:t.data().pID,color:_v(t.data().team)}])}))}))}))}),[]),(0,nv.jsxs)("div",{children:[(0,nv.jsx)("div",{className:"zoom-bar",children:(0,nv.jsx)(cv,{zoom:n,onZoomChange:function(t){r(t)}})}),(0,nv.jsx)("div",{className:"gantt-project-container",children:0!==o.length&&(0,nv.jsx)(uv,{tasks:{data:o},zoom:n})})]})}));function yv(t){return String(t.getDate()).padStart(2,"0")+"/"+String(t.getMonth()+1).padStart(2,"0")+"/"+t.getFullYear()}function bv(t){return String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0")+":"+String(t.getSeconds()).padStart(2,"0")}function wv(t){var e=new Date;if(yv(t)==yv(e))return"today"}var kv=function(t){s(n,t);var e=h(n);function n(){return r(this,n),e.apply(this,arguments)}return o(n,[{key:"initZoom",value:function(){ev.gantt.ext.zoom.init({levels:[{name:"Days",scales:[{unit:"month",step:1,format:"%F"},{unit:"day",step:1,format:"%j, %D",css:wv}]},{name:"Months",scales:[{unit:"year",step:1,format:"%Y"},{unit:"month",step:1,format:"%M"}]},{name:"Years",scales:[{unit:"year",step:1,format:"%Y"}]}]})}},{key:"setZoom",value:function(t){ev.gantt.$initialized||this.initZoom(),ev.gantt.ext.zoom.setLevel(t)}},{key:"shouldComponentUpdate",value:function(t){return this.props.zoom!==t.zoom}},{key:"componentDidUpdate",value:function(){ev.gantt.render();var t=new Date,e=ev.gantt.posFromDate(t);ev.gantt.scrollTo(e)}},{key:"componentDidMount",value:function(){ev.gantt.config.date_format="%Y-%m-%d %H:%i:%s",ev.gantt.config.columns=[],ev.gantt.config.show_task_cells=!1,ev.gantt.config.drag_progress=!1,ev.gantt.config.drag_links=!1;var t=this.props,e=t.tasks,n=t.projectID,r=new Date,i=ev.gantt.posFromDate(r);ev.gantt.scrollTo(i),ev.gantt.templates.scale_cell_class=function(t){if(yv(t)==yv(r))return"today"},ev.gantt.plugins({marker:!0});var o=ev.gantt.addMarker({start_date:r,css:"today_marker",title:bv(r)});setInterval((function(){var t=ev.gantt.getMarker(o);t.start_date=new Date,t.title=bv(t.start_date),ev.gantt.updateMarker(o)}),1e3),ev.gantt.templates.task_text=function(t,e,n){return n.type,"<b>"+n.text+"</b>"},ev.gantt.templates.rightside_text=function(t,e,n){return e-r<=0?"":'<div style = "background-color: gray; padding: 0 5px; color: white; border-radius: 20px; height : 70%; display: flex; align-items: center; margin-left: -15px; margin-top: 5px">'+function(t,e){var n=Math.floor((e-t)/864e5),r=Math.floor((e-t)%864e5/36e5);return 0==r?String(n)+"d":String(n)+"d"+String(r)+"h"}(r,e)+"</div>"},ev.gantt._myClickHandler&&ev.gantt.detachEvent(ev.gantt._myClickHandler),ev.gantt.attachEvent("onBeforeTaskDisplay",(function(t,e){return!ev.gantt.hasChild(t)&&ev.gantt.getParent(t)==n})),ev.gantt.init(this.ganttContainer),ev.gantt.parse(e)}},{key:"render",value:function(){var t=this,e=this.props.zoom;return this.setZoom(e),(0,nv.jsx)("div",{ref:function(e){t.ganttContainer=e},style:{width:"100%",height:"100%"}})}}]),n}(t.Component),Sv=ft(kv),Tv=ft(Sv);var Ev=function(t){s(n,t);var e=h(n);function n(){var t;r(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).state={currentZoom:"Days"},t.handleZoomChange=function(e){t.setState({currentZoom:e})},t}return o(n,[{key:"convertISOString",value:function(t){var e=new Date(t);return function(t){var e=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0");return t.getFullYear()+"-"+n+"-"+e}(e)+" "+function(t){return String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0")+":"+String(t.getSeconds()).padStart(2,"0")}(e)}},{key:"getTasks",value:function(){var t,e=JSON.parse(localStorage.getItem("projects_and_tasks")),n=function(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=St(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(e.data);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.hasOwnProperty("start_date")&&(r.start_date=this.convertISOString(r.start_date)),r.hasOwnProperty("end_date")&&(r.end_date=this.convertISOString(r.end_date))}}catch(i){n.e(i)}finally{n.f()}return console.log(e),e}},{key:"render",value:function(){var t=this.state.currentZoom;return(0,nv.jsxs)("div",{children:[(0,nv.jsx)("div",{className:"zoom-bar",children:(0,nv.jsx)(cv,{zoom:t,onZoomChange:this.handleZoomChange})}),(0,nv.jsx)("div",{className:"gantt-task-container",children:(0,nv.jsx)(Tv,{tasks:this.getTasks(),projectID:localStorage.getItem("projectID"),zoom:t})})]})}}]),n}(t.Component),xv=ft(Ev),Iv=function(t){s(n,t);var e=h(n);function n(){return r(this,n),e.apply(this,arguments)}return o(n,[{key:"render",value:function(){return window.onpopstate=function(){window.location.reload()},(0,nv.jsx)(dt,{forceRefresh:!0,children:(0,nv.jsxs)(ht,{children:[(0,nv.jsx)(ot,{exact:!0,path:"/",component:mv}),(0,nv.jsx)(ot,{path:"/task",component:xv})]})})}}]),n}(t.Component),Cv=Iv,Nv=function(t){t&&t instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),r(t),i(t),o(t),a(t)}))};e.createRoot(document.getElementById("root")).render((0,nv.jsx)(t.StrictMode,{children:(0,nv.jsx)(Cv,{})})),Nv()}()}();
//# sourceMappingURL=main.543ffc03.js.map